(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function Ix(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Xm={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m_;function Dx(){if(m_)return au;m_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:n,type:s,key:c,ref:a!==void 0?a:null,props:l}}return au.Fragment=e,au.jsx=t,au.jsxs=t,au}var p_;function Ox(){return p_||(p_=1,Xm.exports=Dx()),Xm.exports}var b=Ox(),Wm={exports:{}},Be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function Mx(){if(g_)return Be;g_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function S(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,B={};function k(L,oe,pe){this.props=L,this.context=oe,this.refs=B,this.updater=pe||M}k.prototype.isReactComponent={},k.prototype.setState=function(L,oe){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,oe,"setState")},k.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function G(){}G.prototype=k.prototype;function X(L,oe,pe){this.props=L,this.context=oe,this.refs=B,this.updater=pe||M}var K=X.prototype=new G;K.constructor=X,N(K,k.prototype),K.isPureReactComponent=!0;var de=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},be=Object.prototype.hasOwnProperty;function V(L,oe,pe,he,Se,ze){return pe=ze.ref,{$$typeof:n,type:L,key:oe,ref:pe!==void 0?pe:null,props:ze}}function C(L,oe){return V(L.type,oe,void 0,void 0,void 0,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function x(L){var oe={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(pe){return oe[pe]})}var O=/\/+/g;function P(L,oe){return typeof L=="object"&&L!==null&&L.key!=null?x(""+L.key):oe.toString(36)}function R(){}function Ae(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(R,R):(L.status="pending",L.then(function(oe){L.status==="pending"&&(L.status="fulfilled",L.value=oe)},function(oe){L.status==="pending"&&(L.status="rejected",L.reason=oe)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function je(L,oe,pe,he,Se){var ze=typeof L;(ze==="undefined"||ze==="boolean")&&(L=null);var Oe=!1;if(L===null)Oe=!0;else switch(ze){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(L.$$typeof){case n:case e:Oe=!0;break;case v:return Oe=L._init,je(Oe(L._payload),oe,pe,he,Se)}}if(Oe)return Se=Se(L),Oe=he===""?"."+P(L,0):he,de(Se)?(pe="",Oe!=null&&(pe=Oe.replace(O,"$&/")+"/"),je(Se,oe,pe,"",function(wn){return wn})):Se!=null&&(I(Se)&&(Se=C(Se,pe+(Se.key==null||L&&L.key===Se.key?"":(""+Se.key).replace(O,"$&/")+"/")+Oe)),oe.push(Se)),1;Oe=0;var St=he===""?".":he+":";if(de(L))for(var at=0;at<L.length;at++)he=L[at],ze=St+P(he,at),Oe+=je(he,oe,pe,ze,Se);else if(at=S(L),typeof at=="function")for(L=at.call(L),at=0;!(he=L.next()).done;)he=he.value,ze=St+P(he,at++),Oe+=je(he,oe,pe,ze,Se);else if(ze==="object"){if(typeof L.then=="function")return je(Ae(L),oe,pe,he,Se);throw oe=String(L),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function J(L,oe,pe){if(L==null)return L;var he=[],Se=0;return je(L,he,"","",function(ze){return oe.call(pe,ze,Se++)}),he}function fe(L){if(L._status===-1){var oe=L._result;oe=oe(),oe.then(function(pe){(L._status===0||L._status===-1)&&(L._status=1,L._result=pe)},function(pe){(L._status===0||L._status===-1)&&(L._status=2,L._result=pe)}),L._status===-1&&(L._status=0,L._result=oe)}if(L._status===1)return L._result.default;throw L._result}var _e=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function Ge(){}return Be.Children={map:J,forEach:function(L,oe,pe){J(L,function(){oe.apply(this,arguments)},pe)},count:function(L){var oe=0;return J(L,function(){oe++}),oe},toArray:function(L){return J(L,function(oe){return oe})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Be.Component=k,Be.Fragment=t,Be.Profiler=a,Be.PureComponent=X,Be.StrictMode=s,Be.Suspense=p,Be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Be.__COMPILER_RUNTIME={__proto__:null,c:function(L){return le.H.useMemoCache(L)}},Be.cache=function(L){return function(){return L.apply(null,arguments)}},Be.cloneElement=function(L,oe,pe){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var he=N({},L.props),Se=L.key,ze=void 0;if(oe!=null)for(Oe in oe.ref!==void 0&&(ze=void 0),oe.key!==void 0&&(Se=""+oe.key),oe)!be.call(oe,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&oe.ref===void 0||(he[Oe]=oe[Oe]);var Oe=arguments.length-2;if(Oe===1)he.children=pe;else if(1<Oe){for(var St=Array(Oe),at=0;at<Oe;at++)St[at]=arguments[at+2];he.children=St}return V(L.type,Se,void 0,void 0,ze,he)},Be.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:l,_context:L},L},Be.createElement=function(L,oe,pe){var he,Se={},ze=null;if(oe!=null)for(he in oe.key!==void 0&&(ze=""+oe.key),oe)be.call(oe,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Se[he]=oe[he]);var Oe=arguments.length-2;if(Oe===1)Se.children=pe;else if(1<Oe){for(var St=Array(Oe),at=0;at<Oe;at++)St[at]=arguments[at+2];Se.children=St}if(L&&L.defaultProps)for(he in Oe=L.defaultProps,Oe)Se[he]===void 0&&(Se[he]=Oe[he]);return V(L,ze,void 0,void 0,null,Se)},Be.createRef=function(){return{current:null}},Be.forwardRef=function(L){return{$$typeof:d,render:L}},Be.isValidElement=I,Be.lazy=function(L){return{$$typeof:v,_payload:{_status:-1,_result:L},_init:fe}},Be.memo=function(L,oe){return{$$typeof:g,type:L,compare:oe===void 0?null:oe}},Be.startTransition=function(L){var oe=le.T,pe={};le.T=pe;try{var he=L(),Se=le.S;Se!==null&&Se(pe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Ge,_e)}catch(ze){_e(ze)}finally{le.T=oe}},Be.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Be.use=function(L){return le.H.use(L)},Be.useActionState=function(L,oe,pe){return le.H.useActionState(L,oe,pe)},Be.useCallback=function(L,oe){return le.H.useCallback(L,oe)},Be.useContext=function(L){return le.H.useContext(L)},Be.useDebugValue=function(){},Be.useDeferredValue=function(L,oe){return le.H.useDeferredValue(L,oe)},Be.useEffect=function(L,oe,pe){var he=le.H;if(typeof pe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(L,oe)},Be.useId=function(){return le.H.useId()},Be.useImperativeHandle=function(L,oe,pe){return le.H.useImperativeHandle(L,oe,pe)},Be.useInsertionEffect=function(L,oe){return le.H.useInsertionEffect(L,oe)},Be.useLayoutEffect=function(L,oe){return le.H.useLayoutEffect(L,oe)},Be.useMemo=function(L,oe){return le.H.useMemo(L,oe)},Be.useOptimistic=function(L,oe){return le.H.useOptimistic(L,oe)},Be.useReducer=function(L,oe,pe){return le.H.useReducer(L,oe,pe)},Be.useRef=function(L){return le.H.useRef(L)},Be.useState=function(L){return le.H.useState(L)},Be.useSyncExternalStore=function(L,oe,pe){return le.H.useSyncExternalStore(L,oe,pe)},Be.useTransition=function(){return le.H.useTransition()},Be.version="19.1.0",Be}var y_;function tg(){return y_||(y_=1,Wm.exports=Mx()),Wm.exports}var z=tg();const er=Ix(z);var Zm={exports:{}},ou={},Jm={exports:{}},ep={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v_;function kx(){return v_||(v_=1,function(n){function e(J,fe){var _e=J.length;J.push(fe);e:for(;0<_e;){var Ge=_e-1>>>1,L=J[Ge];if(0<a(L,fe))J[Ge]=fe,J[_e]=L,_e=Ge;else break e}}function t(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var fe=J[0],_e=J.pop();if(_e!==fe){J[0]=_e;e:for(var Ge=0,L=J.length,oe=L>>>1;Ge<oe;){var pe=2*(Ge+1)-1,he=J[pe],Se=pe+1,ze=J[Se];if(0>a(he,_e))Se<L&&0>a(ze,he)?(J[Ge]=ze,J[Se]=_e,Ge=Se):(J[Ge]=he,J[pe]=_e,Ge=pe);else if(Se<L&&0>a(ze,_e))J[Ge]=ze,J[Se]=_e,Ge=Se;else break e}}return fe}function a(J,fe){var _e=J.sortIndex-fe.sortIndex;return _e!==0?_e:J.id-fe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,T=null,S=3,M=!1,N=!1,B=!1,k=!1,G=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function de(J){for(var fe=t(g);fe!==null;){if(fe.callback===null)s(g);else if(fe.startTime<=J)s(g),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(g)}}function le(J){if(B=!1,de(J),!N)if(t(p)!==null)N=!0,be||(be=!0,P());else{var fe=t(g);fe!==null&&je(le,fe.startTime-J)}}var be=!1,V=-1,C=5,I=-1;function x(){return k?!0:!(n.unstable_now()-I<C)}function O(){if(k=!1,be){var J=n.unstable_now();I=J;var fe=!0;try{e:{N=!1,B&&(B=!1,X(V),V=-1),M=!0;var _e=S;try{t:{for(de(J),T=t(p);T!==null&&!(T.expirationTime>J&&x());){var Ge=T.callback;if(typeof Ge=="function"){T.callback=null,S=T.priorityLevel;var L=Ge(T.expirationTime<=J);if(J=n.unstable_now(),typeof L=="function"){T.callback=L,de(J),fe=!0;break t}T===t(p)&&s(p),de(J)}else s(p);T=t(p)}if(T!==null)fe=!0;else{var oe=t(g);oe!==null&&je(le,oe.startTime-J),fe=!1}}break e}finally{T=null,S=_e,M=!1}fe=void 0}}finally{fe?P():be=!1}}}var P;if(typeof K=="function")P=function(){K(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ae=R.port2;R.port1.onmessage=O,P=function(){Ae.postMessage(null)}}else P=function(){G(O,0)};function je(J,fe){V=G(function(){J(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(J){switch(S){case 1:case 2:case 3:var fe=3;break;default:fe=S}var _e=S;S=fe;try{return J()}finally{S=_e}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var _e=S;S=J;try{return fe()}finally{S=_e}},n.unstable_scheduleCallback=function(J,fe,_e){var Ge=n.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ge+_e:Ge):_e=Ge,J){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=_e+L,J={id:v++,callback:fe,priorityLevel:J,startTime:_e,expirationTime:L,sortIndex:-1},_e>Ge?(J.sortIndex=_e,e(g,J),t(p)===null&&J===t(g)&&(B?(X(V),V=-1):B=!0,je(le,_e-Ge))):(J.sortIndex=L,e(p,J),N||M||(N=!0,be||(be=!0,P()))),J},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(J){var fe=S;return function(){var _e=S;S=fe;try{return J.apply(this,arguments)}finally{S=_e}}}}(ep)),ep}var __;function Vx(){return __||(__=1,Jm.exports=kx()),Jm.exports}var tp={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E_;function Px(){if(E_)return un;E_=1;var n=tg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,un.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},un.flushSync=function(p){var g=c.T,v=s.p;try{if(c.T=null,s.p=2,p)return p()}finally{c.T=g,s.p=v,s.d.f()}},un.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},un.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},un.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:M}):v==="script"&&s.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},un.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},un.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=d(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},un.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},un.requestFormReset=function(p){s.d.r(p)},un.unstable_batchedUpdates=function(p,g){return p(g)},un.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},un.useFormStatus=function(){return c.H.useHostTransitionStatus()},un.version="19.1.0",un}var b_;function Ux(){if(b_)return tp.exports;b_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),tp.exports=Px(),tp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function Lx(){if(T_)return ou;T_=1;var n=Vx(),e=tg(),t=Ux();function s(r){var i="https://react.dev/errors/"+r;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var i=r,o=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(o=i.return),r=i.return;while(r)}return i.tag===3?o:null}function c(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function d(r){if(l(r)!==r)throw Error(s(188))}function p(r){var i=r.alternate;if(!i){if(i=l(r),i===null)throw Error(s(188));return i!==r?null:r}for(var o=r,u=i;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return d(f),r;if(m===u)return d(f),i;m=m.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=m;else{for(var E=!1,w=f.child;w;){if(w===o){E=!0,o=f,u=m;break}if(w===u){E=!0,u=f,o=m;break}w=w.sibling}if(!E){for(w=m.child;w;){if(w===o){E=!0,o=m,u=f;break}if(w===u){E=!0,u=m,o=f;break}w=w.sibling}if(!E)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:i}function g(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r;for(r=r.child;r!==null;){if(i=g(r),i!==null)return i;r=r.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),K=Symbol.for("react.context"),de=Symbol.for("react.forward_ref"),le=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function P(r){return r===null||typeof r!="object"?null:(r=O&&r[O]||r["@@iterator"],typeof r=="function"?r:null)}var R=Symbol.for("react.client.reference");function Ae(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===R?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case N:return"Fragment";case k:return"Profiler";case B:return"StrictMode";case le:return"Suspense";case be:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case M:return"Portal";case K:return(r.displayName||"Context")+".Provider";case X:return(r._context.displayName||"Context")+".Consumer";case de:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case V:return i=r.displayName||null,i!==null?i:Ae(r.type)||"Memo";case C:i=r._payload,r=r._init;try{return Ae(r(i))}catch{}}return null}var je=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ge=[],L=-1;function oe(r){return{current:r}}function pe(r){0>L||(r.current=Ge[L],Ge[L]=null,L--)}function he(r,i){L++,Ge[L]=r.current,r.current=i}var Se=oe(null),ze=oe(null),Oe=oe(null),St=oe(null);function at(r,i){switch(he(Oe,i),he(ze,r),he(Se,null),i.nodeType){case 9:case 11:r=(r=i.documentElement)&&(r=r.namespaceURI)?F0(r):0;break;default:if(r=i.tagName,i=i.namespaceURI)i=F0(i),r=q0(i,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}pe(Se),he(Se,r)}function wn(){pe(Se),pe(ze),pe(Oe)}function ir(r){r.memoizedState!==null&&he(St,r);var i=Se.current,o=q0(i,r.type);i!==o&&(he(ze,r),he(Se,o))}function In(r){ze.current===r&&(pe(Se),pe(ze)),St.current===r&&(pe(St),tu._currentValue=_e)}var vr=Object.prototype.hasOwnProperty,Yr=n.unstable_scheduleCallback,_r=n.unstable_cancelCallback,Ps=n.unstable_shouldYield,Us=n.unstable_requestPaint,gn=n.unstable_now,tl=n.unstable_getCurrentPriorityLevel,Ls=n.unstable_ImmediatePriority,js=n.unstable_UserBlockingPriority,Er=n.unstable_NormalPriority,U=n.unstable_LowPriority,Q=n.unstable_IdlePriority,te=n.log,ye=n.unstable_setDisableYieldValue,ue=null,ie=null;function ge(r){if(typeof te=="function"&&ye(r),ie&&typeof ie.setStrictMode=="function")try{ie.setStrictMode(ue,r)}catch{}}var Ie=Math.clz32?Math.clz32:Xr,dt=Math.log,It=Math.LN2;function Xr(r){return r>>>=0,r===0?32:31-(dt(r)/It|0)|0}var sr=256,ar=4194304;function Dn(r){var i=r&42;if(i!==0)return i;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Wr(r,i,o){var u=r.pendingLanes;if(u===0)return 0;var f=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var w=u&134217727;return w!==0?(u=w&~m,u!==0?f=Dn(u):(E&=w,E!==0?f=Dn(E):o||(o=w&~r,o!==0&&(f=Dn(o))))):(w=u&~m,w!==0?f=Dn(w):E!==0?f=Dn(E):o||(o=u&~r,o!==0&&(f=Dn(o)))),f===0?0:i!==0&&i!==f&&(i&m)===0&&(m=f&-f,o=i&-i,m>=o||m===32&&(o&4194048)!==0)?i:f}function Zr(r,i){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&i)===0}function zi(r,i){switch(r){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nl(){var r=sr;return sr<<=1,(sr&4194048)===0&&(sr=256),r}function rl(){var r=ar;return ar<<=1,(ar&62914560)===0&&(ar=4194304),r}function Jr(r){for(var i=[],o=0;31>o;o++)i.push(r);return i}function ei(r,i){r.pendingLanes|=i,i!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function il(r,i,o,u,f,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var w=r.entanglements,D=r.expirationTimes,$=r.hiddenUpdates;for(o=E&~o;0<o;){var ne=31-Ie(o),se=1<<ne;w[ne]=0,D[ne]=-1;var Y=$[ne];if(Y!==null)for($[ne]=null,ne=0;ne<Y.length;ne++){var W=Y[ne];W!==null&&(W.lane&=-536870913)}o&=~se}u!==0&&br(r,u,0),m!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~i))}function br(r,i,o){r.pendingLanes|=i,r.suspendedLanes&=~i;var u=31-Ie(i);r.entangledLanes|=i,r.entanglements[u]=r.entanglements[u]|1073741824|o&4194090}function sl(r,i){var o=r.entangledLanes|=i;for(r=r.entanglements;o;){var u=31-Ie(o),f=1<<u;f&i|r[u]&i&&(r[u]|=i),o&=~f}}function Bi(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ua(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Fi(){var r=fe.p;return r!==0?r:(r=window.event,r===void 0?32:l_(r.type))}function ic(r,i){var o=fe.p;try{return fe.p=r,i()}finally{fe.p=o}}var pt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+pt,Dt="__reactProps$"+pt,Fn="__reactContainer$"+pt,al="__reactEvents$"+pt,Jf="__reactListeners$"+pt,qi="__reactHandles$"+pt,sc="__reactResources$"+pt,zs="__reactMarker$"+pt;function Hi(r){delete r[Ut],delete r[Dt],delete r[al],delete r[Jf],delete r[qi]}function ti(r){var i=r[Ut];if(i)return i;for(var o=r.parentNode;o;){if(i=o[Fn]||o[Ut]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(r=K0(r);r!==null;){if(o=r[Ut])return o;r=K0(r)}return i}r=o,o=r.parentNode}return null}function Tr(r){if(r=r[Ut]||r[Fn]){var i=r.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return r}return null}function wr(r){var i=r.tag;if(i===5||i===26||i===27||i===6)return r.stateNode;throw Error(s(33))}function yn(r){var i=r[sc];return i||(i=r[sc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(r){r[zs]=!0}var ol=new Set,La={};function or(r,i){ni(r,i),ni(r+"Capture",i)}function ni(r,i){for(La[r]=i,r=0;r<i.length;r++)ol.add(i[r])}var ac=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oc={},Bs={};function lc(r){return vr.call(Bs,r)?!0:vr.call(oc,r)?!1:ac.test(r)?Bs[r]=!0:(oc[r]=!0,!1)}function Gi(r,i,o){if(lc(i))if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(i);return}}r.setAttribute(i,""+o)}}function Sr(r,i,o){if(o===null)r.removeAttribute(i);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(i);return}r.setAttribute(i,""+o)}}function Zt(r,i,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(i,o,""+u)}}var Fs,uc;function ri(r){if(Fs===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Fs=i&&i[1]||"",uc=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Fs+r+uc}var ja=!1;function za(r,i){if(!r||ja)return"";ja=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(W){var Y=W}Reflect.construct(r,[],se)}else{try{se.call()}catch(W){Y=W}r.call(se.prototype)}}else{try{throw Error()}catch(W){Y=W}(se=r())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(W){if(W&&Y&&typeof W.stack=="string")return[W.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],w=m[1];if(E&&w){var D=E.split(`
`),$=w.split(`
`);for(f=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(u===D.length||f===$.length)for(u=D.length-1,f=$.length-1;1<=u&&0<=f&&D[u]!==$[f];)f--;for(;1<=u&&0<=f;u--,f--)if(D[u]!==$[f]){if(u!==1||f!==1)do if(u--,f--,0>f||D[u]!==$[f]){var ne=`
`+D[u].replace(" at new "," at ");return r.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",r.displayName)),ne}while(1<=u&&0<=f);break}}}finally{ja=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?ri(o):""}function ll(r){switch(r.tag){case 26:case 27:case 5:return ri(r.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 15:return za(r.type,!1);case 11:return za(r.type.render,!1);case 1:return za(r.type,!0);case 31:return ri("Activity");default:return""}}function Ba(r){try{var i="";do i+=ll(r),r=r.return;while(r);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function vn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ul(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ed(r){var i=ul(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),u=""+r[i];if(!r.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,m=o.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,m.call(this,E)}}),Object.defineProperty(r,i,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Fa(r){r._valueTracker||(r._valueTracker=ed(r))}function cl(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var o=i.getValue(),u="";return r&&(u=ul(r)?r.checked?"true":"false":r.value),r=u,r!==o?(i.setValue(r),!0):!1}function qs(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var td=/[\n"\\]/g;function Ot(r){return r.replace(td,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function On(r,i,o,u,f,m,E,w){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),i!=null?E==="number"?(i===0&&r.value===""||r.value!=i)&&(r.value=""+vn(i)):r.value!==""+vn(i)&&(r.value=""+vn(i)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),i!=null?$i(r,E,vn(i)):o!=null?$i(r,E,vn(o)):u!=null&&r.removeAttribute("value"),f==null&&m!=null&&(r.defaultChecked=!!m),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?r.name=""+vn(w):r.removeAttribute("name")}function Hs(r,i,o,u,f,m,E,w){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),i!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||i!=null))return;o=o!=null?""+vn(o):"",i=i!=null?""+vn(i):o,w||i===r.value||(r.value=i),r.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=w?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function $i(r,i,o){i==="number"&&qs(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function ii(r,i,o,u){if(r=r.options,i){i={};for(var f=0;f<o.length;f++)i["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=i.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+vn(o),i=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}i!==null||r[f].disabled||(i=r[f])}i!==null&&(i.selected=!0)}}function ot(r,i,o){if(i!=null&&(i=""+vn(i),i!==r.value&&(r.value=i),o==null)){r.defaultValue!==i&&(r.defaultValue=i);return}r.defaultValue=o!=null?""+vn(o):""}function Gs(r,i,o,u){if(i==null){if(u!=null){if(o!=null)throw Error(s(92));if(je(u)){if(1<u.length)throw Error(s(93));u=u[0]}o=u}o==null&&(o=""),i=o}o=vn(i),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u)}function qn(r,i){if(i){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=i;return}}r.textContent=i}var $s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function cc(r,i,o){var u=i.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(i,""):i==="float"?r.cssFloat="":r[i]="":u?r.setProperty(i,o):typeof o!="number"||o===0||$s.has(i)?i==="float"?r.cssFloat=o:r[i]=(""+o).trim():r[i]=o+"px"}function hl(r,i,o){if(i!=null&&typeof i!="object")throw Error(s(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&o[f]!==u&&cc(r,f,u)}else for(var m in i)i.hasOwnProperty(m)&&cc(r,m,i[m])}function fl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qa(r){return rd.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var si=null;function Hn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ai=null,oi=null;function dl(r){var i=Tr(r);if(i&&(r=i.stateNode)){var o=r[Dt]||null;e:switch(r=i.stateNode,i.type){case"input":if(On(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),i=o.name,o.type==="radio"&&i!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ot(""+i)+'"][type="radio"]'),i=0;i<o.length;i++){var u=o[i];if(u!==r&&u.form===r.form){var f=u[Dt]||null;if(!f)throw Error(s(90));On(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<o.length;i++)u=o[i],u.form===r.form&&cl(u)}break e;case"textarea":ot(r,o.value,o.defaultValue);break e;case"select":i=o.value,i!=null&&ii(r,!!o.multiple,i,!1)}}}var Ar=!1;function hc(r,i,o){if(Ar)return r(i,o);Ar=!0;try{var u=r(i);return u}finally{if(Ar=!1,(ai!==null||oi!==null)&&(ih(),ai&&(i=ai,r=oi,oi=ai=null,dl(i),r)))for(i=0;i<r.length;i++)dl(r[i])}}function Ks(r,i){var o=r.stateNode;if(o===null)return null;var u=o[Dt]||null;if(u===null)return null;o=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,i,typeof o));return o}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gn=!1;if(lr)try{var Qs={};Object.defineProperty(Qs,"passive",{get:function(){Gn=!0}}),window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{Gn=!1}var xr=null,Ki=null,li=null;function ml(){if(li)return li;var r,i=Ki,o=i.length,u,f="value"in xr?xr.value:xr.textContent,m=f.length;for(r=0;r<o&&i[r]===f[r];r++);var E=o-r;for(u=1;u<=E&&i[o-u]===f[m-u];u++);return li=f.slice(r,1<u?1-u:void 0)}function Rr(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Cr(){return!0}function pl(){return!1}function $t(r){function i(o,u,f,m,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var w in r)r.hasOwnProperty(w)&&(o=r[w],this[w]=o?o(m):m[w]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Cr:pl,this.isPropagationStopped=pl,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),i}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ha=$t(nt),Ys=v({},nt,{view:0,detail:0}),fc=$t(Ys),Ga,$a,Nr,Xs=v({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Js,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Nr&&(Nr&&r.type==="mousemove"?(Ga=r.screenX-Nr.screenX,$a=r.screenY-Nr.screenY):$a=Ga=0,Nr=r),Ga)},movementY:function(r){return"movementY"in r?r.movementY:$a}}),$n=$t(Xs),dc=v({},Xs,{dataTransfer:0}),id=$t(dc),Ws=v({},Ys,{relatedTarget:0}),Ka=$t(Ws),gl=v({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=$t(gl),mc=v({},nt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ya=$t(mc),sd=v({},nt,{data:0}),yl=$t(sd),Zs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=gc[r])?!!i[r]:!1}function Js(){return vl}var yc=v({},Ys,{key:function(r){if(r.key){var i=Zs[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Rr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?pc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Js,charCode:function(r){return r.type==="keypress"?Rr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Rr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xa=$t(yc),vc=v({},Xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=$t(vc),ui=v({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Js}),_c=$t(ui),Ec=v({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),bc=$t(Ec),Tc=v({},Xs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=$t(Tc),_n=v({},nt,{newState:0,oldState:0}),wc=$t(_n),Sc=[9,13,27,32],Ir=lr&&"CompositionEvent"in window,h=null;lr&&"documentMode"in document&&(h=document.documentMode);var y=lr&&"TextEvent"in window&&!h,_=lr&&(!Ir||h&&8<h&&11>=h),A=" ",q=!1;function Z(r,i){switch(r){case"keyup":return Sc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function me(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Xe=!1;function Lt(r,i){switch(r){case"compositionend":return me(i);case"keypress":return i.which!==32?null:(q=!0,A);case"textInput":return r=i.data,r===A&&q?null:r;default:return null}}function We(r,i){if(Xe)return r==="compositionend"||!Ir&&Z(r,i)?(r=ml(),li=Ki=xr=null,Xe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jt(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Kt[r.type]:i==="textarea"}function ci(r,i,o,u){ai?oi?oi.push(u):oi=[u]:ai=u,i=ch(i,"onChange"),0<i.length&&(o=new Ha("onChange","change",null,o,u),r.push({event:o,listeners:i}))}var Jt=null,Dr=null;function El(r){U0(r,0)}function Ac(r){var i=wr(r);if(cl(i))return r}function iy(r,i){if(r==="change")return i}var sy=!1;if(lr){var ad;if(lr){var od="oninput"in document;if(!od){var ay=document.createElement("div");ay.setAttribute("oninput","return;"),od=typeof ay.oninput=="function"}ad=od}else ad=!1;sy=ad&&(!document.documentMode||9<document.documentMode)}function oy(){Jt&&(Jt.detachEvent("onpropertychange",ly),Dr=Jt=null)}function ly(r){if(r.propertyName==="value"&&Ac(Dr)){var i=[];ci(i,Dr,r,Hn(r)),hc(El,i)}}function aA(r,i,o){r==="focusin"?(oy(),Jt=i,Dr=o,Jt.attachEvent("onpropertychange",ly)):r==="focusout"&&oy()}function oA(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ac(Dr)}function lA(r,i){if(r==="click")return Ac(i)}function uA(r,i){if(r==="input"||r==="change")return Ac(i)}function cA(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Mn=typeof Object.is=="function"?Object.is:cA;function bl(r,i){if(Mn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var o=Object.keys(r),u=Object.keys(i);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!vr.call(i,f)||!Mn(r[f],i[f]))return!1}return!0}function uy(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function cy(r,i){var o=uy(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=i&&u>=i)return{node:o,offset:i-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=uy(o)}}function hy(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?hy(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function fy(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var i=qs(r.document);i instanceof r.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)r=i.contentWindow;else break;i=qs(r.document)}return i}function ld(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}var hA=lr&&"documentMode"in document&&11>=document.documentMode,Za=null,ud=null,Tl=null,cd=!1;function dy(r,i,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;cd||Za==null||Za!==qs(u)||(u=Za,"selectionStart"in u&&ld(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Tl&&bl(Tl,u)||(Tl=u,u=ch(ud,"onSelect"),0<u.length&&(i=new Ha("onSelect","select",null,i,o),r.push({event:i,listeners:u}),i.target=Za)))}function ea(r,i){var o={};return o[r.toLowerCase()]=i.toLowerCase(),o["Webkit"+r]="webkit"+i,o["Moz"+r]="moz"+i,o}var Ja={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},hd={},my={};lr&&(my=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ta(r){if(hd[r])return hd[r];if(!Ja[r])return r;var i=Ja[r],o;for(o in i)if(i.hasOwnProperty(o)&&o in my)return hd[r]=i[o];return r}var py=ta("animationend"),gy=ta("animationiteration"),yy=ta("animationstart"),fA=ta("transitionrun"),dA=ta("transitionstart"),mA=ta("transitioncancel"),vy=ta("transitionend"),_y=new Map,fd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");fd.push("scrollEnd");function ur(r,i){_y.set(r,i),or(i,[r])}var Ey=new WeakMap;function Kn(r,i){if(typeof r=="object"&&r!==null){var o=Ey.get(r);return o!==void 0?o:(i={value:r,source:i,stack:Ba(i)},Ey.set(r,i),i)}return{value:r,source:i,stack:Ba(i)}}var Qn=[],eo=0,dd=0;function xc(){for(var r=eo,i=dd=eo=0;i<r;){var o=Qn[i];Qn[i++]=null;var u=Qn[i];Qn[i++]=null;var f=Qn[i];Qn[i++]=null;var m=Qn[i];if(Qn[i++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}m!==0&&by(o,f,m)}}function Rc(r,i,o,u){Qn[eo++]=r,Qn[eo++]=i,Qn[eo++]=o,Qn[eo++]=u,dd|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function md(r,i,o,u){return Rc(r,i,o,u),Cc(r)}function to(r,i){return Rc(r,null,null,i),Cc(r)}function by(r,i,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(f=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,f&&i!==null&&(f=31-Ie(o),r=m.hiddenUpdates,u=r[f],u===null?r[f]=[i]:u.push(i),i.lane=o|536870912),m):null}function Cc(r){if(50<Kl)throw Kl=0,Em=null,Error(s(185));for(var i=r.return;i!==null;)r=i,i=r.return;return r.tag===3?r.stateNode:null}var no={};function pA(r,i,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,i,o,u){return new pA(r,i,o,u)}function pd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function hi(r,i){var o=r.alternate;return o===null?(o=kn(r.tag,i,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=i,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,i=r.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Ty(r,i){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),r}function Nc(r,i,o,u,f,m){var E=0;if(u=r,typeof r=="function")pd(r)&&(E=1);else if(typeof r=="string")E=yx(r,o,Se.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=kn(31,o,i,f),r.elementType=I,r.lanes=m,r;case N:return na(o.children,f,m,i);case B:E=8,f|=24;break;case k:return r=kn(12,o,i,f|2),r.elementType=k,r.lanes=m,r;case le:return r=kn(13,o,i,f),r.elementType=le,r.lanes=m,r;case be:return r=kn(19,o,i,f),r.elementType=be,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case G:case K:E=10;break e;case X:E=9;break e;case de:E=11;break e;case V:E=14;break e;case C:E=16,u=null;break e}E=29,o=Error(s(130,r===null?"null":typeof r,"")),u=null}return i=kn(E,o,i,f),i.elementType=r,i.type=u,i.lanes=m,i}function na(r,i,o,u){return r=kn(7,r,u,i),r.lanes=o,r}function gd(r,i,o){return r=kn(6,r,null,i),r.lanes=o,r}function yd(r,i,o){return i=kn(4,r.children!==null?r.children:[],r.key,i),i.lanes=o,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}var ro=[],io=0,Ic=null,Dc=0,Yn=[],Xn=0,ra=null,fi=1,di="";function ia(r,i){ro[io++]=Dc,ro[io++]=Ic,Ic=r,Dc=i}function wy(r,i,o){Yn[Xn++]=fi,Yn[Xn++]=di,Yn[Xn++]=ra,ra=r;var u=fi;r=di;var f=32-Ie(u)-1;u&=~(1<<f),o+=1;var m=32-Ie(i)+f;if(30<m){var E=f-f%5;m=(u&(1<<E)-1).toString(32),u>>=E,f-=E,fi=1<<32-Ie(i)+f|o<<f|u,di=m+r}else fi=1<<m|o<<f|u,di=r}function vd(r){r.return!==null&&(ia(r,1),wy(r,1,0))}function _d(r){for(;r===Ic;)Ic=ro[--io],ro[io]=null,Dc=ro[--io],ro[io]=null;for(;r===ra;)ra=Yn[--Xn],Yn[Xn]=null,di=Yn[--Xn],Yn[Xn]=null,fi=Yn[--Xn],Yn[Xn]=null}var En=null,Tt=null,tt=!1,sa=null,Or=!1,Ed=Error(s(519));function aa(r){var i=Error(s(418,""));throw Al(Kn(i,r)),Ed}function Sy(r){var i=r.stateNode,o=r.type,u=r.memoizedProps;switch(i[Ut]=r,i[Dt]=u,o){case"dialog":Ke("cancel",i),Ke("close",i);break;case"iframe":case"object":case"embed":Ke("load",i);break;case"video":case"audio":for(o=0;o<Yl.length;o++)Ke(Yl[o],i);break;case"source":Ke("error",i);break;case"img":case"image":case"link":Ke("error",i),Ke("load",i);break;case"details":Ke("toggle",i);break;case"input":Ke("invalid",i),Hs(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Fa(i);break;case"select":Ke("invalid",i);break;case"textarea":Ke("invalid",i),Gs(i,u.value,u.defaultValue,u.children),Fa(i)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||i.textContent===""+o||u.suppressHydrationWarning===!0||B0(i.textContent,o)?(u.popover!=null&&(Ke("beforetoggle",i),Ke("toggle",i)),u.onScroll!=null&&Ke("scroll",i),u.onScrollEnd!=null&&Ke("scrollend",i),u.onClick!=null&&(i.onclick=hh),i=!0):i=!1,i||aa(r)}function Ay(r){for(En=r.return;En;)switch(En.tag){case 5:case 13:Or=!1;return;case 27:case 3:Or=!0;return;default:En=En.return}}function wl(r){if(r!==En)return!1;if(!tt)return Ay(r),tt=!0,!1;var i=r.tag,o;if((o=i!==3&&i!==27)&&((o=i===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Pm(r.type,r.memoizedProps)),o=!o),o&&Tt&&aa(r),Ay(r),i===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(i===0){Tt=hr(r.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++;r=r.nextSibling}Tt=null}}else i===27?(i=Tt,us(r.type)?(r=zm,zm=null,Tt=r):Tt=i):Tt=En?hr(r.stateNode.nextSibling):null;return!0}function Sl(){Tt=En=null,tt=!1}function xy(){var r=sa;return r!==null&&(xn===null?xn=r:xn.push.apply(xn,r),sa=null),r}function Al(r){sa===null?sa=[r]:sa.push(r)}var bd=oe(null),oa=null,mi=null;function Qi(r,i,o){he(bd,i._currentValue),i._currentValue=o}function pi(r){r._currentValue=bd.current,pe(bd)}function Td(r,i,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),r===o)break;r=r.return}}function wd(r,i,o,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var m=f.dependencies;if(m!==null){var E=f.child;m=m.firstContext;e:for(;m!==null;){var w=m;m=f;for(var D=0;D<i.length;D++)if(w.context===i[D]){m.lanes|=o,w=m.alternate,w!==null&&(w.lanes|=o),Td(m.return,o,r),u||(E=null);break e}m=w.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),Td(E,o,r),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===r){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function xl(r,i,o,u){r=null;for(var f=i,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=f.type;Mn(f.pendingProps.value,E.value)||(r!==null?r.push(w):r=[w])}}else if(f===St.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(tu):r=[tu])}f=f.return}r!==null&&wd(i,r,o,u),i.flags|=262144}function Oc(r){for(r=r.firstContext;r!==null;){if(!Mn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function la(r){oa=r,mi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function ln(r){return Ry(oa,r)}function Mc(r,i){return oa===null&&la(r),Ry(r,i)}function Ry(r,i){var o=i._currentValue;if(i={context:i,memoizedValue:o,next:null},mi===null){if(r===null)throw Error(s(308));mi=i,r.dependencies={lanes:0,firstContext:i},r.flags|=524288}else mi=mi.next=i;return o}var gA=typeof AbortController<"u"?AbortController:function(){var r=[],i=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){i.aborted=!0,r.forEach(function(o){return o()})}},yA=n.unstable_scheduleCallback,vA=n.unstable_NormalPriority,zt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sd(){return{controller:new gA,data:new Map,refCount:0}}function Rl(r){r.refCount--,r.refCount===0&&yA(vA,function(){r.controller.abort()})}var Cl=null,Ad=0,so=0,ao=null;function _A(r,i){if(Cl===null){var o=Cl=[];Ad=0,so=Rm(),ao={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Ad++,i.then(Cy,Cy),i}function Cy(){if(--Ad===0&&Cl!==null){ao!==null&&(ao.status="fulfilled");var r=Cl;Cl=null,so=0,ao=null;for(var i=0;i<r.length;i++)(0,r[i])()}}function EA(r,i){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return r.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<o.length;f++)(0,o[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Ny=J.S;J.S=function(r,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&_A(r,i),Ny!==null&&Ny(r,i)};var ua=oe(null);function xd(){var r=ua.current;return r!==null?r:ft.pooledCache}function kc(r,i){i===null?he(ua,ua.current):he(ua,i.pool)}function Iy(){var r=xd();return r===null?null:{parent:zt._currentValue,pool:r}}var Nl=Error(s(460)),Dy=Error(s(474)),Vc=Error(s(542)),Rd={then:function(){}};function Oy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Pc(){}function My(r,i,o){switch(o=r[o],o===void 0?r.push(i):o!==i&&(i.then(Pc,Pc),i=o),i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Vy(r),r;default:if(typeof i.status=="string")i.then(Pc,Pc);else{if(r=ft,r!==null&&100<r.shellSuspendCounter)throw Error(s(482));r=i,r.status="pending",r.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw r=i.reason,Vy(r),r}throw Il=i,Nl}}var Il=null;function ky(){if(Il===null)throw Error(s(459));var r=Il;return Il=null,r}function Vy(r){if(r===Nl||r===Vc)throw Error(s(483))}var Yi=!1;function Cd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nd(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Xi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Wi(r,i,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(it&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=Cc(r),by(r,null,o),i}return Rc(r,u,i,o),Cc(r)}function Dl(r,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194048)!==0)){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,sl(r,o)}}function Id(r,i){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?f=m=i:m=m.next=i}else f=m=i;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=i:r.next=i,o.lastBaseUpdate=i}var Dd=!1;function Ol(){if(Dd){var r=ao;if(r!==null)throw r}}function Ml(r,i,o,u){Dd=!1;var f=r.updateQueue;Yi=!1;var m=f.firstBaseUpdate,E=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var D=w,$=D.next;D.next=null,E===null?m=$:E.next=$,E=D;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,w=ne.lastBaseUpdate,w!==E&&(w===null?ne.firstBaseUpdate=$:w.next=$,ne.lastBaseUpdate=D))}if(m!==null){var se=f.baseState;E=0,ne=$=D=null,w=m;do{var Y=w.lane&-536870913,W=Y!==w.lane;if(W?(Ze&Y)===Y:(u&Y)===Y){Y!==0&&Y===so&&(Dd=!0),ne!==null&&(ne=ne.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Me=r,Ce=w;Y=i;var ct=o;switch(Ce.tag){case 1:if(Me=Ce.payload,typeof Me=="function"){se=Me.call(ct,se,Y);break e}se=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Ce.payload,Y=typeof Me=="function"?Me.call(ct,se,Y):Me,Y==null)break e;se=v({},se,Y);break e;case 2:Yi=!0}}Y=w.callback,Y!==null&&(r.flags|=64,W&&(r.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Y]:W.push(Y))}else W={lane:Y,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ne===null?($=ne=W,D=se):ne=ne.next=W,E|=Y;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;W=w,w=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);ne===null&&(D=se),f.baseState=D,f.firstBaseUpdate=$,f.lastBaseUpdate=ne,m===null&&(f.shared.lanes=0),ss|=E,r.lanes=E,r.memoizedState=se}}function Py(r,i){if(typeof r!="function")throw Error(s(191,r));r.call(i)}function Uy(r,i){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)Py(o[r],i)}var oo=oe(null),Uc=oe(0);function Ly(r,i){r=Ti,he(Uc,r),he(oo,i),Ti=r|i.baseLanes}function Od(){he(Uc,Ti),he(oo,oo.current)}function Md(){Ti=Uc.current,pe(oo),pe(Uc)}var Zi=0,Fe=null,lt=null,Mt=null,Lc=!1,lo=!1,ca=!1,jc=0,kl=0,uo=null,bA=0;function xt(){throw Error(s(321))}function kd(r,i){if(i===null)return!1;for(var o=0;o<i.length&&o<r.length;o++)if(!Mn(r[o],i[o]))return!1;return!0}function Vd(r,i,o,u,f,m){return Zi=m,Fe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,J.H=r===null||r.memoizedState===null?bv:Tv,ca=!1,m=o(u,f),ca=!1,lo&&(m=zy(i,o,u,f)),jy(r),m}function jy(r){J.H=Gc;var i=lt!==null&&lt.next!==null;if(Zi=0,Mt=lt=Fe=null,Lc=!1,kl=0,uo=null,i)throw Error(s(300));r===null||Qt||(r=r.dependencies,r!==null&&Oc(r)&&(Qt=!0))}function zy(r,i,o,u){Fe=r;var f=0;do{if(lo&&(uo=null),kl=0,lo=!1,25<=f)throw Error(s(301));if(f+=1,Mt=lt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=CA,m=i(o,u)}while(lo);return m}function TA(){var r=J.H,i=r.useState()[0];return i=typeof i.then=="function"?Vl(i):i,r=r.useState()[0],(lt!==null?lt.memoizedState:null)!==r&&(Fe.flags|=1024),i}function Pd(){var r=jc!==0;return jc=0,r}function Ud(r,i,o){i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~o}function Ld(r){if(Lc){for(r=r.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lc=!1}Zi=0,Mt=lt=Fe=null,lo=!1,kl=jc=0,uo=null}function Sn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Fe.memoizedState=Mt=r:Mt=Mt.next=r,Mt}function kt(){if(lt===null){var r=Fe.alternate;r=r!==null?r.memoizedState:null}else r=lt.next;var i=Mt===null?Fe.memoizedState:Mt.next;if(i!==null)Mt=i,lt=r;else{if(r===null)throw Fe.alternate===null?Error(s(467)):Error(s(310));lt=r,r={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Mt===null?Fe.memoizedState=Mt=r:Mt=Mt.next=r}return Mt}function jd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vl(r){var i=kl;return kl+=1,uo===null&&(uo=[]),r=My(uo,r,i),i=Fe,(Mt===null?i.memoizedState:Mt.next)===null&&(i=i.alternate,J.H=i===null||i.memoizedState===null?bv:Tv),r}function zc(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return Vl(r);if(r.$$typeof===K)return ln(r)}throw Error(s(438,String(r)))}function zd(r){var i=null,o=Fe.updateQueue;if(o!==null&&(i=o.memoCache),i==null){var u=Fe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),o===null&&(o=jd(),Fe.updateQueue=o),o.memoCache=i,o=i.data[i.index],o===void 0)for(o=i.data[i.index]=Array(r),u=0;u<r;u++)o[u]=x;return i.index++,o}function gi(r,i){return typeof i=="function"?i(r):i}function Bc(r){var i=kt();return Bd(i,lt,r)}function Bd(r,i,o){var u=r.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=o;var f=r.baseQueue,m=u.pending;if(m!==null){if(f!==null){var E=f.next;f.next=m.next,m.next=E}i.baseQueue=f=m,u.pending=null}if(m=r.baseState,f===null)r.memoizedState=m;else{i=f.next;var w=E=null,D=null,$=i,ne=!1;do{var se=$.lane&-536870913;if(se!==$.lane?(Ze&se)===se:(Zi&se)===se){var Y=$.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),se===so&&(ne=!0);else if((Zi&Y)===Y){$=$.next,Y===so&&(ne=!0);continue}else se={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(w=D=se,E=m):D=D.next=se,Fe.lanes|=Y,ss|=Y;se=$.action,ca&&o(m,se),m=$.hasEagerState?$.eagerState:o(m,se)}else Y={lane:se,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},D===null?(w=D=Y,E=m):D=D.next=Y,Fe.lanes|=se,ss|=se;$=$.next}while($!==null&&$!==i);if(D===null?E=m:D.next=w,!Mn(m,r.memoizedState)&&(Qt=!0,ne&&(o=ao,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=D,u.lastRenderedState=m}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function Fd(r){var i=kt(),o=i.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,m=i.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do m=r(m,E.action),E=E.next;while(E!==f);Mn(m,i.memoizedState)||(Qt=!0),i.memoizedState=m,i.baseQueue===null&&(i.baseState=m),o.lastRenderedState=m}return[m,u]}function By(r,i,o){var u=Fe,f=kt(),m=tt;if(m){if(o===void 0)throw Error(s(407));o=o()}else o=i();var E=!Mn((lt||f).memoizedState,o);E&&(f.memoizedState=o,Qt=!0),f=f.queue;var w=Hy.bind(null,u,f,r);if(Pl(2048,8,w,[r]),f.getSnapshot!==i||E||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,co(9,Fc(),qy.bind(null,u,f,o,i),null),ft===null)throw Error(s(349));m||(Zi&124)!==0||Fy(u,i,o)}return o}function Fy(r,i,o){r.flags|=16384,r={getSnapshot:i,value:o},i=Fe.updateQueue,i===null?(i=jd(),Fe.updateQueue=i,i.stores=[r]):(o=i.stores,o===null?i.stores=[r]:o.push(r))}function qy(r,i,o,u){i.value=o,i.getSnapshot=u,Gy(i)&&$y(r)}function Hy(r,i,o){return o(function(){Gy(i)&&$y(r)})}function Gy(r){var i=r.getSnapshot;r=r.value;try{var o=i();return!Mn(r,o)}catch{return!0}}function $y(r){var i=to(r,2);i!==null&&jn(i,r,2)}function qd(r){var i=Sn();if(typeof r=="function"){var o=r;if(r=o(),ca){ge(!0);try{o()}finally{ge(!1)}}}return i.memoizedState=i.baseState=r,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:r},i}function Ky(r,i,o,u){return r.baseState=o,Bd(r,lt,typeof u=="function"?u:gi)}function wA(r,i,o,u,f){if(Hc(r))throw Error(s(485));if(r=i.action,r!==null){var m={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};J.T!==null?o(!0):m.isTransition=!1,u(m),o=i.pending,o===null?(m.next=i.pending=m,Qy(i,m)):(m.next=o.next,i.pending=o.next=m)}}function Qy(r,i){var o=i.action,u=i.payload,f=r.state;if(i.isTransition){var m=J.T,E={};J.T=E;try{var w=o(f,u),D=J.S;D!==null&&D(E,w),Yy(r,i,w)}catch($){Hd(r,i,$)}finally{J.T=m}}else try{m=o(f,u),Yy(r,i,m)}catch($){Hd(r,i,$)}}function Yy(r,i,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Xy(r,i,u)},function(u){return Hd(r,i,u)}):Xy(r,i,o)}function Xy(r,i,o){i.status="fulfilled",i.value=o,Wy(i),r.state=o,i=r.pending,i!==null&&(o=i.next,o===i?r.pending=null:(o=o.next,i.next=o,Qy(r,o)))}function Hd(r,i,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=o,Wy(i),i=i.next;while(i!==u)}r.action=null}function Wy(r){r=r.listeners;for(var i=0;i<r.length;i++)(0,r[i])()}function Zy(r,i){return i}function Jy(r,i){if(tt){var o=ft.formState;if(o!==null){e:{var u=Fe;if(tt){if(Tt){t:{for(var f=Tt,m=Or;f.nodeType!==8;){if(!m){f=null;break t}if(f=hr(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Tt=hr(f.nextSibling),u=f.data==="F!";break e}}aa(u)}u=!1}u&&(i=o[0])}}return o=Sn(),o.memoizedState=o.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zy,lastRenderedState:i},o.queue=u,o=vv.bind(null,Fe,u),u.dispatch=o,u=qd(!1),m=Yd.bind(null,Fe,!1,u.queue),u=Sn(),f={state:i,dispatch:null,action:r,pending:null},u.queue=f,o=wA.bind(null,Fe,f,m,o),f.dispatch=o,u.memoizedState=r,[i,o,!1]}function ev(r){var i=kt();return tv(i,lt,r)}function tv(r,i,o){if(i=Bd(r,i,Zy)[0],r=Bc(gi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var u=Vl(i)}catch(E){throw E===Nl?Vc:E}else u=i;i=kt();var f=i.queue,m=f.dispatch;return o!==i.memoizedState&&(Fe.flags|=2048,co(9,Fc(),SA.bind(null,f,o),null)),[u,m,r]}function SA(r,i){r.action=i}function nv(r){var i=kt(),o=lt;if(o!==null)return tv(i,o,r);kt(),i=i.memoizedState,o=kt();var u=o.queue.dispatch;return o.memoizedState=r,[i,u,!1]}function co(r,i,o,u){return r={tag:r,create:o,deps:u,inst:i,next:null},i=Fe.updateQueue,i===null&&(i=jd(),Fe.updateQueue=i),o=i.lastEffect,o===null?i.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,i.lastEffect=r),r}function Fc(){return{destroy:void 0,resource:void 0}}function rv(){return kt().memoizedState}function qc(r,i,o,u){var f=Sn();u=u===void 0?null:u,Fe.flags|=r,f.memoizedState=co(1|i,Fc(),o,u)}function Pl(r,i,o,u){var f=kt();u=u===void 0?null:u;var m=f.memoizedState.inst;lt!==null&&u!==null&&kd(u,lt.memoizedState.deps)?f.memoizedState=co(i,m,o,u):(Fe.flags|=r,f.memoizedState=co(1|i,m,o,u))}function iv(r,i){qc(8390656,8,r,i)}function sv(r,i){Pl(2048,8,r,i)}function av(r,i){return Pl(4,2,r,i)}function ov(r,i){return Pl(4,4,r,i)}function lv(r,i){if(typeof i=="function"){r=r();var o=i(r);return function(){typeof o=="function"?o():i(null)}}if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function uv(r,i,o){o=o!=null?o.concat([r]):null,Pl(4,4,lv.bind(null,i,r),o)}function Gd(){}function cv(r,i){var o=kt();i=i===void 0?null:i;var u=o.memoizedState;return i!==null&&kd(i,u[1])?u[0]:(o.memoizedState=[r,i],r)}function hv(r,i){var o=kt();i=i===void 0?null:i;var u=o.memoizedState;if(i!==null&&kd(i,u[1]))return u[0];if(u=r(),ca){ge(!0);try{r()}finally{ge(!1)}}return o.memoizedState=[u,i],u}function $d(r,i,o){return o===void 0||(Zi&1073741824)!==0?r.memoizedState=i:(r.memoizedState=o,r=m0(),Fe.lanes|=r,ss|=r,o)}function fv(r,i,o,u){return Mn(o,i)?o:oo.current!==null?(r=$d(r,o,u),Mn(r,i)||(Qt=!0),r):(Zi&42)===0?(Qt=!0,r.memoizedState=o):(r=m0(),Fe.lanes|=r,ss|=r,i)}function dv(r,i,o,u,f){var m=fe.p;fe.p=m!==0&&8>m?m:8;var E=J.T,w={};J.T=w,Yd(r,!1,i,o);try{var D=f(),$=J.S;if($!==null&&$(w,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var ne=EA(D,u);Ul(r,i,ne,Ln(r))}else Ul(r,i,u,Ln(r))}catch(se){Ul(r,i,{then:function(){},status:"rejected",reason:se},Ln())}finally{fe.p=m,J.T=E}}function AA(){}function Kd(r,i,o,u){if(r.tag!==5)throw Error(s(476));var f=mv(r).queue;dv(r,f,i,_e,o===null?AA:function(){return pv(r),o(u)})}function mv(r){var i=r.memoizedState;if(i!==null)return i;i={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:_e},next:null};var o={};return i.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gi,lastRenderedState:o},next:null},r.memoizedState=i,r=r.alternate,r!==null&&(r.memoizedState=i),i}function pv(r){var i=mv(r).next.queue;Ul(r,i,{},Ln())}function Qd(){return ln(tu)}function gv(){return kt().memoizedState}function yv(){return kt().memoizedState}function xA(r){for(var i=r.return;i!==null;){switch(i.tag){case 24:case 3:var o=Ln();r=Xi(o);var u=Wi(i,r,o);u!==null&&(jn(u,i,o),Dl(u,i,o)),i={cache:Sd()},r.payload=i;return}i=i.return}}function RA(r,i,o){var u=Ln();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Hc(r)?_v(i,o):(o=md(r,i,o,u),o!==null&&(jn(o,r,u),Ev(o,i,u)))}function vv(r,i,o){var u=Ln();Ul(r,i,o,u)}function Ul(r,i,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hc(r))_v(i,f);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=i.lastRenderedReducer,m!==null))try{var E=i.lastRenderedState,w=m(E,o);if(f.hasEagerState=!0,f.eagerState=w,Mn(w,E))return Rc(r,i,f,0),ft===null&&xc(),!1}catch{}finally{}if(o=md(r,i,f,u),o!==null)return jn(o,r,u),Ev(o,i,u),!0}return!1}function Yd(r,i,o,u){if(u={lane:2,revertLane:Rm(),action:u,hasEagerState:!1,eagerState:null,next:null},Hc(r)){if(i)throw Error(s(479))}else i=md(r,o,u,2),i!==null&&jn(i,r,2)}function Hc(r){var i=r.alternate;return r===Fe||i!==null&&i===Fe}function _v(r,i){lo=Lc=!0;var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}function Ev(r,i,o){if((o&4194048)!==0){var u=i.lanes;u&=r.pendingLanes,o|=u,i.lanes=o,sl(r,o)}}var Gc={readContext:ln,use:zc,useCallback:xt,useContext:xt,useEffect:xt,useImperativeHandle:xt,useLayoutEffect:xt,useInsertionEffect:xt,useMemo:xt,useReducer:xt,useRef:xt,useState:xt,useDebugValue:xt,useDeferredValue:xt,useTransition:xt,useSyncExternalStore:xt,useId:xt,useHostTransitionStatus:xt,useFormState:xt,useActionState:xt,useOptimistic:xt,useMemoCache:xt,useCacheRefresh:xt},bv={readContext:ln,use:zc,useCallback:function(r,i){return Sn().memoizedState=[r,i===void 0?null:i],r},useContext:ln,useEffect:iv,useImperativeHandle:function(r,i,o){o=o!=null?o.concat([r]):null,qc(4194308,4,lv.bind(null,i,r),o)},useLayoutEffect:function(r,i){return qc(4194308,4,r,i)},useInsertionEffect:function(r,i){qc(4,2,r,i)},useMemo:function(r,i){var o=Sn();i=i===void 0?null:i;var u=r();if(ca){ge(!0);try{r()}finally{ge(!1)}}return o.memoizedState=[u,i],u},useReducer:function(r,i,o){var u=Sn();if(o!==void 0){var f=o(i);if(ca){ge(!0);try{o(i)}finally{ge(!1)}}}else f=i;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=RA.bind(null,Fe,r),[u.memoizedState,r]},useRef:function(r){var i=Sn();return r={current:r},i.memoizedState=r},useState:function(r){r=qd(r);var i=r.queue,o=vv.bind(null,Fe,i);return i.dispatch=o,[r.memoizedState,o]},useDebugValue:Gd,useDeferredValue:function(r,i){var o=Sn();return $d(o,r,i)},useTransition:function(){var r=qd(!1);return r=dv.bind(null,Fe,r.queue,!0,!1),Sn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,i,o){var u=Fe,f=Sn();if(tt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=i(),ft===null)throw Error(s(349));(Ze&124)!==0||Fy(u,i,o)}f.memoizedState=o;var m={value:o,getSnapshot:i};return f.queue=m,iv(Hy.bind(null,u,m,r),[r]),u.flags|=2048,co(9,Fc(),qy.bind(null,u,m,o,i),null),o},useId:function(){var r=Sn(),i=ft.identifierPrefix;if(tt){var o=di,u=fi;o=(u&~(1<<32-Ie(u)-1)).toString(32)+o,i="«"+i+"R"+o,o=jc++,0<o&&(i+="H"+o.toString(32)),i+="»"}else o=bA++,i="«"+i+"r"+o.toString(32)+"»";return r.memoizedState=i},useHostTransitionStatus:Qd,useFormState:Jy,useActionState:Jy,useOptimistic:function(r){var i=Sn();i.memoizedState=i.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=o,i=Yd.bind(null,Fe,!0,o),o.dispatch=i,[r,i]},useMemoCache:zd,useCacheRefresh:function(){return Sn().memoizedState=xA.bind(null,Fe)}},Tv={readContext:ln,use:zc,useCallback:cv,useContext:ln,useEffect:sv,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:ov,useMemo:hv,useReducer:Bc,useRef:rv,useState:function(){return Bc(gi)},useDebugValue:Gd,useDeferredValue:function(r,i){var o=kt();return fv(o,lt.memoizedState,r,i)},useTransition:function(){var r=Bc(gi)[0],i=kt().memoizedState;return[typeof r=="boolean"?r:Vl(r),i]},useSyncExternalStore:By,useId:gv,useHostTransitionStatus:Qd,useFormState:ev,useActionState:ev,useOptimistic:function(r,i){var o=kt();return Ky(o,lt,r,i)},useMemoCache:zd,useCacheRefresh:yv},CA={readContext:ln,use:zc,useCallback:cv,useContext:ln,useEffect:sv,useImperativeHandle:uv,useInsertionEffect:av,useLayoutEffect:ov,useMemo:hv,useReducer:Fd,useRef:rv,useState:function(){return Fd(gi)},useDebugValue:Gd,useDeferredValue:function(r,i){var o=kt();return lt===null?$d(o,r,i):fv(o,lt.memoizedState,r,i)},useTransition:function(){var r=Fd(gi)[0],i=kt().memoizedState;return[typeof r=="boolean"?r:Vl(r),i]},useSyncExternalStore:By,useId:gv,useHostTransitionStatus:Qd,useFormState:nv,useActionState:nv,useOptimistic:function(r,i){var o=kt();return lt!==null?Ky(o,lt,r,i):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:zd,useCacheRefresh:yv},ho=null,Ll=0;function $c(r){var i=Ll;return Ll+=1,ho===null&&(ho=[]),My(ho,r,i)}function jl(r,i){i=i.props.ref,r.ref=i!==void 0?i:null}function Kc(r,i){throw i.$$typeof===T?Error(s(525)):(r=Object.prototype.toString.call(i),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r)))}function wv(r){var i=r._init;return i(r._payload)}function Sv(r){function i(F,j){if(r){var H=F.deletions;H===null?(F.deletions=[j],F.flags|=16):H.push(j)}}function o(F,j){if(!r)return null;for(;j!==null;)i(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function f(F,j){return F=hi(F,j),F.index=0,F.sibling=null,F}function m(F,j,H){return F.index=H,r?(H=F.alternate,H!==null?(H=H.index,H<j?(F.flags|=67108866,j):H):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function E(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function w(F,j,H,re){return j===null||j.tag!==6?(j=gd(H,F.mode,re),j.return=F,j):(j=f(j,H),j.return=F,j)}function D(F,j,H,re){var Ee=H.type;return Ee===N?ne(F,j,H.props.children,re,H.key):j!==null&&(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===C&&wv(Ee)===j.type)?(j=f(j,H.props),jl(j,H),j.return=F,j):(j=Nc(H.type,H.key,H.props,null,F.mode,re),jl(j,H),j.return=F,j)}function $(F,j,H,re){return j===null||j.tag!==4||j.stateNode.containerInfo!==H.containerInfo||j.stateNode.implementation!==H.implementation?(j=yd(H,F.mode,re),j.return=F,j):(j=f(j,H.children||[]),j.return=F,j)}function ne(F,j,H,re,Ee){return j===null||j.tag!==7?(j=na(H,F.mode,re,Ee),j.return=F,j):(j=f(j,H),j.return=F,j)}function se(F,j,H){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=gd(""+j,F.mode,H),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return H=Nc(j.type,j.key,j.props,null,F.mode,H),jl(H,j),H.return=F,H;case M:return j=yd(j,F.mode,H),j.return=F,j;case C:var re=j._init;return j=re(j._payload),se(F,j,H)}if(je(j)||P(j))return j=na(j,F.mode,H,null),j.return=F,j;if(typeof j.then=="function")return se(F,$c(j),H);if(j.$$typeof===K)return se(F,Mc(F,j),H);Kc(F,j)}return null}function Y(F,j,H,re){var Ee=j!==null?j.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return Ee!==null?null:w(F,j,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case S:return H.key===Ee?D(F,j,H,re):null;case M:return H.key===Ee?$(F,j,H,re):null;case C:return Ee=H._init,H=Ee(H._payload),Y(F,j,H,re)}if(je(H)||P(H))return Ee!==null?null:ne(F,j,H,re,null);if(typeof H.then=="function")return Y(F,j,$c(H),re);if(H.$$typeof===K)return Y(F,j,Mc(F,H),re);Kc(F,H)}return null}function W(F,j,H,re,Ee){if(typeof re=="string"&&re!==""||typeof re=="number"||typeof re=="bigint")return F=F.get(H)||null,w(j,F,""+re,Ee);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case S:return F=F.get(re.key===null?H:re.key)||null,D(j,F,re,Ee);case M:return F=F.get(re.key===null?H:re.key)||null,$(j,F,re,Ee);case C:var He=re._init;return re=He(re._payload),W(F,j,H,re,Ee)}if(je(re)||P(re))return F=F.get(H)||null,ne(j,F,re,Ee,null);if(typeof re.then=="function")return W(F,j,H,$c(re),Ee);if(re.$$typeof===K)return W(F,j,H,Mc(j,re),Ee);Kc(j,re)}return null}function Me(F,j,H,re){for(var Ee=null,He=null,we=j,Ne=j=0,Xt=null;we!==null&&Ne<H.length;Ne++){we.index>Ne?(Xt=we,we=null):Xt=we.sibling;var et=Y(F,we,H[Ne],re);if(et===null){we===null&&(we=Xt);break}r&&we&&et.alternate===null&&i(F,we),j=m(et,j,Ne),He===null?Ee=et:He.sibling=et,He=et,we=Xt}if(Ne===H.length)return o(F,we),tt&&ia(F,Ne),Ee;if(we===null){for(;Ne<H.length;Ne++)we=se(F,H[Ne],re),we!==null&&(j=m(we,j,Ne),He===null?Ee=we:He.sibling=we,He=we);return tt&&ia(F,Ne),Ee}for(we=u(we);Ne<H.length;Ne++)Xt=W(we,F,Ne,H[Ne],re),Xt!==null&&(r&&Xt.alternate!==null&&we.delete(Xt.key===null?Ne:Xt.key),j=m(Xt,j,Ne),He===null?Ee=Xt:He.sibling=Xt,He=Xt);return r&&we.forEach(function(ms){return i(F,ms)}),tt&&ia(F,Ne),Ee}function Ce(F,j,H,re){if(H==null)throw Error(s(151));for(var Ee=null,He=null,we=j,Ne=j=0,Xt=null,et=H.next();we!==null&&!et.done;Ne++,et=H.next()){we.index>Ne?(Xt=we,we=null):Xt=we.sibling;var ms=Y(F,we,et.value,re);if(ms===null){we===null&&(we=Xt);break}r&&we&&ms.alternate===null&&i(F,we),j=m(ms,j,Ne),He===null?Ee=ms:He.sibling=ms,He=ms,we=Xt}if(et.done)return o(F,we),tt&&ia(F,Ne),Ee;if(we===null){for(;!et.done;Ne++,et=H.next())et=se(F,et.value,re),et!==null&&(j=m(et,j,Ne),He===null?Ee=et:He.sibling=et,He=et);return tt&&ia(F,Ne),Ee}for(we=u(we);!et.done;Ne++,et=H.next())et=W(we,F,Ne,et.value,re),et!==null&&(r&&et.alternate!==null&&we.delete(et.key===null?Ne:et.key),j=m(et,j,Ne),He===null?Ee=et:He.sibling=et,He=et);return r&&we.forEach(function(Nx){return i(F,Nx)}),tt&&ia(F,Ne),Ee}function ct(F,j,H,re){if(typeof H=="object"&&H!==null&&H.type===N&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case S:e:{for(var Ee=H.key;j!==null;){if(j.key===Ee){if(Ee=H.type,Ee===N){if(j.tag===7){o(F,j.sibling),re=f(j,H.props.children),re.return=F,F=re;break e}}else if(j.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===C&&wv(Ee)===j.type){o(F,j.sibling),re=f(j,H.props),jl(re,H),re.return=F,F=re;break e}o(F,j);break}else i(F,j);j=j.sibling}H.type===N?(re=na(H.props.children,F.mode,re,H.key),re.return=F,F=re):(re=Nc(H.type,H.key,H.props,null,F.mode,re),jl(re,H),re.return=F,F=re)}return E(F);case M:e:{for(Ee=H.key;j!==null;){if(j.key===Ee)if(j.tag===4&&j.stateNode.containerInfo===H.containerInfo&&j.stateNode.implementation===H.implementation){o(F,j.sibling),re=f(j,H.children||[]),re.return=F,F=re;break e}else{o(F,j);break}else i(F,j);j=j.sibling}re=yd(H,F.mode,re),re.return=F,F=re}return E(F);case C:return Ee=H._init,H=Ee(H._payload),ct(F,j,H,re)}if(je(H))return Me(F,j,H,re);if(P(H)){if(Ee=P(H),typeof Ee!="function")throw Error(s(150));return H=Ee.call(H),Ce(F,j,H,re)}if(typeof H.then=="function")return ct(F,j,$c(H),re);if(H.$$typeof===K)return ct(F,j,Mc(F,H),re);Kc(F,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,j!==null&&j.tag===6?(o(F,j.sibling),re=f(j,H),re.return=F,F=re):(o(F,j),re=gd(H,F.mode,re),re.return=F,F=re),E(F)):o(F,j)}return function(F,j,H,re){try{Ll=0;var Ee=ct(F,j,H,re);return ho=null,Ee}catch(we){if(we===Nl||we===Vc)throw we;var He=kn(29,we,null,F.mode);return He.lanes=re,He.return=F,He}finally{}}}var fo=Sv(!0),Av=Sv(!1),Wn=oe(null),Mr=null;function Ji(r){var i=r.alternate;he(Bt,Bt.current&1),he(Wn,r),Mr===null&&(i===null||oo.current!==null||i.memoizedState!==null)&&(Mr=r)}function xv(r){if(r.tag===22){if(he(Bt,Bt.current),he(Wn,r),Mr===null){var i=r.alternate;i!==null&&i.memoizedState!==null&&(Mr=r)}}else es()}function es(){he(Bt,Bt.current),he(Wn,Wn.current)}function yi(r){pe(Wn),Mr===r&&(Mr=null),pe(Bt)}var Bt=oe(0);function Qc(r){for(var i=r;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||jm(o)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Xd(r,i,o,u){i=r.memoizedState,o=o(u,i),o=o==null?i:v({},i,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Wd={enqueueSetState:function(r,i,o){r=r._reactInternals;var u=Ln(),f=Xi(u);f.payload=i,o!=null&&(f.callback=o),i=Wi(r,f,u),i!==null&&(jn(i,r,u),Dl(i,r,u))},enqueueReplaceState:function(r,i,o){r=r._reactInternals;var u=Ln(),f=Xi(u);f.tag=1,f.payload=i,o!=null&&(f.callback=o),i=Wi(r,f,u),i!==null&&(jn(i,r,u),Dl(i,r,u))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var o=Ln(),u=Xi(o);u.tag=2,i!=null&&(u.callback=i),i=Wi(r,u,o),i!==null&&(jn(i,r,o),Dl(i,r,o))}};function Rv(r,i,o,u,f,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):i.prototype&&i.prototype.isPureReactComponent?!bl(o,u)||!bl(f,m):!0}function Cv(r,i,o,u){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,u),i.state!==r&&Wd.enqueueReplaceState(i,i.state,null)}function ha(r,i){var o=i;if("ref"in i){o={};for(var u in i)u!=="ref"&&(o[u]=i[u])}if(r=r.defaultProps){o===i&&(o=v({},o));for(var f in r)o[f]===void 0&&(o[f]=r[f])}return o}var Yc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Nv(r){Yc(r)}function Iv(r){console.error(r)}function Dv(r){Yc(r)}function Xc(r,i){try{var o=r.onUncaughtError;o(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function Ov(r,i,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Zd(r,i,o){return o=Xi(o),o.tag=3,o.payload={element:null},o.callback=function(){Xc(r,i)},o}function Mv(r){return r=Xi(r),r.tag=3,r}function kv(r,i,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;r.payload=function(){return f(m)},r.callback=function(){Ov(i,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Ov(i,o,u),typeof f!="function"&&(as===null?as=new Set([this]):as.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function NA(r,i,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=o.alternate,i!==null&&xl(i,o,f,!0),o=Wn.current,o!==null){switch(o.tag){case 13:return Mr===null?Tm():o.alternate===null&&wt===0&&(wt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Rd?o.flags|=16384:(i=o.updateQueue,i===null?o.updateQueue=new Set([u]):i.add(u),Sm(r,u,f)),!1;case 22:return o.flags|=65536,u===Rd?o.flags|=16384:(i=o.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=i):(o=i.retryQueue,o===null?i.retryQueue=new Set([u]):o.add(u)),Sm(r,u,f)),!1}throw Error(s(435,o.tag))}return Sm(r,u,f),Tm(),!1}if(tt)return i=Wn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Ed&&(r=Error(s(422),{cause:u}),Al(Kn(r,o)))):(u!==Ed&&(i=Error(s(423),{cause:u}),Al(Kn(i,o))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=Kn(u,o),f=Zd(r.stateNode,u,f),Id(r,f),wt!==4&&(wt=2)),!1;var m=Error(s(520),{cause:u});if(m=Kn(m,o),$l===null?$l=[m]:$l.push(m),wt!==4&&(wt=2),i===null)return!0;u=Kn(u,o),o=i;do{switch(o.tag){case 3:return o.flags|=65536,r=f&-f,o.lanes|=r,r=Zd(o.stateNode,u,r),Id(o,r),!1;case 1:if(i=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(as===null||!as.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Mv(f),kv(f,r,o,u),Id(o,f),!1}o=o.return}while(o!==null);return!1}var Vv=Error(s(461)),Qt=!1;function en(r,i,o,u){i.child=r===null?Av(i,null,o,u):fo(i,r.child,o,u)}function Pv(r,i,o,u,f){o=o.render;var m=i.ref;if("ref"in u){var E={};for(var w in u)w!=="ref"&&(E[w]=u[w])}else E=u;return la(i),u=Vd(r,i,o,E,m,f),w=Pd(),r!==null&&!Qt?(Ud(r,i,f),vi(r,i,f)):(tt&&w&&vd(i),i.flags|=1,en(r,i,u,f),i.child)}function Uv(r,i,o,u,f){if(r===null){var m=o.type;return typeof m=="function"&&!pd(m)&&m.defaultProps===void 0&&o.compare===null?(i.tag=15,i.type=m,Lv(r,i,m,u,f)):(r=Nc(o.type,null,u,i,i.mode,f),r.ref=i.ref,r.return=i,i.child=r)}if(m=r.child,!am(r,f)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:bl,o(E,u)&&r.ref===i.ref)return vi(r,i,f)}return i.flags|=1,r=hi(m,u),r.ref=i.ref,r.return=i,i.child=r}function Lv(r,i,o,u,f){if(r!==null){var m=r.memoizedProps;if(bl(m,u)&&r.ref===i.ref)if(Qt=!1,i.pendingProps=u=m,am(r,f))(r.flags&131072)!==0&&(Qt=!0);else return i.lanes=r.lanes,vi(r,i,f)}return Jd(r,i,o,u,f)}function jv(r,i,o){var u=i.pendingProps,f=u.children,m=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((i.flags&128)!==0){if(u=m!==null?m.baseLanes|o:o,r!==null){for(f=i.child=r.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;i.childLanes=m&~u}else i.childLanes=0,i.child=null;return zv(r,i,u,o)}if((o&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},r!==null&&kc(i,m!==null?m.cachePool:null),m!==null?Ly(i,m):Od(),xv(i);else return i.lanes=i.childLanes=536870912,zv(r,i,m!==null?m.baseLanes|o:o,o)}else m!==null?(kc(i,m.cachePool),Ly(i,m),es(),i.memoizedState=null):(r!==null&&kc(i,null),Od(),es());return en(r,i,f,o),i.child}function zv(r,i,o,u){var f=xd();return f=f===null?null:{parent:zt._currentValue,pool:f},i.memoizedState={baseLanes:o,cachePool:f},r!==null&&kc(i,null),Od(),xv(i),r!==null&&xl(r,i,u,!0),null}function Wc(r,i){var o=i.ref;if(o===null)r!==null&&r.ref!==null&&(i.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(r===null||r.ref!==o)&&(i.flags|=4194816)}}function Jd(r,i,o,u,f){return la(i),o=Vd(r,i,o,u,void 0,f),u=Pd(),r!==null&&!Qt?(Ud(r,i,f),vi(r,i,f)):(tt&&u&&vd(i),i.flags|=1,en(r,i,o,f),i.child)}function Bv(r,i,o,u,f,m){return la(i),i.updateQueue=null,o=zy(i,u,o,f),jy(r),u=Pd(),r!==null&&!Qt?(Ud(r,i,m),vi(r,i,m)):(tt&&u&&vd(i),i.flags|=1,en(r,i,o,m),i.child)}function Fv(r,i,o,u,f){if(la(i),i.stateNode===null){var m=no,E=o.contextType;typeof E=="object"&&E!==null&&(m=ln(E)),m=new o(u,m),i.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Wd,i.stateNode=m,m._reactInternals=i,m=i.stateNode,m.props=u,m.state=i.memoizedState,m.refs={},Cd(i),E=o.contextType,m.context=typeof E=="object"&&E!==null?ln(E):no,m.state=i.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(Xd(i,o,E,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Wd.enqueueReplaceState(m,m.state,null),Ml(i,u,m,f),Ol(),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(r===null){m=i.stateNode;var w=i.memoizedProps,D=ha(o,w);m.props=D;var $=m.context,ne=o.contextType;E=no,typeof ne=="object"&&ne!==null&&(E=ln(ne));var se=o.getDerivedStateFromProps;ne=typeof se=="function"||typeof m.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,ne||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(w||$!==E)&&Cv(i,m,u,E),Yi=!1;var Y=i.memoizedState;m.state=Y,Ml(i,u,m,f),Ol(),$=i.memoizedState,w||Y!==$||Yi?(typeof se=="function"&&(Xd(i,o,se,u),$=i.memoizedState),(D=Yi||Rv(i,o,D,u,Y,$,E))?(ne||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(i.flags|=4194308)):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=$),m.props=u,m.state=$,m.context=E,u=D):(typeof m.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{m=i.stateNode,Nd(r,i),E=i.memoizedProps,ne=ha(o,E),m.props=ne,se=i.pendingProps,Y=m.context,$=o.contextType,D=no,typeof $=="object"&&$!==null&&(D=ln($)),w=o.getDerivedStateFromProps,($=typeof w=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==se||Y!==D)&&Cv(i,m,u,D),Yi=!1,Y=i.memoizedState,m.state=Y,Ml(i,u,m,f),Ol();var W=i.memoizedState;E!==se||Y!==W||Yi||r!==null&&r.dependencies!==null&&Oc(r.dependencies)?(typeof w=="function"&&(Xd(i,o,w,u),W=i.memoizedState),(ne=Yi||Rv(i,o,ne,u,Y,W,D)||r!==null&&r.dependencies!==null&&Oc(r.dependencies))?($||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,W,D),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,W,D)),typeof m.componentDidUpdate=="function"&&(i.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=W),m.props=u,m.state=W,m.context=D,u=ne):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(i.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&Y===r.memoizedState||(i.flags|=1024),u=!1)}return m=u,Wc(r,i),u=(i.flags&128)!==0,m||u?(m=i.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),i.flags|=1,r!==null&&u?(i.child=fo(i,r.child,null,f),i.child=fo(i,null,o,f)):en(r,i,o,f),i.memoizedState=m.state,r=i.child):r=vi(r,i,f),r}function qv(r,i,o,u){return Sl(),i.flags|=256,en(r,i,o,u),i.child}var em={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(r){return{baseLanes:r,cachePool:Iy()}}function nm(r,i,o){return r=r!==null?r.childLanes&~o:0,i&&(r|=Zn),r}function Hv(r,i,o){var u=i.pendingProps,f=!1,m=(i.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(Bt.current&2)!==0),E&&(f=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,r===null){if(tt){if(f?Ji(i):es(),tt){var w=Tt,D;if(D=w){e:{for(D=w,w=Or;D.nodeType!==8;){if(!w){w=null;break e}if(D=hr(D.nextSibling),D===null){w=null;break e}}w=D}w!==null?(i.memoizedState={dehydrated:w,treeContext:ra!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},D=kn(18,null,null,0),D.stateNode=w,D.return=i,i.child=D,En=i,Tt=null,D=!0):D=!1}D||aa(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return jm(w)?i.lanes=32:i.lanes=536870912,null;yi(i)}return w=u.children,u=u.fallback,f?(es(),f=i.mode,w=Zc({mode:"hidden",children:w},f),u=na(u,f,o,null),w.return=i,u.return=i,w.sibling=u,i.child=w,f=i.child,f.memoizedState=tm(o),f.childLanes=nm(r,E,o),i.memoizedState=em,u):(Ji(i),rm(i,w))}if(D=r.memoizedState,D!==null&&(w=D.dehydrated,w!==null)){if(m)i.flags&256?(Ji(i),i.flags&=-257,i=im(r,i,o)):i.memoizedState!==null?(es(),i.child=r.child,i.flags|=128,i=null):(es(),f=u.fallback,w=i.mode,u=Zc({mode:"visible",children:u.children},w),f=na(f,w,o,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,fo(i,r.child,null,o),u=i.child,u.memoizedState=tm(o),u.childLanes=nm(r,E,o),i.memoizedState=em,i=f);else if(Ji(i),jm(w)){if(E=w.nextSibling&&w.nextSibling.dataset,E)var $=E.dgst;E=$,u=Error(s(419)),u.stack="",u.digest=E,Al({value:u,source:null,stack:null}),i=im(r,i,o)}else if(Qt||xl(r,i,o,!1),E=(o&r.childLanes)!==0,Qt||E){if(E=ft,E!==null&&(u=o&-o,u=(u&42)!==0?1:Bi(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,to(r,u),jn(E,r,u),Vv;w.data==="$?"||Tm(),i=im(r,i,o)}else w.data==="$?"?(i.flags|=192,i.child=r.child,i=null):(r=D.treeContext,Tt=hr(w.nextSibling),En=i,tt=!0,sa=null,Or=!1,r!==null&&(Yn[Xn++]=fi,Yn[Xn++]=di,Yn[Xn++]=ra,fi=r.id,di=r.overflow,ra=i),i=rm(i,u.children),i.flags|=4096);return i}return f?(es(),f=u.fallback,w=i.mode,D=r.child,$=D.sibling,u=hi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,$!==null?f=hi($,f):(f=na(f,w,o,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,w=r.child.memoizedState,w===null?w=tm(o):(D=w.cachePool,D!==null?($=zt._currentValue,D=D.parent!==$?{parent:$,pool:$}:D):D=Iy(),w={baseLanes:w.baseLanes|o,cachePool:D}),f.memoizedState=w,f.childLanes=nm(r,E,o),i.memoizedState=em,u):(Ji(i),o=r.child,r=o.sibling,o=hi(o,{mode:"visible",children:u.children}),o.return=i,o.sibling=null,r!==null&&(E=i.deletions,E===null?(i.deletions=[r],i.flags|=16):E.push(r)),i.child=o,i.memoizedState=null,o)}function rm(r,i){return i=Zc({mode:"visible",children:i},r.mode),i.return=r,r.child=i}function Zc(r,i){return r=kn(22,r,null,i),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function im(r,i,o){return fo(i,r.child,null,o),r=rm(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function Gv(r,i,o){r.lanes|=i;var u=r.alternate;u!==null&&(u.lanes|=i),Td(r.return,i,o)}function sm(r,i,o,u,f){var m=r.memoizedState;m===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(m.isBackwards=i,m.rendering=null,m.renderingStartTime=0,m.last=u,m.tail=o,m.tailMode=f)}function $v(r,i,o){var u=i.pendingProps,f=u.revealOrder,m=u.tail;if(en(r,i,u.children,o),u=Bt.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gv(r,o,i);else if(r.tag===19)Gv(r,o,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(he(Bt,u),f){case"forwards":for(o=i.child,f=null;o!==null;)r=o.alternate,r!==null&&Qc(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=i.child,i.child=null):(f=o.sibling,o.sibling=null),sm(i,!1,f,o,m);break;case"backwards":for(o=null,f=i.child,i.child=null;f!==null;){if(r=f.alternate,r!==null&&Qc(r)===null){i.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}sm(i,!0,o,null,m);break;case"together":sm(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function vi(r,i,o){if(r!==null&&(i.dependencies=r.dependencies),ss|=i.lanes,(o&i.childLanes)===0)if(r!==null){if(xl(r,i,o,!1),(o&i.childLanes)===0)return null}else return null;if(r!==null&&i.child!==r.child)throw Error(s(153));if(i.child!==null){for(r=i.child,o=hi(r,r.pendingProps),i.child=o,o.return=i;r.sibling!==null;)r=r.sibling,o=o.sibling=hi(r,r.pendingProps),o.return=i;o.sibling=null}return i.child}function am(r,i){return(r.lanes&i)!==0?!0:(r=r.dependencies,!!(r!==null&&Oc(r)))}function IA(r,i,o){switch(i.tag){case 3:at(i,i.stateNode.containerInfo),Qi(i,zt,r.memoizedState.cache),Sl();break;case 27:case 5:ir(i);break;case 4:at(i,i.stateNode.containerInfo);break;case 10:Qi(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(Ji(i),i.flags|=128,null):(o&i.child.childLanes)!==0?Hv(r,i,o):(Ji(i),r=vi(r,i,o),r!==null?r.sibling:null);Ji(i);break;case 19:var f=(r.flags&128)!==0;if(u=(o&i.childLanes)!==0,u||(xl(r,i,o,!1),u=(o&i.childLanes)!==0),f){if(u)return $v(r,i,o);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),he(Bt,Bt.current),u)break;return null;case 22:case 23:return i.lanes=0,jv(r,i,o);case 24:Qi(i,zt,r.memoizedState.cache)}return vi(r,i,o)}function Kv(r,i,o){if(r!==null)if(r.memoizedProps!==i.pendingProps)Qt=!0;else{if(!am(r,o)&&(i.flags&128)===0)return Qt=!1,IA(r,i,o);Qt=(r.flags&131072)!==0}else Qt=!1,tt&&(i.flags&1048576)!==0&&wy(i,Dc,i.index);switch(i.lanes=0,i.tag){case 16:e:{r=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")pd(u)?(r=ha(u,r),i.tag=1,i=Fv(null,i,u,r,o)):(i.tag=0,i=Jd(null,i,u,r,o));else{if(u!=null){if(f=u.$$typeof,f===de){i.tag=11,i=Pv(null,i,u,r,o);break e}else if(f===V){i.tag=14,i=Uv(null,i,u,r,o);break e}}throw i=Ae(u)||u,Error(s(306,i,""))}}return i;case 0:return Jd(r,i,i.type,i.pendingProps,o);case 1:return u=i.type,f=ha(u,i.pendingProps),Fv(r,i,u,f,o);case 3:e:{if(at(i,i.stateNode.containerInfo),r===null)throw Error(s(387));u=i.pendingProps;var m=i.memoizedState;f=m.element,Nd(r,i),Ml(i,u,null,o);var E=i.memoizedState;if(u=E.cache,Qi(i,zt,u),u!==m.cache&&wd(i,[zt],o,!0),Ol(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=m,i.memoizedState=m,i.flags&256){i=qv(r,i,u,o);break e}else if(u!==f){f=Kn(Error(s(424)),i),Al(f),i=qv(r,i,u,o);break e}else{switch(r=i.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Tt=hr(r.firstChild),En=i,tt=!0,sa=null,Or=!0,o=Av(i,null,u,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Sl(),u===f){i=vi(r,i,o);break e}en(r,i,u,o)}i=i.child}return i;case 26:return Wc(r,i),r===null?(o=W0(i.type,null,i.pendingProps,null))?i.memoizedState=o:tt||(o=i.type,r=i.pendingProps,u=fh(Oe.current).createElement(o),u[Ut]=i,u[Dt]=r,nn(u,o,r),At(u),i.stateNode=u):i.memoizedState=W0(i.type,r.memoizedProps,i.pendingProps,r.memoizedState),null;case 27:return ir(i),r===null&&tt&&(u=i.stateNode=Q0(i.type,i.pendingProps,Oe.current),En=i,Or=!0,f=Tt,us(i.type)?(zm=f,Tt=hr(u.firstChild)):Tt=f),en(r,i,i.pendingProps.children,o),Wc(r,i),r===null&&(i.flags|=4194304),i.child;case 5:return r===null&&tt&&((f=u=Tt)&&(u=ix(u,i.type,i.pendingProps,Or),u!==null?(i.stateNode=u,En=i,Tt=hr(u.firstChild),Or=!1,f=!0):f=!1),f||aa(i)),ir(i),f=i.type,m=i.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,Pm(f,m)?u=null:E!==null&&Pm(f,E)&&(i.flags|=32),i.memoizedState!==null&&(f=Vd(r,i,TA,null,null,o),tu._currentValue=f),Wc(r,i),en(r,i,u,o),i.child;case 6:return r===null&&tt&&((r=o=Tt)&&(o=sx(o,i.pendingProps,Or),o!==null?(i.stateNode=o,En=i,Tt=null,r=!0):r=!1),r||aa(i)),null;case 13:return Hv(r,i,o);case 4:return at(i,i.stateNode.containerInfo),u=i.pendingProps,r===null?i.child=fo(i,null,u,o):en(r,i,u,o),i.child;case 11:return Pv(r,i,i.type,i.pendingProps,o);case 7:return en(r,i,i.pendingProps,o),i.child;case 8:return en(r,i,i.pendingProps.children,o),i.child;case 12:return en(r,i,i.pendingProps.children,o),i.child;case 10:return u=i.pendingProps,Qi(i,i.type,u.value),en(r,i,u.children,o),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,la(i),f=ln(f),u=u(f),i.flags|=1,en(r,i,u,o),i.child;case 14:return Uv(r,i,i.type,i.pendingProps,o);case 15:return Lv(r,i,i.type,i.pendingProps,o);case 19:return $v(r,i,o);case 31:return u=i.pendingProps,o=i.mode,u={mode:u.mode,children:u.children},r===null?(o=Zc(u,o),o.ref=i.ref,i.child=o,o.return=i,i=o):(o=hi(r.child,u),o.ref=i.ref,i.child=o,o.return=i,i=o),i;case 22:return jv(r,i,o);case 24:return la(i),u=ln(zt),r===null?(f=xd(),f===null&&(f=ft,m=Sd(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),i.memoizedState={parent:u,cache:f},Cd(i),Qi(i,zt,f)):((r.lanes&o)!==0&&(Nd(r,i),Ml(i,null,null,o),Ol()),f=r.memoizedState,m=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Qi(i,zt,u)):(u=m.cache,Qi(i,zt,u),u!==f.cache&&wd(i,[zt],o,!0))),en(r,i,i.pendingProps.children,o),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function _i(r){r.flags|=4}function Qv(r,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!n_(i)){if(i=Wn.current,i!==null&&((Ze&4194048)===Ze?Mr!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||i!==Mr))throw Il=Rd,Dy;r.flags|=8192}}function Jc(r,i){i!==null&&(r.flags|=4),r.flags&16384&&(i=r.tag!==22?rl():536870912,r.lanes|=i,yo|=i)}function zl(r,i){if(!tt)switch(r.tailMode){case"hidden":i=r.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function vt(r){var i=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(i)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,i}function DA(r,i,o){var u=i.pendingProps;switch(_d(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(i),null;case 1:return vt(i),null;case 3:return o=i.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),pi(zt),wn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(wl(i)?_i(i):r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,xy())),vt(i),null;case 26:return o=i.memoizedState,r===null?(_i(i),o!==null?(vt(i),Qv(i,o)):(vt(i),i.flags&=-16777217)):o?o!==r.memoizedState?(_i(i),vt(i),Qv(i,o)):(vt(i),i.flags&=-16777217):(r.memoizedProps!==u&&_i(i),vt(i),i.flags&=-16777217),null;case 27:In(i),o=Oe.current;var f=i.type;if(r!==null&&i.stateNode!=null)r.memoizedProps!==u&&_i(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return vt(i),null}r=Se.current,wl(i)?Sy(i):(r=Q0(f,u,o),i.stateNode=r,_i(i))}return vt(i),null;case 5:if(In(i),o=i.type,r!==null&&i.stateNode!=null)r.memoizedProps!==u&&_i(i);else{if(!u){if(i.stateNode===null)throw Error(s(166));return vt(i),null}if(r=Se.current,wl(i))Sy(i);else{switch(f=fh(Oe.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}r[Ut]=i,r[Dt]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=r;e:switch(nn(r,o,u),o){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&_i(i)}}return vt(i),i.flags&=-16777217,null;case 6:if(r&&i.stateNode!=null)r.memoizedProps!==u&&_i(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(s(166));if(r=Oe.current,wl(i)){if(r=i.stateNode,o=i.memoizedProps,u=null,f=En,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[Ut]=i,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||B0(r.nodeValue,o)),r||aa(i)}else r=fh(r).createTextNode(u),r[Ut]=i,i.stateNode=r}return vt(i),null;case 13:if(u=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=wl(i),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ut]=i}else Sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;vt(i),f=!1}else f=xy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(yi(i),i):(yi(i),null)}if(yi(i),(i.flags&128)!==0)return i.lanes=o,i;if(o=u!==null,r=r!==null&&r.memoizedState!==null,o){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var m=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)}return o!==r&&o&&(i.child.flags|=8192),Jc(i,i.updateQueue),vt(i),null;case 4:return wn(),r===null&&Dm(i.stateNode.containerInfo),vt(i),null;case 10:return pi(i.type),vt(i),null;case 19:if(pe(Bt),f=i.memoizedState,f===null)return vt(i),null;if(u=(i.flags&128)!==0,m=f.rendering,m===null)if(u)zl(f,!1);else{if(wt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(m=Qc(r),m!==null){for(i.flags|=128,zl(f,!1),r=m.updateQueue,i.updateQueue=r,Jc(i,r),i.subtreeFlags=0,r=o,o=i.child;o!==null;)Ty(o,r),o=o.sibling;return he(Bt,Bt.current&1|2),i.child}r=r.sibling}f.tail!==null&&gn()>nh&&(i.flags|=128,u=!0,zl(f,!1),i.lanes=4194304)}else{if(!u)if(r=Qc(m),r!==null){if(i.flags|=128,u=!0,r=r.updateQueue,i.updateQueue=r,Jc(i,r),zl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!tt)return vt(i),null}else 2*gn()-f.renderingStartTime>nh&&o!==536870912&&(i.flags|=128,u=!0,zl(f,!1),i.lanes=4194304);f.isBackwards?(m.sibling=i.child,i.child=m):(r=f.last,r!==null?r.sibling=m:i.child=m,f.last=m)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=gn(),i.sibling=null,r=Bt.current,he(Bt,u?r&1|2:r&1),i):(vt(i),null);case 22:case 23:return yi(i),Md(),u=i.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(o&536870912)!==0&&(i.flags&128)===0&&(vt(i),i.subtreeFlags&6&&(i.flags|=8192)):vt(i),o=i.updateQueue,o!==null&&Jc(i,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048),r!==null&&pe(ua),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),pi(zt),vt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function OA(r,i){switch(_d(i),i.tag){case 1:return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return pi(zt),wn(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 26:case 27:case 5:return In(i),null;case 13:if(yi(i),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Sl()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return pe(Bt),null;case 4:return wn(),null;case 10:return pi(i.type),null;case 22:case 23:return yi(i),Md(),r!==null&&pe(ua),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 24:return pi(zt),null;case 25:return null;default:return null}}function Yv(r,i){switch(_d(i),i.tag){case 3:pi(zt),wn();break;case 26:case 27:case 5:In(i);break;case 4:wn();break;case 13:yi(i);break;case 19:pe(Bt);break;case 10:pi(i.type);break;case 22:case 23:yi(i),Md(),r!==null&&pe(ua);break;case 24:pi(zt)}}function Bl(r,i){try{var o=i.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==f)}}catch(w){ht(i,i.return,w)}}function ts(r,i,o){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&r)===r){var E=u.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,f=i;var D=o,$=w;try{$()}catch(ne){ht(f,D,ne)}}}u=u.next}while(u!==m)}}catch(ne){ht(i,i.return,ne)}}function Xv(r){var i=r.updateQueue;if(i!==null){var o=r.stateNode;try{Uy(i,o)}catch(u){ht(r,r.return,u)}}}function Wv(r,i,o){o.props=ha(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){ht(r,i,u)}}function Fl(r,i){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(f){ht(r,i,f)}}function kr(r,i){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ht(r,i,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ht(r,i,f)}else o.current=null}function Zv(r){var i=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ht(r,r.return,f)}}function om(r,i,o){try{var u=r.stateNode;JA(u,r.type,o,i),u[Dt]=i}catch(f){ht(r,r.return,f)}}function Jv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&us(r.type)||r.tag===4}function lm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Jv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&us(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function um(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,i):(i=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,i.appendChild(r),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=hh));else if(u!==4&&(u===27&&us(r.type)&&(o=r.stateNode,i=null),r=r.child,r!==null))for(um(r,i,o),r=r.sibling;r!==null;)um(r,i,o),r=r.sibling}function eh(r,i,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,i?o.insertBefore(r,i):o.appendChild(r);else if(u!==4&&(u===27&&us(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(eh(r,i,o),r=r.sibling;r!==null;)eh(r,i,o),r=r.sibling}function e0(r){var i=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);nn(i,u,o),i[Ut]=r,i[Dt]=o}catch(m){ht(r,r.return,m)}}var Ei=!1,Rt=!1,cm=!1,t0=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function MA(r,i){if(r=r.containerInfo,km=vh,r=fy(r),ld(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,w=-1,D=-1,$=0,ne=0,se=r,Y=null;t:for(;;){for(var W;se!==o||f!==0&&se.nodeType!==3||(w=E+f),se!==m||u!==0&&se.nodeType!==3||(D=E+u),se.nodeType===3&&(E+=se.nodeValue.length),(W=se.firstChild)!==null;)Y=se,se=W;for(;;){if(se===r)break t;if(Y===o&&++$===f&&(w=E),Y===m&&++ne===u&&(D=E),(W=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=W}o=w===-1||D===-1?null:{start:w,end:D}}else o=null}o=o||{start:0,end:0}}else o=null;for(Vm={focusedElem:r,selectionRange:o},vh=!1,Yt=i;Yt!==null;)if(i=Yt,r=i.child,(i.subtreeFlags&1024)!==0&&r!==null)r.return=i,Yt=r;else for(;Yt!==null;){switch(i=Yt,m=i.alternate,r=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=i,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var Me=ha(o.type,f,o.elementType===o.type);r=u.getSnapshotBeforeUpdate(Me,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ce){ht(o,o.return,Ce)}}break;case 3:if((r&1024)!==0){if(r=i.stateNode.containerInfo,o=r.nodeType,o===9)Lm(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Lm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(s(163))}if(r=i.sibling,r!==null){r.return=i.return,Yt=r;break}Yt=i.return}}function n0(r,i,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:ns(r,o),u&4&&Bl(5,o);break;case 1:if(ns(r,o),u&4)if(r=o.stateNode,i===null)try{r.componentDidMount()}catch(E){ht(o,o.return,E)}else{var f=ha(o.type,i.memoizedProps);i=i.memoizedState;try{r.componentDidUpdate(f,i,r.__reactInternalSnapshotBeforeUpdate)}catch(E){ht(o,o.return,E)}}u&64&&Xv(o),u&512&&Fl(o,o.return);break;case 3:if(ns(r,o),u&64&&(r=o.updateQueue,r!==null)){if(i=null,o.child!==null)switch(o.child.tag){case 27:case 5:i=o.child.stateNode;break;case 1:i=o.child.stateNode}try{Uy(r,i)}catch(E){ht(o,o.return,E)}}break;case 27:i===null&&u&4&&e0(o);case 26:case 5:ns(r,o),i===null&&u&4&&Zv(o),u&512&&Fl(o,o.return);break;case 12:ns(r,o);break;case 13:ns(r,o),u&4&&s0(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=FA.bind(null,o),ax(r,o))));break;case 22:if(u=o.memoizedState!==null||Ei,!u){i=i!==null&&i.memoizedState!==null||Rt,f=Ei;var m=Rt;Ei=u,(Rt=i)&&!m?rs(r,o,(o.subtreeFlags&8772)!==0):ns(r,o),Ei=f,Rt=m}break;case 30:break;default:ns(r,o)}}function r0(r){var i=r.alternate;i!==null&&(r.alternate=null,r0(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&Hi(i)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var gt=null,An=!1;function bi(r,i,o){for(o=o.child;o!==null;)i0(r,i,o),o=o.sibling}function i0(r,i,o){if(ie&&typeof ie.onCommitFiberUnmount=="function")try{ie.onCommitFiberUnmount(ue,o)}catch{}switch(o.tag){case 26:Rt||kr(o,i),bi(r,i,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Rt||kr(o,i);var u=gt,f=An;us(o.type)&&(gt=o.stateNode,An=!1),bi(r,i,o),Wl(o.stateNode),gt=u,An=f;break;case 5:Rt||kr(o,i);case 6:if(u=gt,f=An,gt=null,bi(r,i,o),gt=u,An=f,gt!==null)if(An)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(m){ht(o,i,m)}else try{gt.removeChild(o.stateNode)}catch(m){ht(o,i,m)}break;case 18:gt!==null&&(An?(r=gt,$0(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),su(r)):$0(gt,o.stateNode));break;case 4:u=gt,f=An,gt=o.stateNode.containerInfo,An=!0,bi(r,i,o),gt=u,An=f;break;case 0:case 11:case 14:case 15:Rt||ts(2,o,i),Rt||ts(4,o,i),bi(r,i,o);break;case 1:Rt||(kr(o,i),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Wv(o,i,u)),bi(r,i,o);break;case 21:bi(r,i,o);break;case 22:Rt=(u=Rt)||o.memoizedState!==null,bi(r,i,o),Rt=u;break;default:bi(r,i,o)}}function s0(r,i){if(i.memoizedState===null&&(r=i.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{su(r)}catch(o){ht(i,i.return,o)}}function kA(r){switch(r.tag){case 13:case 19:var i=r.stateNode;return i===null&&(i=r.stateNode=new t0),i;case 22:return r=r.stateNode,i=r._retryCache,i===null&&(i=r._retryCache=new t0),i;default:throw Error(s(435,r.tag))}}function hm(r,i){var o=kA(r);i.forEach(function(u){var f=qA.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}function Vn(r,i){var o=i.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=r,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:if(us(w.type)){gt=w.stateNode,An=!1;break e}break;case 5:gt=w.stateNode,An=!1;break e;case 3:case 4:gt=w.stateNode.containerInfo,An=!0;break e}w=w.return}if(gt===null)throw Error(s(160));i0(m,E,f),gt=null,An=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)a0(i,r),i=i.sibling}var cr=null;function a0(r,i){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Vn(i,r),Pn(r),u&4&&(ts(3,r,r.return),Bl(3,r),ts(5,r,r.return));break;case 1:Vn(i,r),Pn(r),u&512&&(Rt||o===null||kr(o,o.return)),u&64&&Ei&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=cr;if(Vn(i,r),Pn(r),u&512&&(Rt||o===null||kr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[zs]||m[Ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),nn(m,u,o),m[Ut]=r,At(m),u=m;break e;case"link":var E=e_("link","href",f).get(u+(o.href||""));if(E){for(var w=0;w<E.length;w++)if(m=E[w],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(w,1);break t}}m=f.createElement(u),nn(m,u,o),f.head.appendChild(m);break;case"meta":if(E=e_("meta","content",f).get(u+(o.content||""))){for(w=0;w<E.length;w++)if(m=E[w],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(w,1);break t}}m=f.createElement(u),nn(m,u,o),f.head.appendChild(m);break;default:throw Error(s(468,u))}m[Ut]=r,At(m),u=m}r.stateNode=u}else t_(f,r.type,r.stateNode);else r.stateNode=J0(f,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?t_(f,r.type,r.stateNode):J0(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&om(r,r.memoizedProps,o.memoizedProps)}break;case 27:Vn(i,r),Pn(r),u&512&&(Rt||o===null||kr(o,o.return)),o!==null&&u&4&&om(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Vn(i,r),Pn(r),u&512&&(Rt||o===null||kr(o,o.return)),r.flags&32){f=r.stateNode;try{qn(f,"")}catch(W){ht(r,r.return,W)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,om(r,f,o!==null?o.memoizedProps:f)),u&1024&&(cm=!0);break;case 6:if(Vn(i,r),Pn(r),u&4){if(r.stateNode===null)throw Error(s(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(W){ht(r,r.return,W)}}break;case 3:if(ph=null,f=cr,cr=dh(i.containerInfo),Vn(i,r),cr=f,Pn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{su(i.containerInfo)}catch(W){ht(r,r.return,W)}cm&&(cm=!1,o0(r));break;case 4:u=cr,cr=dh(r.stateNode.containerInfo),Vn(i,r),Pn(r),cr=u;break;case 12:Vn(i,r),Pn(r);break;case 13:Vn(i,r),Pn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(ym=gn()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hm(r,u)));break;case 22:f=r.memoizedState!==null;var D=o!==null&&o.memoizedState!==null,$=Ei,ne=Rt;if(Ei=$||f,Rt=ne||D,Vn(i,r),Rt=ne,Ei=$,Pn(r),u&8192)e:for(i=r.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(o===null||D||Ei||Rt||fa(r)),o=null,i=r;;){if(i.tag===5||i.tag===26){if(o===null){D=o=i;try{if(m=D.stateNode,f)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{w=D.stateNode;var se=D.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;w.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(W){ht(D,D.return,W)}}}else if(i.tag===6){if(o===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(W){ht(D,D.return,W)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===r)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;o===i&&(o=null),i=i.return}o===i&&(o=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,hm(r,o))));break;case 19:Vn(i,r),Pn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,hm(r,u)));break;case 30:break;case 21:break;default:Vn(i,r),Pn(r)}}function Pn(r){var i=r.flags;if(i&2){try{for(var o,u=r.return;u!==null;){if(Jv(u)){o=u;break}u=u.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,m=lm(r);eh(r,m,f);break;case 5:var E=o.stateNode;o.flags&32&&(qn(E,""),o.flags&=-33);var w=lm(r);eh(r,w,E);break;case 3:case 4:var D=o.stateNode.containerInfo,$=lm(r);um(r,$,D);break;default:throw Error(s(161))}}catch(ne){ht(r,r.return,ne)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function o0(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var i=r;o0(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),r=r.sibling}}function ns(r,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n0(r,i.alternate,i),i=i.sibling}function fa(r){for(r=r.child;r!==null;){var i=r;switch(i.tag){case 0:case 11:case 14:case 15:ts(4,i,i.return),fa(i);break;case 1:kr(i,i.return);var o=i.stateNode;typeof o.componentWillUnmount=="function"&&Wv(i,i.return,o),fa(i);break;case 27:Wl(i.stateNode);case 26:case 5:kr(i,i.return),fa(i);break;case 22:i.memoizedState===null&&fa(i);break;case 30:fa(i);break;default:fa(i)}r=r.sibling}}function rs(r,i,o){for(o=o&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=r,m=i,E=m.flags;switch(m.tag){case 0:case 11:case 15:rs(f,m,o),Bl(4,m);break;case 1:if(rs(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){ht(u,u.return,$)}if(u=m,f=u.updateQueue,f!==null){var w=u.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Py(D[f],w)}catch($){ht(u,u.return,$)}}o&&E&64&&Xv(m),Fl(m,m.return);break;case 27:e0(m);case 26:case 5:rs(f,m,o),o&&u===null&&E&4&&Zv(m),Fl(m,m.return);break;case 12:rs(f,m,o);break;case 13:rs(f,m,o),o&&E&4&&s0(f,m);break;case 22:m.memoizedState===null&&rs(f,m,o),Fl(m,m.return);break;case 30:break;default:rs(f,m,o)}i=i.sibling}}function fm(r,i){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Rl(o))}function dm(r,i){r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Rl(r))}function Vr(r,i,o,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l0(r,i,o,u),i=i.sibling}function l0(r,i,o,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Vr(r,i,o,u),f&2048&&Bl(9,i);break;case 1:Vr(r,i,o,u);break;case 3:Vr(r,i,o,u),f&2048&&(r=null,i.alternate!==null&&(r=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==r&&(i.refCount++,r!=null&&Rl(r)));break;case 12:if(f&2048){Vr(r,i,o,u),r=i.stateNode;try{var m=i.memoizedProps,E=m.id,w=m.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(D){ht(i,i.return,D)}}else Vr(r,i,o,u);break;case 13:Vr(r,i,o,u);break;case 23:break;case 22:m=i.stateNode,E=i.alternate,i.memoizedState!==null?m._visibility&2?Vr(r,i,o,u):ql(r,i):m._visibility&2?Vr(r,i,o,u):(m._visibility|=2,mo(r,i,o,u,(i.subtreeFlags&10256)!==0)),f&2048&&fm(E,i);break;case 24:Vr(r,i,o,u),f&2048&&dm(i.alternate,i);break;default:Vr(r,i,o,u)}}function mo(r,i,o,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var m=r,E=i,w=o,D=u,$=E.flags;switch(E.tag){case 0:case 11:case 15:mo(m,E,w,D,f),Bl(8,E);break;case 23:break;case 22:var ne=E.stateNode;E.memoizedState!==null?ne._visibility&2?mo(m,E,w,D,f):ql(m,E):(ne._visibility|=2,mo(m,E,w,D,f)),f&&$&2048&&fm(E.alternate,E);break;case 24:mo(m,E,w,D,f),f&&$&2048&&dm(E.alternate,E);break;default:mo(m,E,w,D,f)}i=i.sibling}}function ql(r,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var o=r,u=i,f=u.flags;switch(u.tag){case 22:ql(o,u),f&2048&&fm(u.alternate,u);break;case 24:ql(o,u),f&2048&&dm(u.alternate,u);break;default:ql(o,u)}i=i.sibling}}var Hl=8192;function po(r){if(r.subtreeFlags&Hl)for(r=r.child;r!==null;)u0(r),r=r.sibling}function u0(r){switch(r.tag){case 26:po(r),r.flags&Hl&&r.memoizedState!==null&&_x(cr,r.memoizedState,r.memoizedProps);break;case 5:po(r);break;case 3:case 4:var i=cr;cr=dh(r.stateNode.containerInfo),po(r),cr=i;break;case 22:r.memoizedState===null&&(i=r.alternate,i!==null&&i.memoizedState!==null?(i=Hl,Hl=16777216,po(r),Hl=i):po(r));break;default:po(r)}}function c0(r){var i=r.alternate;if(i!==null&&(r=i.child,r!==null)){i.child=null;do i=r.sibling,r.sibling=null,r=i;while(r!==null)}}function Gl(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Yt=u,f0(u,r)}c0(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)h0(r),r=r.sibling}function h0(r){switch(r.tag){case 0:case 11:case 15:Gl(r),r.flags&2048&&ts(9,r,r.return);break;case 3:Gl(r);break;case 12:Gl(r);break;case 22:var i=r.stateNode;r.memoizedState!==null&&i._visibility&2&&(r.return===null||r.return.tag!==13)?(i._visibility&=-3,th(r)):Gl(r);break;default:Gl(r)}}function th(r){var i=r.deletions;if((r.flags&16)!==0){if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Yt=u,f0(u,r)}c0(r)}for(r=r.child;r!==null;){switch(i=r,i.tag){case 0:case 11:case 15:ts(8,i,i.return),th(i);break;case 22:o=i.stateNode,o._visibility&2&&(o._visibility&=-3,th(i));break;default:th(i)}r=r.sibling}}function f0(r,i){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:ts(8,o,i);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Rl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=r;Yt!==null;){u=Yt;var f=u.sibling,m=u.return;if(r0(u),u===o){Yt=null;break e}if(f!==null){f.return=m,Yt=f;break e}Yt=m}}}var VA={getCacheForType:function(r){var i=ln(zt),o=i.data.get(r);return o===void 0&&(o=r(),i.data.set(r,o)),o}},PA=typeof WeakMap=="function"?WeakMap:Map,it=0,ft=null,$e=null,Ze=0,st=0,Un=null,is=!1,go=!1,mm=!1,Ti=0,wt=0,ss=0,da=0,pm=0,Zn=0,yo=0,$l=null,xn=null,gm=!1,ym=0,nh=1/0,rh=null,as=null,tn=0,os=null,vo=null,_o=0,vm=0,_m=null,d0=null,Kl=0,Em=null;function Ln(){if((it&2)!==0&&Ze!==0)return Ze&-Ze;if(J.T!==null){var r=so;return r!==0?r:Rm()}return Fi()}function m0(){Zn===0&&(Zn=(Ze&536870912)===0||tt?nl():536870912);var r=Wn.current;return r!==null&&(r.flags|=32),Zn}function jn(r,i,o){(r===ft&&(st===2||st===9)||r.cancelPendingCommit!==null)&&(Eo(r,0),ls(r,Ze,Zn,!1)),ei(r,o),((it&2)===0||r!==ft)&&(r===ft&&((it&2)===0&&(da|=o),wt===4&&ls(r,Ze,Zn,!1)),Pr(r))}function p0(r,i,o){if((it&6)!==0)throw Error(s(327));var u=!o&&(i&124)===0&&(i&r.expiredLanes)===0||Zr(r,i),f=u?jA(r,i):wm(r,i,!0),m=u;do{if(f===0){go&&!u&&ls(r,i,0,!1);break}else{if(o=r.current.alternate,m&&!UA(o)){f=wm(r,i,!1),m=!1;continue}if(f===2){if(m=i,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=r;f=$l;var D=w.current.memoizedState.isDehydrated;if(D&&(Eo(w,E).flags|=256),E=wm(w,E,!1),E!==2){if(mm&&!D){w.errorRecoveryDisabledLanes|=m,da|=m,f=4;break e}m=xn,xn=f,m!==null&&(xn===null?xn=m:xn.push.apply(xn,m))}f=E}if(m=!1,f!==2)continue}}if(f===1){Eo(r,0),ls(r,i,0,!0);break}e:{switch(u=r,m=f,m){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:ls(u,i,Zn,!is);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=ym+300-gn(),10<f)){if(ls(u,i,Zn,!is),Wr(u,0,!0)!==0)break e;u.timeoutHandle=H0(g0.bind(null,u,o,xn,rh,gm,i,Zn,da,yo,is,m,2,-0,0),f);break e}g0(u,o,xn,rh,gm,i,Zn,da,yo,is,m,0,-0,0)}}break}while(!0);Pr(r)}function g0(r,i,o,u,f,m,E,w,D,$,ne,se,Y,W){if(r.timeoutHandle=-1,se=i.subtreeFlags,(se&8192||(se&16785408)===16785408)&&(eu={stylesheets:null,count:0,unsuspend:vx},u0(i),se=Ex(),se!==null)){r.cancelPendingCommit=se(w0.bind(null,r,i,m,o,u,f,E,w,D,ne,1,Y,W)),ls(r,m,E,!$);return}w0(r,i,m,o,u,f,E,w,D)}function UA(r){for(var i=r;;){var o=i.tag;if((o===0||o===11||o===15)&&i.flags&16384&&(o=i.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!Mn(m(),f))return!1}catch{return!1}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ls(r,i,o,u){i&=~pm,i&=~da,r.suspendedLanes|=i,r.pingedLanes&=~i,u&&(r.warmLanes|=i),u=r.expirationTimes;for(var f=i;0<f;){var m=31-Ie(f),E=1<<m;u[m]=-1,f&=~E}o!==0&&br(r,o,i)}function ih(){return(it&6)===0?(Ql(0),!1):!0}function bm(){if($e!==null){if(st===0)var r=$e.return;else r=$e,mi=oa=null,Ld(r),ho=null,Ll=0,r=$e;for(;r!==null;)Yv(r.alternate,r),r=r.return;$e=null}}function Eo(r,i){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,tx(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),bm(),ft=r,$e=o=hi(r.current,null),Ze=i,st=0,Un=null,is=!1,go=Zr(r,i),mm=!1,yo=Zn=pm=da=ss=wt=0,xn=$l=null,gm=!1,(i&8)!==0&&(i|=i&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=i;0<u;){var f=31-Ie(u),m=1<<f;i|=r[f],u&=~m}return Ti=i,xc(),o}function y0(r,i){Fe=null,J.H=Gc,i===Nl||i===Vc?(i=ky(),st=3):i===Dy?(i=ky(),st=4):st=i===Vv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Un=i,$e===null&&(wt=1,Xc(r,Kn(i,r.current)))}function v0(){var r=J.H;return J.H=Gc,r===null?Gc:r}function _0(){var r=J.A;return J.A=VA,r}function Tm(){wt=4,is||(Ze&4194048)!==Ze&&Wn.current!==null||(go=!0),(ss&134217727)===0&&(da&134217727)===0||ft===null||ls(ft,Ze,Zn,!1)}function wm(r,i,o){var u=it;it|=2;var f=v0(),m=_0();(ft!==r||Ze!==i)&&(rh=null,Eo(r,i)),i=!1;var E=wt;e:do try{if(st!==0&&$e!==null){var w=$e,D=Un;switch(st){case 8:bm(),E=6;break e;case 3:case 2:case 9:case 6:Wn.current===null&&(i=!0);var $=st;if(st=0,Un=null,bo(r,w,D,$),o&&go){E=0;break e}break;default:$=st,st=0,Un=null,bo(r,w,D,$)}}LA(),E=wt;break}catch(ne){y0(r,ne)}while(!0);return i&&r.shellSuspendCounter++,mi=oa=null,it=u,J.H=f,J.A=m,$e===null&&(ft=null,Ze=0,xc()),E}function LA(){for(;$e!==null;)E0($e)}function jA(r,i){var o=it;it|=2;var u=v0(),f=_0();ft!==r||Ze!==i?(rh=null,nh=gn()+500,Eo(r,i)):go=Zr(r,i);e:do try{if(st!==0&&$e!==null){i=$e;var m=Un;t:switch(st){case 1:st=0,Un=null,bo(r,i,m,1);break;case 2:case 9:if(Oy(m)){st=0,Un=null,b0(i);break}i=function(){st!==2&&st!==9||ft!==r||(st=7),Pr(r)},m.then(i,i);break e;case 3:st=7;break e;case 4:st=5;break e;case 7:Oy(m)?(st=0,Un=null,b0(i)):(st=0,Un=null,bo(r,i,m,7));break;case 5:var E=null;switch($e.tag){case 26:E=$e.memoizedState;case 5:case 27:var w=$e;if(!E||n_(E)){st=0,Un=null;var D=w.sibling;if(D!==null)$e=D;else{var $=w.return;$!==null?($e=$,sh($)):$e=null}break t}}st=0,Un=null,bo(r,i,m,5);break;case 6:st=0,Un=null,bo(r,i,m,6);break;case 8:bm(),wt=6;break e;default:throw Error(s(462))}}zA();break}catch(ne){y0(r,ne)}while(!0);return mi=oa=null,J.H=u,J.A=f,it=o,$e!==null?0:(ft=null,Ze=0,xc(),wt)}function zA(){for(;$e!==null&&!Ps();)E0($e)}function E0(r){var i=Kv(r.alternate,r,Ti);r.memoizedProps=r.pendingProps,i===null?sh(r):$e=i}function b0(r){var i=r,o=i.alternate;switch(i.tag){case 15:case 0:i=Bv(o,i,i.pendingProps,i.type,void 0,Ze);break;case 11:i=Bv(o,i,i.pendingProps,i.type.render,i.ref,Ze);break;case 5:Ld(i);default:Yv(o,i),i=$e=Ty(i,Ti),i=Kv(o,i,Ti)}r.memoizedProps=r.pendingProps,i===null?sh(r):$e=i}function bo(r,i,o,u){mi=oa=null,Ld(i),ho=null,Ll=0;var f=i.return;try{if(NA(r,f,i,o,Ze)){wt=1,Xc(r,Kn(o,r.current)),$e=null;return}}catch(m){if(f!==null)throw $e=f,m;wt=1,Xc(r,Kn(o,r.current)),$e=null;return}i.flags&32768?(tt||u===1?r=!0:go||(Ze&536870912)!==0?r=!1:(is=r=!0,(u===2||u===9||u===3||u===6)&&(u=Wn.current,u!==null&&u.tag===13&&(u.flags|=16384))),T0(i,r)):sh(i)}function sh(r){var i=r;do{if((i.flags&32768)!==0){T0(i,is);return}r=i.return;var o=DA(i.alternate,i,Ti);if(o!==null){$e=o;return}if(i=i.sibling,i!==null){$e=i;return}$e=i=r}while(i!==null);wt===0&&(wt=5)}function T0(r,i){do{var o=OA(r.alternate,r);if(o!==null){o.flags&=32767,$e=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!i&&(r=r.sibling,r!==null)){$e=r;return}$e=r=o}while(r!==null);wt=6,$e=null}function w0(r,i,o,u,f,m,E,w,D){r.cancelPendingCommit=null;do ah();while(tn!==0);if((it&6)!==0)throw Error(s(327));if(i!==null){if(i===r.current)throw Error(s(177));if(m=i.lanes|i.childLanes,m|=dd,il(r,o,m,E,w,D),r===ft&&($e=ft=null,Ze=0),vo=i,os=r,_o=o,vm=m,_m=f,d0=u,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,HA(Er,function(){return C0(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,f=fe.p,fe.p=2,E=it,it|=4;try{MA(r,i,o)}finally{it=E,fe.p=f,J.T=u}}tn=1,S0(),A0(),x0()}}function S0(){if(tn===1){tn=0;var r=os,i=vo,o=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||o){o=J.T,J.T=null;var u=fe.p;fe.p=2;var f=it;it|=4;try{a0(i,r);var m=Vm,E=fy(r.containerInfo),w=m.focusedElem,D=m.selectionRange;if(E!==w&&w&&w.ownerDocument&&hy(w.ownerDocument.documentElement,w)){if(D!==null&&ld(w)){var $=D.start,ne=D.end;if(ne===void 0&&(ne=$),"selectionStart"in w)w.selectionStart=$,w.selectionEnd=Math.min(ne,w.value.length);else{var se=w.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var W=Y.getSelection(),Me=w.textContent.length,Ce=Math.min(D.start,Me),ct=D.end===void 0?Ce:Math.min(D.end,Me);!W.extend&&Ce>ct&&(E=ct,ct=Ce,Ce=E);var F=cy(w,Ce),j=cy(w,ct);if(F&&j&&(W.rangeCount!==1||W.anchorNode!==F.node||W.anchorOffset!==F.offset||W.focusNode!==j.node||W.focusOffset!==j.offset)){var H=se.createRange();H.setStart(F.node,F.offset),W.removeAllRanges(),Ce>ct?(W.addRange(H),W.extend(j.node,j.offset)):(H.setEnd(j.node,j.offset),W.addRange(H))}}}}for(se=[],W=w;W=W.parentNode;)W.nodeType===1&&se.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<se.length;w++){var re=se[w];re.element.scrollLeft=re.left,re.element.scrollTop=re.top}}vh=!!km,Vm=km=null}finally{it=f,fe.p=u,J.T=o}}r.current=i,tn=2}}function A0(){if(tn===2){tn=0;var r=os,i=vo,o=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||o){o=J.T,J.T=null;var u=fe.p;fe.p=2;var f=it;it|=4;try{n0(r,i.alternate,i)}finally{it=f,fe.p=u,J.T=o}}tn=3}}function x0(){if(tn===4||tn===3){tn=0,Us();var r=os,i=vo,o=_o,u=d0;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?tn=5:(tn=0,vo=os=null,R0(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(as=null),Ua(o),i=i.stateNode,ie&&typeof ie.onCommitFiberRoot=="function")try{ie.onCommitFiberRoot(ue,i,void 0,(i.current.flags&128)===128)}catch{}if(u!==null){i=J.T,f=fe.p,fe.p=2,J.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var w=u[E];m(w.value,{componentStack:w.stack})}}finally{J.T=i,fe.p=f}}(_o&3)!==0&&ah(),Pr(r),f=r.pendingLanes,(o&4194090)!==0&&(f&42)!==0?r===Em?Kl++:(Kl=0,Em=r):Kl=0,Ql(0)}}function R0(r,i){(r.pooledCacheLanes&=i)===0&&(i=r.pooledCache,i!=null&&(r.pooledCache=null,Rl(i)))}function ah(r){return S0(),A0(),x0(),C0()}function C0(){if(tn!==5)return!1;var r=os,i=vm;vm=0;var o=Ua(_o),u=J.T,f=fe.p;try{fe.p=32>o?32:o,J.T=null,o=_m,_m=null;var m=os,E=_o;if(tn=0,vo=os=null,_o=0,(it&6)!==0)throw Error(s(331));var w=it;if(it|=4,h0(m.current),l0(m,m.current,E,o),it=w,Ql(0,!1),ie&&typeof ie.onPostCommitFiberRoot=="function")try{ie.onPostCommitFiberRoot(ue,m)}catch{}return!0}finally{fe.p=f,J.T=u,R0(r,i)}}function N0(r,i,o){i=Kn(o,i),i=Zd(r.stateNode,i,2),r=Wi(r,i,2),r!==null&&(ei(r,2),Pr(r))}function ht(r,i,o){if(r.tag===3)N0(r,r,o);else for(;i!==null;){if(i.tag===3){N0(i,r,o);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(as===null||!as.has(u))){r=Kn(o,r),o=Mv(2),u=Wi(i,o,2),u!==null&&(kv(o,u,i,r),ei(u,2),Pr(u));break}}i=i.return}}function Sm(r,i,o){var u=r.pingCache;if(u===null){u=r.pingCache=new PA;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(o)||(mm=!0,f.add(o),r=BA.bind(null,r,i,o),i.then(r,r))}function BA(r,i,o){var u=r.pingCache;u!==null&&u.delete(i),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,ft===r&&(Ze&o)===o&&(wt===4||wt===3&&(Ze&62914560)===Ze&&300>gn()-ym?(it&2)===0&&Eo(r,0):pm|=o,yo===Ze&&(yo=0)),Pr(r)}function I0(r,i){i===0&&(i=rl()),r=to(r,i),r!==null&&(ei(r,i),Pr(r))}function FA(r){var i=r.memoizedState,o=0;i!==null&&(o=i.retryLane),I0(r,o)}function qA(r,i){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(i),I0(r,o)}function HA(r,i){return Yr(r,i)}var oh=null,To=null,Am=!1,lh=!1,xm=!1,ma=0;function Pr(r){r!==To&&r.next===null&&(To===null?oh=To=r:To=To.next=r),lh=!0,Am||(Am=!0,$A())}function Ql(r,i){if(!xm&&lh){xm=!0;do for(var o=!1,u=oh;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var E=u.suspendedLanes,w=u.pingedLanes;m=(1<<31-Ie(42|r)+1)-1,m&=f&~(E&~w),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,k0(u,m))}else m=Ze,m=Wr(u,u===ft?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||Zr(u,m)||(o=!0,k0(u,m));u=u.next}while(o);xm=!1}}function GA(){D0()}function D0(){lh=Am=!1;var r=0;ma!==0&&(ex()&&(r=ma),ma=0);for(var i=gn(),o=null,u=oh;u!==null;){var f=u.next,m=O0(u,i);m===0?(u.next=null,o===null?oh=f:o.next=f,f===null&&(To=o)):(o=u,(r!==0||(m&3)!==0)&&(lh=!0)),u=f}Ql(r)}function O0(r,i){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-Ie(m),w=1<<E,D=f[E];D===-1?((w&o)===0||(w&u)!==0)&&(f[E]=zi(w,i)):D<=i&&(r.expiredLanes|=w),m&=~w}if(i=ft,o=Ze,o=Wr(r,r===i?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===i&&(st===2||st===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&_r(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||Zr(r,o)){if(i=o&-o,i===r.callbackPriority)return i;switch(u!==null&&_r(u),Ua(o)){case 2:case 8:o=js;break;case 32:o=Er;break;case 268435456:o=Q;break;default:o=Er}return u=M0.bind(null,r),o=Yr(o,u),r.callbackPriority=i,r.callbackNode=o,i}return u!==null&&u!==null&&_r(u),r.callbackPriority=2,r.callbackNode=null,2}function M0(r,i){if(tn!==0&&tn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(ah()&&r.callbackNode!==o)return null;var u=Ze;return u=Wr(r,r===ft?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(p0(r,u,i),O0(r,gn()),r.callbackNode!=null&&r.callbackNode===o?M0.bind(null,r):null)}function k0(r,i){if(ah())return null;p0(r,i,!0)}function $A(){nx(function(){(it&6)!==0?Yr(Ls,GA):D0()})}function Rm(){return ma===0&&(ma=nl()),ma}function V0(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:qa(""+r)}function P0(r,i){var o=i.ownerDocument.createElement("input");return o.name=i.name,o.value=i.value,r.id&&o.setAttribute("form",r.id),i.parentNode.insertBefore(o,i),r=new FormData(r),o.parentNode.removeChild(o),r}function KA(r,i,o,u,f){if(i==="submit"&&o&&o.stateNode===f){var m=V0((f[Dt]||null).action),E=u.submitter;E&&(i=(i=E[Dt]||null)?V0(i.formAction):E.getAttribute("formAction"),i!==null&&(m=i,E=null));var w=new Ha("action","action",null,u,f);r.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ma!==0){var D=E?P0(f,E):new FormData(f);Kd(o,{pending:!0,data:D,method:f.method,action:m},null,D)}}else typeof m=="function"&&(w.preventDefault(),D=E?P0(f,E):new FormData(f),Kd(o,{pending:!0,data:D,method:f.method,action:m},m,D))},currentTarget:f}]})}}for(var Cm=0;Cm<fd.length;Cm++){var Nm=fd[Cm],QA=Nm.toLowerCase(),YA=Nm[0].toUpperCase()+Nm.slice(1);ur(QA,"on"+YA)}ur(py,"onAnimationEnd"),ur(gy,"onAnimationIteration"),ur(yy,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(fA,"onTransitionRun"),ur(dA,"onTransitionStart"),ur(mA,"onTransitionCancel"),ur(vy,"onTransitionEnd"),ni("onMouseEnter",["mouseout","mouseover"]),ni("onMouseLeave",["mouseout","mouseover"]),ni("onPointerEnter",["pointerout","pointerover"]),ni("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function U0(r,i){i=(i&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var m=void 0;if(i)for(var E=u.length-1;0<=E;E--){var w=u[E],D=w.instance,$=w.currentTarget;if(w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=$;try{m(f)}catch(ne){Yc(ne)}f.currentTarget=null,m=D}else for(E=0;E<u.length;E++){if(w=u[E],D=w.instance,$=w.currentTarget,w=w.listener,D!==m&&f.isPropagationStopped())break e;m=w,f.currentTarget=$;try{m(f)}catch(ne){Yc(ne)}f.currentTarget=null,m=D}}}}function Ke(r,i){var o=i[al];o===void 0&&(o=i[al]=new Set);var u=r+"__bubble";o.has(u)||(L0(i,r,2,!1),o.add(u))}function Im(r,i,o){var u=0;i&&(u|=4),L0(o,r,u,i)}var uh="_reactListening"+Math.random().toString(36).slice(2);function Dm(r){if(!r[uh]){r[uh]=!0,ol.forEach(function(o){o!=="selectionchange"&&(XA.has(o)||Im(o,!1,r),Im(o,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[uh]||(i[uh]=!0,Im("selectionchange",!1,i))}}function L0(r,i,o,u){switch(l_(i)){case 2:var f=wx;break;case 8:f=Sx;break;default:f=Gm}o=f.bind(null,i,o,r),f=void 0,!Gn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(i,o,{capture:!0,passive:f}):r.addEventListener(i,o,!0):f!==void 0?r.addEventListener(i,o,{passive:f}):r.addEventListener(i,o,!1)}function Om(r,i,o,u,f){var m=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var w=u.stateNode.containerInfo;if(w===f)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;w!==null;){if(E=ti(w),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=m=E;continue e}w=w.parentNode}}u=u.return}hc(function(){var $=m,ne=Hn(o),se=[];e:{var Y=_y.get(r);if(Y!==void 0){var W=Ha,Me=r;switch(r){case"keypress":if(Rr(o)===0)break e;case"keydown":case"keyup":W=Xa;break;case"focusin":Me="focus",W=Ka;break;case"focusout":Me="blur",W=Ka;break;case"beforeblur":case"afterblur":W=Ka;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=$n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=id;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=_c;break;case py:case gy:case yy:W=Qa;break;case vy:W=bc;break;case"scroll":case"scrollend":W=fc;break;case"wheel":W=Wa;break;case"copy":case"cut":case"paste":W=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=_l;break;case"toggle":case"beforetoggle":W=wc}var Ce=(i&4)!==0,ct=!Ce&&(r==="scroll"||r==="scrollend"),F=Ce?Y!==null?Y+"Capture":null:Y;Ce=[];for(var j=$,H;j!==null;){var re=j;if(H=re.stateNode,re=re.tag,re!==5&&re!==26&&re!==27||H===null||F===null||(re=Ks(j,F),re!=null&&Ce.push(Xl(j,re,H))),ct)break;j=j.return}0<Ce.length&&(Y=new W(Y,Me,null,o,ne),se.push({event:Y,listeners:Ce}))}}if((i&7)===0){e:{if(Y=r==="mouseover"||r==="pointerover",W=r==="mouseout"||r==="pointerout",Y&&o!==si&&(Me=o.relatedTarget||o.fromElement)&&(ti(Me)||Me[Fn]))break e;if((W||Y)&&(Y=ne.window===ne?ne:(Y=ne.ownerDocument)?Y.defaultView||Y.parentWindow:window,W?(Me=o.relatedTarget||o.toElement,W=$,Me=Me?ti(Me):null,Me!==null&&(ct=l(Me),Ce=Me.tag,Me!==ct||Ce!==5&&Ce!==27&&Ce!==6)&&(Me=null)):(W=null,Me=$),W!==Me)){if(Ce=$n,re="onMouseLeave",F="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ce=_l,re="onPointerLeave",F="onPointerEnter",j="pointer"),ct=W==null?Y:wr(W),H=Me==null?Y:wr(Me),Y=new Ce(re,j+"leave",W,o,ne),Y.target=ct,Y.relatedTarget=H,re=null,ti(ne)===$&&(Ce=new Ce(F,j+"enter",Me,o,ne),Ce.target=H,Ce.relatedTarget=ct,re=Ce),ct=re,W&&Me)t:{for(Ce=W,F=Me,j=0,H=Ce;H;H=wo(H))j++;for(H=0,re=F;re;re=wo(re))H++;for(;0<j-H;)Ce=wo(Ce),j--;for(;0<H-j;)F=wo(F),H--;for(;j--;){if(Ce===F||F!==null&&Ce===F.alternate)break t;Ce=wo(Ce),F=wo(F)}Ce=null}else Ce=null;W!==null&&j0(se,Y,W,Ce,!1),Me!==null&&ct!==null&&j0(se,ct,Me,Ce,!0)}}e:{if(Y=$?wr($):window,W=Y.nodeName&&Y.nodeName.toLowerCase(),W==="select"||W==="input"&&Y.type==="file")var Ee=iy;else if(jt(Y))if(sy)Ee=uA;else{Ee=oA;var He=aA}else W=Y.nodeName,!W||W.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?$&&fl($.elementType)&&(Ee=iy):Ee=lA;if(Ee&&(Ee=Ee(r,$))){ci(se,Ee,o,ne);break e}He&&He(r,Y,$),r==="focusout"&&$&&Y.type==="number"&&$.memoizedProps.value!=null&&$i(Y,"number",Y.value)}switch(He=$?wr($):window,r){case"focusin":(jt(He)||He.contentEditable==="true")&&(Za=He,ud=$,Tl=null);break;case"focusout":Tl=ud=Za=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,dy(se,o,ne);break;case"selectionchange":if(hA)break;case"keydown":case"keyup":dy(se,o,ne)}var we;if(Ir)e:{switch(r){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Xe?Z(r,o)&&(Ne="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ne="onCompositionStart");Ne&&(_&&o.locale!=="ko"&&(Xe||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Xe&&(we=ml()):(xr=ne,Ki="value"in xr?xr.value:xr.textContent,Xe=!0)),He=ch($,Ne),0<He.length&&(Ne=new yl(Ne,r,null,o,ne),se.push({event:Ne,listeners:He}),we?Ne.data=we:(we=me(o),we!==null&&(Ne.data=we)))),(we=y?Lt(r,o):We(r,o))&&(Ne=ch($,"onBeforeInput"),0<Ne.length&&(He=new yl("onBeforeInput","beforeinput",null,o,ne),se.push({event:He,listeners:Ne}),He.data=we)),KA(se,r,$,o,ne)}U0(se,i)})}function Xl(r,i,o){return{instance:r,listener:i,currentTarget:o}}function ch(r,i){for(var o=i+"Capture",u=[];r!==null;){var f=r,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Ks(r,o),f!=null&&u.unshift(Xl(r,f,m)),f=Ks(r,i),f!=null&&u.push(Xl(r,f,m))),r.tag===3)return u;r=r.return}return[]}function wo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function j0(r,i,o,u,f){for(var m=i._reactName,E=[];o!==null&&o!==u;){var w=o,D=w.alternate,$=w.stateNode;if(w=w.tag,D!==null&&D===u)break;w!==5&&w!==26&&w!==27||$===null||(D=$,f?($=Ks(o,m),$!=null&&E.unshift(Xl(o,$,D))):f||($=Ks(o,m),$!=null&&E.push(Xl(o,$,D)))),o=o.return}E.length!==0&&r.push({event:i,listeners:E})}var WA=/\r\n?/g,ZA=/\u0000|\uFFFD/g;function z0(r){return(typeof r=="string"?r:""+r).replace(WA,`
`).replace(ZA,"")}function B0(r,i){return i=z0(i),z0(r)===i}function hh(){}function ut(r,i,o,u,f,m){switch(o){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||qn(r,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&qn(r,""+u);break;case"className":Sr(r,"class",u);break;case"tabIndex":Sr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(r,o,u);break;case"style":hl(r,u,m);break;case"data":if(i!=="object"){Sr(r,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=qa(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(i!=="input"&&ut(r,i,"name",f.name,f,null),ut(r,i,"formEncType",f.formEncType,f,null),ut(r,i,"formMethod",f.formMethod,f,null),ut(r,i,"formTarget",f.formTarget,f,null)):(ut(r,i,"encType",f.encType,f,null),ut(r,i,"method",f.method,f,null),ut(r,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=qa(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=hh);break;case"onScroll":u!=null&&Ke("scroll",r);break;case"onScrollEnd":u!=null&&Ke("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=qa(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ke("beforetoggle",r),Ke("toggle",r),Gi(r,"popover",u);break;case"xlinkActuate":Zt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Zt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Zt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Zt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Zt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Zt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Zt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Gi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nd.get(o)||o,Gi(r,o,u))}}function Mm(r,i,o,u,f,m){switch(o){case"style":hl(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(s(60));r.innerHTML=o}}break;case"children":typeof u=="string"?qn(r,u):(typeof u=="number"||typeof u=="bigint")&&qn(r,""+u);break;case"onScroll":u!=null&&Ke("scroll",r);break;case"onScrollEnd":u!=null&&Ke("scrollend",r);break;case"onClick":u!=null&&(r.onclick=hh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!La.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),i=o.slice(2,f?o.length-7:void 0),m=r[Dt]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(i,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(i,u,f);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Gi(r,o,u)}}}function nn(r,i,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ke("error",r),Ke("load",r);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(r,i,m,E,o,null)}}f&&ut(r,i,"srcSet",o.srcSet,o,null),u&&ut(r,i,"src",o.src,o,null);return;case"input":Ke("invalid",r);var w=m=E=f=null,D=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var ne=o[u];if(ne!=null)switch(u){case"name":f=ne;break;case"type":E=ne;break;case"checked":D=ne;break;case"defaultChecked":$=ne;break;case"value":m=ne;break;case"defaultValue":w=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(s(137,i));break;default:ut(r,i,u,ne,o,null)}}Hs(r,m,w,D,$,E,f,!1),Fa(r);return;case"select":Ke("invalid",r),u=E=m=null;for(f in o)if(o.hasOwnProperty(f)&&(w=o[f],w!=null))switch(f){case"value":m=w;break;case"defaultValue":E=w;break;case"multiple":u=w;default:ut(r,i,f,w,o,null)}i=m,o=E,r.multiple=!!u,i!=null?ii(r,!!u,i,!1):o!=null&&ii(r,!!u,o,!0);return;case"textarea":Ke("invalid",r),m=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(w=o[E],w!=null))switch(E){case"value":u=w;break;case"defaultValue":f=w;break;case"children":m=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:ut(r,i,E,w,o,null)}Gs(r,u,f,m),Fa(r);return;case"option":for(D in o)if(o.hasOwnProperty(D)&&(u=o[D],u!=null))switch(D){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ut(r,i,D,u,o,null)}return;case"dialog":Ke("beforetoggle",r),Ke("toggle",r),Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":Ke("load",r);break;case"video":case"audio":for(u=0;u<Yl.length;u++)Ke(Yl[u],r);break;case"image":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"embed":case"source":case"link":Ke("error",r),Ke("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ut(r,i,$,u,o,null)}return;default:if(fl(i)){for(ne in o)o.hasOwnProperty(ne)&&(u=o[ne],u!==void 0&&Mm(r,i,ne,u,o,void 0));return}}for(w in o)o.hasOwnProperty(w)&&(u=o[w],u!=null&&ut(r,i,w,u,o,null))}function JA(r,i,o,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,E=null,w=null,D=null,$=null,ne=null;for(W in o){var se=o[W];if(o.hasOwnProperty(W)&&se!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":D=se;default:u.hasOwnProperty(W)||ut(r,i,W,null,u,se)}}for(var Y in u){var W=u[Y];if(se=o[Y],u.hasOwnProperty(Y)&&(W!=null||se!=null))switch(Y){case"type":m=W;break;case"name":f=W;break;case"checked":$=W;break;case"defaultChecked":ne=W;break;case"value":E=W;break;case"defaultValue":w=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,i));break;default:W!==se&&ut(r,i,Y,W,u,se)}}On(r,E,w,D,$,ne,m,f);return;case"select":W=E=w=Y=null;for(m in o)if(D=o[m],o.hasOwnProperty(m)&&D!=null)switch(m){case"value":break;case"multiple":W=D;default:u.hasOwnProperty(m)||ut(r,i,m,null,u,D)}for(f in u)if(m=u[f],D=o[f],u.hasOwnProperty(f)&&(m!=null||D!=null))switch(f){case"value":Y=m;break;case"defaultValue":w=m;break;case"multiple":E=m;default:m!==D&&ut(r,i,f,m,u,D)}i=w,o=E,u=W,Y!=null?ii(r,!!o,Y,!1):!!u!=!!o&&(i!=null?ii(r,!!o,i,!0):ii(r,!!o,o?[]:"",!1));return;case"textarea":W=Y=null;for(w in o)if(f=o[w],o.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ut(r,i,w,null,u,f)}for(E in u)if(f=u[E],m=o[E],u.hasOwnProperty(E)&&(f!=null||m!=null))switch(E){case"value":Y=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&ut(r,i,E,f,u,m)}ot(r,Y,W);return;case"option":for(var Me in o)if(Y=o[Me],o.hasOwnProperty(Me)&&Y!=null&&!u.hasOwnProperty(Me))switch(Me){case"selected":r.selected=!1;break;default:ut(r,i,Me,null,u,Y)}for(D in u)if(Y=u[D],W=o[D],u.hasOwnProperty(D)&&Y!==W&&(Y!=null||W!=null))switch(D){case"selected":r.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:ut(r,i,D,Y,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in o)Y=o[Ce],o.hasOwnProperty(Ce)&&Y!=null&&!u.hasOwnProperty(Ce)&&ut(r,i,Ce,null,u,Y);for($ in u)if(Y=u[$],W=o[$],u.hasOwnProperty($)&&Y!==W&&(Y!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:ut(r,i,$,Y,u,W)}return;default:if(fl(i)){for(var ct in o)Y=o[ct],o.hasOwnProperty(ct)&&Y!==void 0&&!u.hasOwnProperty(ct)&&Mm(r,i,ct,void 0,u,Y);for(ne in u)Y=u[ne],W=o[ne],!u.hasOwnProperty(ne)||Y===W||Y===void 0&&W===void 0||Mm(r,i,ne,Y,u,W);return}}for(var F in o)Y=o[F],o.hasOwnProperty(F)&&Y!=null&&!u.hasOwnProperty(F)&&ut(r,i,F,null,u,Y);for(se in u)Y=u[se],W=o[se],!u.hasOwnProperty(se)||Y===W||Y==null&&W==null||ut(r,i,se,Y,u,W)}var km=null,Vm=null;function fh(r){return r.nodeType===9?r:r.ownerDocument}function F0(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q0(r,i){if(r===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&i==="foreignObject"?0:r}function Pm(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Um=null;function ex(){var r=window.event;return r&&r.type==="popstate"?r===Um?!1:(Um=r,!0):(Um=null,!1)}var H0=typeof setTimeout=="function"?setTimeout:void 0,tx=typeof clearTimeout=="function"?clearTimeout:void 0,G0=typeof Promise=="function"?Promise:void 0,nx=typeof queueMicrotask=="function"?queueMicrotask:typeof G0<"u"?function(r){return G0.resolve(null).then(r).catch(rx)}:H0;function rx(r){setTimeout(function(){throw r})}function us(r){return r==="head"}function $0(r,i){var o=i,u=0,f=0;do{var m=o.nextSibling;if(r.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"){if(0<u&&8>u){o=u;var E=r.ownerDocument;if(o&1&&Wl(E.documentElement),o&2&&Wl(E.body),o&4)for(o=E.head,Wl(o),E=o.firstChild;E;){var w=E.nextSibling,D=E.nodeName;E[zs]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=w}}if(f===0){r.removeChild(m),su(i);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=m}while(o);su(i)}function Lm(r){var i=r.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var o=i;switch(i=i.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Lm(o),Hi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function ix(r,i,o,u){for(;r.nodeType===1;){var f=o;if(r.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[zs])switch(i){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(i==="input"&&r.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=hr(r.nextSibling),r===null)break}return null}function sx(r,i,o){if(i==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=hr(r.nextSibling),r===null))return null;return r}function jm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function ax(r,i){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")i();else{var u=function(){i(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function hr(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return r}var zm=null;function K0(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return r;i--}else o==="/$"&&i++}r=r.previousSibling}return null}function Q0(r,i,o){switch(i=fh(o),r){case"html":if(r=i.documentElement,!r)throw Error(s(452));return r;case"head":if(r=i.head,!r)throw Error(s(453));return r;case"body":if(r=i.body,!r)throw Error(s(454));return r;default:throw Error(s(451))}}function Wl(r){for(var i=r.attributes;i.length;)r.removeAttributeNode(i[0]);Hi(r)}var Jn=new Map,Y0=new Set;function dh(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var wi=fe.d;fe.d={f:ox,r:lx,D:ux,C:cx,L:hx,m:fx,X:mx,S:dx,M:px};function ox(){var r=wi.f(),i=ih();return r||i}function lx(r){var i=Tr(r);i!==null&&i.tag===5&&i.type==="form"?pv(i):wi.r(r)}var So=typeof document>"u"?null:document;function X0(r,i,o){var u=So;if(u&&typeof i=="string"&&i){var f=Ot(i);f='link[rel="'+r+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),Y0.has(f)||(Y0.add(f),r={rel:r,crossOrigin:o,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),nn(i,"link",r),At(i),u.head.appendChild(i)))}}function ux(r){wi.D(r),X0("dns-prefetch",r,null)}function cx(r,i){wi.C(r,i),X0("preconnect",r,i)}function hx(r,i,o){wi.L(r,i,o);var u=So;if(u&&r&&i){var f='link[rel="preload"][as="'+Ot(i)+'"]';i==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ot(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ot(o.imageSizes)+'"]')):f+='[href="'+Ot(r)+'"]';var m=f;switch(i){case"style":m=Ao(r);break;case"script":m=xo(r)}Jn.has(m)||(r=v({rel:"preload",href:i==="image"&&o&&o.imageSrcSet?void 0:r,as:i},o),Jn.set(m,r),u.querySelector(f)!==null||i==="style"&&u.querySelector(Zl(m))||i==="script"&&u.querySelector(Jl(m))||(i=u.createElement("link"),nn(i,"link",r),At(i),u.head.appendChild(i)))}}function fx(r,i){wi.m(r,i);var o=So;if(o&&r){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ot(u)+'"][href="'+Ot(r)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=xo(r)}if(!Jn.has(m)&&(r=v({rel:"modulepreload",href:r},i),Jn.set(m,r),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Jl(m)))return}u=o.createElement("link"),nn(u,"link",r),At(u),o.head.appendChild(u)}}}function dx(r,i,o){wi.S(r,i,o);var u=So;if(u&&r){var f=yn(u).hoistableStyles,m=Ao(r);i=i||"default";var E=f.get(m);if(!E){var w={loading:0,preload:null};if(E=u.querySelector(Zl(m)))w.loading=5;else{r=v({rel:"stylesheet",href:r,"data-precedence":i},o),(o=Jn.get(m))&&Bm(r,o);var D=E=u.createElement("link");At(D),nn(D,"link",r),D._p=new Promise(function($,ne){D.onload=$,D.onerror=ne}),D.addEventListener("load",function(){w.loading|=1}),D.addEventListener("error",function(){w.loading|=2}),w.loading|=4,mh(E,i,u)}E={type:"stylesheet",instance:E,count:1,state:w},f.set(m,E)}}}function mx(r,i){wi.X(r,i);var o=So;if(o&&r){var u=yn(o).hoistableScripts,f=xo(r),m=u.get(f);m||(m=o.querySelector(Jl(f)),m||(r=v({src:r,async:!0},i),(i=Jn.get(f))&&Fm(r,i),m=o.createElement("script"),At(m),nn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function px(r,i){wi.M(r,i);var o=So;if(o&&r){var u=yn(o).hoistableScripts,f=xo(r),m=u.get(f);m||(m=o.querySelector(Jl(f)),m||(r=v({src:r,async:!0,type:"module"},i),(i=Jn.get(f))&&Fm(r,i),m=o.createElement("script"),At(m),nn(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function W0(r,i,o,u){var f=(f=Oe.current)?dh(f):null;if(!f)throw Error(s(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(i=Ao(o.href),o=yn(f).hoistableStyles,u=o.get(i),u||(u={type:"style",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Ao(o.href);var m=yn(f).hoistableStyles,E=m.get(r);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=f.querySelector(Zl(r)))&&!m._p&&(E.instance=m,E.state.loading=5),Jn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Jn.set(r,o),m||gx(f,r,o,E.state))),i&&u===null)throw Error(s(528,""));return E}if(i&&u!==null)throw Error(s(529,""));return null;case"script":return i=o.async,o=o.src,typeof o=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=xo(o),o=yn(f).hoistableScripts,u=o.get(i),u||(u={type:"script",instance:null,count:0,state:null},o.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,r))}}function Ao(r){return'href="'+Ot(r)+'"'}function Zl(r){return'link[rel="stylesheet"]['+r+"]"}function Z0(r){return v({},r,{"data-precedence":r.precedence,precedence:null})}function gx(r,i,o,u){r.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=r.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),nn(i,"link",o),At(i),r.head.appendChild(i))}function xo(r){return'[src="'+Ot(r)+'"]'}function Jl(r){return"script[async]"+r}function J0(r,i,o){if(i.count++,i.instance===null)switch(i.type){case"style":var u=r.querySelector('style[data-href~="'+Ot(o.href)+'"]');if(u)return i.instance=u,At(u),u;var f=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),At(u),nn(u,"style",f),mh(u,o.precedence,r),i.instance=u;case"stylesheet":f=Ao(o.href);var m=r.querySelector(Zl(f));if(m)return i.state.loading|=4,i.instance=m,At(m),m;u=Z0(o),(f=Jn.get(f))&&Bm(u,f),m=(r.ownerDocument||r).createElement("link"),At(m);var E=m;return E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),nn(m,"link",u),i.state.loading|=4,mh(m,o.precedence,r),i.instance=m;case"script":return m=xo(o.src),(f=r.querySelector(Jl(m)))?(i.instance=f,At(f),f):(u=o,(f=Jn.get(m))&&(u=v({},o),Fm(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),At(f),nn(f,"link",u),r.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,mh(u,o.precedence,r));return i.instance}function mh(r,i,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,E=0;E<u.length;E++){var w=u[E];if(w.dataset.precedence===i)m=w;else if(m!==f)break}m?m.parentNode.insertBefore(r,m.nextSibling):(i=o.nodeType===9?o.head:o,i.insertBefore(r,i.firstChild))}function Bm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.title==null&&(r.title=i.title)}function Fm(r,i){r.crossOrigin==null&&(r.crossOrigin=i.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=i.referrerPolicy),r.integrity==null&&(r.integrity=i.integrity)}var ph=null;function e_(r,i,o){if(ph===null){var u=new Map,f=ph=new Map;f.set(o,u)}else f=ph,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),f=0;f<o.length;f++){var m=o[f];if(!(m[zs]||m[Ut]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(i)||"";E=r+E;var w=u.get(E);w?w.push(m):u.set(E,[m])}}return u}function t_(r,i,o){r=r.ownerDocument||r,r.head.insertBefore(o,i==="title"?r.querySelector("head > title"):null)}function yx(r,i,o){if(o===1||i.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return r=i.disabled,typeof i.precedence=="string"&&r==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function n_(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var eu=null;function vx(){}function _x(r,i,o){if(eu===null)throw Error(s(475));var u=eu;if(i.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Ao(o.href),m=r.querySelector(Zl(f));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=gh.bind(u),r.then(u,u)),i.state.loading|=4,i.instance=m,At(m);return}m=r.ownerDocument||r,o=Z0(o),(f=Jn.get(f))&&Bm(o,f),m=m.createElement("link"),At(m);var E=m;E._p=new Promise(function(w,D){E.onload=w,E.onerror=D}),nn(m,"link",o),i.instance=m}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,r),(r=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=gh.bind(u),r.addEventListener("load",i),r.addEventListener("error",i))}}function Ex(){if(eu===null)throw Error(s(475));var r=eu;return r.stylesheets&&r.count===0&&qm(r,r.stylesheets),0<r.count?function(i){var o=setTimeout(function(){if(r.stylesheets&&qm(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=i,function(){r.unsuspend=null,clearTimeout(o)}}:null}function gh(){if(this.count--,this.count===0){if(this.stylesheets)qm(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var yh=null;function qm(r,i){r.stylesheets=null,r.unsuspend!==null&&(r.count++,yh=new Map,i.forEach(bx,r),yh=null,gh.call(r))}function bx(r,i){if(!(i.state.loading&4)){var o=yh.get(r);if(o)var u=o.get(null);else{o=new Map,yh.set(r,o);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var E=f[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=i.instance,E=f.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,f),o.set(E,f),this.count++,u=gh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),i.state.loading|=4}}var tu={$$typeof:K,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Tx(r,i,o,u,f,m,E,w){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Jr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jr(0),this.hiddenUpdates=Jr(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function r_(r,i,o,u,f,m,E,w,D,$,ne,se){return r=new Tx(r,i,o,E,w,D,$,se),i=1,m===!0&&(i|=24),m=kn(3,null,null,i),r.current=m,m.stateNode=r,i=Sd(),i.refCount++,r.pooledCache=i,i.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:i},Cd(m),r}function i_(r){return r?(r=no,r):no}function s_(r,i,o,u,f,m){f=i_(f),u.context===null?u.context=f:u.pendingContext=f,u=Xi(i),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Wi(r,u,i),o!==null&&(jn(o,r,i),Dl(o,r,i))}function a_(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<i?o:i}}function Hm(r,i){a_(r,i),(r=r.alternate)&&a_(r,i)}function o_(r){if(r.tag===13){var i=to(r,67108864);i!==null&&jn(i,r,67108864),Hm(r,67108864)}}var vh=!0;function wx(r,i,o,u){var f=J.T;J.T=null;var m=fe.p;try{fe.p=2,Gm(r,i,o,u)}finally{fe.p=m,J.T=f}}function Sx(r,i,o,u){var f=J.T;J.T=null;var m=fe.p;try{fe.p=8,Gm(r,i,o,u)}finally{fe.p=m,J.T=f}}function Gm(r,i,o,u){if(vh){var f=$m(u);if(f===null)Om(r,i,u,_h,o),u_(r,u);else if(xx(f,r,i,o,u))u.stopPropagation();else if(u_(r,u),i&4&&-1<Ax.indexOf(r)){for(;f!==null;){var m=Tr(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Dn(m.pendingLanes);if(E!==0){var w=m;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var D=1<<31-Ie(E);w.entanglements[1]|=D,E&=~D}Pr(m),(it&6)===0&&(nh=gn()+500,Ql(0))}}break;case 13:w=to(m,2),w!==null&&jn(w,m,2),ih(),Hm(m,2)}if(m=$m(u),m===null&&Om(r,i,u,_h,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Om(r,i,u,null,o)}}function $m(r){return r=Hn(r),Km(r)}var _h=null;function Km(r){if(_h=null,r=ti(r),r!==null){var i=l(r);if(i===null)r=null;else{var o=i.tag;if(o===13){if(r=c(i),r!==null)return r;r=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}return _h=r,null}function l_(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tl()){case Ls:return 2;case js:return 8;case Er:case U:return 32;case Q:return 268435456;default:return 32}default:return 32}}var Qm=!1,cs=null,hs=null,fs=null,nu=new Map,ru=new Map,ds=[],Ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function u_(r,i){switch(r){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":nu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ru.delete(i.pointerId)}}function iu(r,i,o,u,f,m){return r===null||r.nativeEvent!==m?(r={blockedOn:i,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},i!==null&&(i=Tr(i),i!==null&&o_(i)),r):(r.eventSystemFlags|=u,i=r.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),r)}function xx(r,i,o,u,f){switch(i){case"focusin":return cs=iu(cs,r,i,o,u,f),!0;case"dragenter":return hs=iu(hs,r,i,o,u,f),!0;case"mouseover":return fs=iu(fs,r,i,o,u,f),!0;case"pointerover":var m=f.pointerId;return nu.set(m,iu(nu.get(m)||null,r,i,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,ru.set(m,iu(ru.get(m)||null,r,i,o,u,f)),!0}return!1}function c_(r){var i=ti(r.target);if(i!==null){var o=l(i);if(o!==null){if(i=o.tag,i===13){if(i=c(o),i!==null){r.blockedOn=i,ic(r.priority,function(){if(o.tag===13){var u=Ln();u=Bi(u);var f=to(o,u);f!==null&&jn(f,o,u),Hm(o,u)}});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Eh(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var o=$m(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);si=u,o.target.dispatchEvent(u),si=null}else return i=Tr(o),i!==null&&o_(i),r.blockedOn=o,!1;i.shift()}return!0}function h_(r,i,o){Eh(r)&&o.delete(i)}function Rx(){Qm=!1,cs!==null&&Eh(cs)&&(cs=null),hs!==null&&Eh(hs)&&(hs=null),fs!==null&&Eh(fs)&&(fs=null),nu.forEach(h_),ru.forEach(h_)}function bh(r,i){r.blockedOn===i&&(r.blockedOn=null,Qm||(Qm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Rx)))}var Th=null;function f_(r){Th!==r&&(Th=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Th===r&&(Th=null);for(var i=0;i<r.length;i+=3){var o=r[i],u=r[i+1],f=r[i+2];if(typeof u!="function"){if(Km(u||o)===null)continue;break}var m=Tr(o);m!==null&&(r.splice(i,3),i-=3,Kd(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function su(r){function i(D){return bh(D,r)}cs!==null&&bh(cs,r),hs!==null&&bh(hs,r),fs!==null&&bh(fs,r),nu.forEach(i),ru.forEach(i);for(var o=0;o<ds.length;o++){var u=ds[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<ds.length&&(o=ds[0],o.blockedOn===null);)c_(o),o.blockedOn===null&&ds.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],E=f[Dt]||null;if(typeof m=="function")E||f_(o);else if(E){var w=null;if(m&&m.hasAttribute("formAction")){if(f=m,E=m[Dt]||null)w=E.formAction;else if(Km(f)!==null)continue}else w=E.action;typeof w=="function"?o[u+1]=w:(o.splice(u,3),u-=3),f_(o)}}}function Ym(r){this._internalRoot=r}wh.prototype.render=Ym.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(s(409));var o=i.current,u=Ln();s_(o,u,r,i,null,null)},wh.prototype.unmount=Ym.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;s_(r.current,2,null,r,null,null),ih(),i[Fn]=null}};function wh(r){this._internalRoot=r}wh.prototype.unstable_scheduleHydration=function(r){if(r){var i=Fi();r={blockedOn:null,target:r,priority:i};for(var o=0;o<ds.length&&i!==0&&i<ds[o].priority;o++);ds.splice(o,0,r),o===0&&c_(r)}};var d_=e.version;if(d_!=="19.1.0")throw Error(s(527,d_,"19.1.0"));fe.findDOMNode=function(r){var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=p(i),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var Cx={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sh.isDisabled&&Sh.supportsFiber)try{ue=Sh.inject(Cx),ie=Sh}catch{}}return ou.createRoot=function(r,i){if(!a(r))throw Error(s(299));var o=!1,u="",f=Nv,m=Iv,E=Dv,w=null;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(m=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=r_(r,1,!1,null,null,o,u,f,m,E,w,null),r[Fn]=i.current,Dm(r),new Ym(i)},ou.hydrateRoot=function(r,i,o){if(!a(r))throw Error(s(299));var u=!1,f="",m=Nv,E=Iv,w=Dv,D=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(w=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(D=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),i=r_(r,1,!0,i,o??null,u,f,m,E,w,D,$),i.context=i_(null),o=i.current,u=Ln(),u=Bi(u),f=Xi(u),f.callback=null,Wi(o,f,u),o=u,i.current.lanes=o,ei(i,o),Pr(i),r[Fn]=i.current,Dm(r),new wh(i)},ou.version="19.1.0",ou}var w_;function jx(){if(w_)return Zm.exports;w_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Zm.exports=Lx(),Zm.exports}var zx=jx(),lu={},S_;function Bx(){if(S_)return lu;S_=1,Object.defineProperty(lu,"__esModule",{value:!0}),lu.parse=c,lu.serialize=g;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,M){const N=new l,B=S.length;if(B<2)return N;const k=(M==null?void 0:M.decode)||v;let G=0;do{const X=S.indexOf("=",G);if(X===-1)break;const K=S.indexOf(";",G),de=K===-1?B:K;if(X>de){G=S.lastIndexOf(";",X-1)+1;continue}const le=d(S,G,X),be=p(S,X,le),V=S.slice(le,be);if(N[V]===void 0){let C=d(S,X+1,de),I=p(S,de,C);const x=k(S.slice(C,I));N[V]=x}G=de+1}while(G<B);return N}function d(S,M,N){do{const B=S.charCodeAt(M);if(B!==32&&B!==9)return M}while(++M<N);return N}function p(S,M,N){for(;M>N;){const B=S.charCodeAt(--M);if(B!==32&&B!==9)return M+1}return N}function g(S,M,N){const B=(N==null?void 0:N.encode)||encodeURIComponent;if(!n.test(S))throw new TypeError(`argument name is invalid: ${S}`);const k=B(M);if(!e.test(k))throw new TypeError(`argument val is invalid: ${M}`);let G=S+"="+k;if(!N)return G;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);G+="; Max-Age="+N.maxAge}if(N.domain){if(!t.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);G+="; Domain="+N.domain}if(N.path){if(!s.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);G+="; Path="+N.path}if(N.expires){if(!T(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);G+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(G+="; HttpOnly"),N.secure&&(G+="; Secure"),N.partitioned&&(G+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return G}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return a.call(S)==="[object Date]"}return lu}Bx();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var A_="popstate";function Fx(n={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return _p("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){return typeof a=="string"?a:Nu(a)}return Hx(e,t,null,n)}function Et(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Gr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qx(){return Math.random().toString(36).substring(2,10)}function x_(n,e){return{usr:n.state,key:n.key,idx:e}}function _p(n,e,t=null,s){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Go(e):e,state:t,key:e&&e.key||s||qx()}}function Nu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Go(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substring(s),n=n.substring(0,s)),n&&(e.pathname=n)}return e}function Hx(n,e,t,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function T(){d="POP";let k=v(),G=k==null?null:k-g;g=k,p&&p({action:d,location:B.location,delta:G})}function S(k,G){d="PUSH";let X=_p(B.location,k,G);g=v()+1;let K=x_(X,g),de=B.createHref(X);try{c.pushState(K,"",de)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;a.location.assign(de)}l&&p&&p({action:d,location:B.location,delta:1})}function M(k,G){d="REPLACE";let X=_p(B.location,k,G);g=v();let K=x_(X,g),de=B.createHref(X);c.replaceState(K,"",de),l&&p&&p({action:d,location:B.location,delta:0})}function N(k){let G=a.location.origin!=="null"?a.location.origin:a.location.href,X=typeof k=="string"?k:Nu(k);return X=X.replace(/ $/,"%20"),Et(G,`No window.location.(origin|href) available to create URL for href: ${X}`),new URL(X,G)}let B={get action(){return d},get location(){return n(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(A_,T),p=k,()=>{a.removeEventListener(A_,T),p=null}},createHref(k){return e(a,k)},createURL:N,encodeLocation(k){let G=N(k);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:S,replace:M,go(k){return c.go(k)}};return B}function Pb(n,e,t="/"){return Gx(n,e,t,!1)}function Gx(n,e,t,s){let a=typeof e=="string"?Go(e):e,l=Oi(a.pathname||"/",t);if(l==null)return null;let c=Ub(n);$x(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=r1(l);d=t1(c[p],g,s)}return d}function Ub(n,e=[],t=[],s=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Et(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Ni([s,p.relativePath]),v=t.concat(p);l.children&&l.children.length>0&&(Et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Ub(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:Jx(g,l.index),routesMeta:v})};return n.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of Lb(l.path))a(l,c,p)}),e}function Lb(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=Lb(s.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function $x(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:e1(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var Kx=/^:[\w-]+$/,Qx=3,Yx=2,Xx=1,Wx=10,Zx=-2,R_=n=>n==="*";function Jx(n,e){let t=n.split("/"),s=t.length;return t.some(R_)&&(s+=Zx),e&&(s+=Yx),t.filter(a=>!R_(a)).reduce((a,l)=>a+(Kx.test(l)?Qx:l===""?Xx:Wx),s)}function e1(n,e){return n.length===e.length&&n.slice(0,-1).every((s,a)=>s===e[a])?n[n.length-1]-e[e.length-1]:0}function t1(n,e,t=!1){let{routesMeta:s}=n,a={},l="/",c=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,v=l==="/"?e:e.slice(l.length)||"/",T=Xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!T&&g&&t&&!s[s.length-1].route.index&&(T=Xh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Ni([l,T.pathname]),pathnameBase:o1(Ni([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Ni([l,T.pathnameBase]))}return c}function Xh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=n1(n.path,n.caseSensitive,n.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:T},S)=>{if(v==="*"){let N=d[S]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const M=d[S];return T&&!M?g[v]=void 0:g[v]=(M||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function n1(n,e=!1,t=!0){Gr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),a+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":n!==""&&n!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function r1(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Gr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Oi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}function i1(n,e="/"){let{pathname:t,search:s="",hash:a=""}=typeof n=="string"?Go(n):n;return{pathname:t?t.startsWith("/")?t:s1(t,e):e,search:l1(s),hash:u1(a)}}function s1(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function np(n,e,t,s){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function a1(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jb(n){let e=a1(n);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function zb(n,e,t,s=!1){let a;typeof n=="string"?a=Go(n):(a={...n},Et(!a.pathname||!a.pathname.includes("?"),np("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),np("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),np("#","search","hash",a)));let l=n===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!s&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;a.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=i1(a,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Ni=n=>n.join("/").replace(/\/\/+/g,"/"),o1=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),l1=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,u1=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function c1(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Bb=["POST","PUT","PATCH","DELETE"];new Set(Bb);var h1=["GET",...Bb];new Set(h1);var $o=z.createContext(null);$o.displayName="DataRouter";var Sf=z.createContext(null);Sf.displayName="DataRouterState";var Fb=z.createContext({isTransitioning:!1});Fb.displayName="ViewTransition";var f1=z.createContext(new Map);f1.displayName="Fetchers";var d1=z.createContext(null);d1.displayName="Await";var Qr=z.createContext(null);Qr.displayName="Navigation";var Bu=z.createContext(null);Bu.displayName="Location";var Li=z.createContext({outlet:null,matches:[],isDataRoute:!1});Li.displayName="Route";var ng=z.createContext(null);ng.displayName="RouteError";function m1(n,{relative:e}={}){Et(Fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=z.useContext(Qr),{hash:a,pathname:l,search:c}=qu(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Ni([t,l])),s.createHref({pathname:d,search:c,hash:a})}function Fu(){return z.useContext(Bu)!=null}function Ia(){return Et(Fu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Bu).location}var qb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hb(n){z.useContext(Qr).static||z.useLayoutEffect(n)}function rg(){let{isDataRoute:n}=z.useContext(Li);return n?R1():p1()}function p1(){Et(Fu(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext($o),{basename:e,navigator:t}=z.useContext(Qr),{matches:s}=z.useContext(Li),{pathname:a}=Ia(),l=JSON.stringify(jb(s)),c=z.useRef(!1);return Hb(()=>{c.current=!0}),z.useCallback((p,g={})=>{if(Gr(c.current,qb),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=zb(p,JSON.parse(l),a,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Ni([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,a,n])}z.createContext(null);function qu(n,{relative:e}={}){let{matches:t}=z.useContext(Li),{pathname:s}=Ia(),a=JSON.stringify(jb(t));return z.useMemo(()=>zb(n,JSON.parse(a),s,e==="path"),[n,a,s,e])}function g1(n,e){return Gb(n,e)}function Gb(n,e,t,s){var X;Et(Fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=z.useContext(Qr),{matches:c}=z.useContext(Li),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",T=d&&d.route;{let K=T&&T.path||"";$b(g,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let S=Ia(),M;if(e){let K=typeof e=="string"?Go(e):e;Et(v==="/"||((X=K.pathname)==null?void 0:X.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${K.pathname}" was given in the \`location\` prop.`),M=K}else M=S;let N=M.pathname||"/",B=N;if(v!=="/"){let K=v.replace(/^\//,"").split("/");B="/"+N.replace(/^\//,"").split("/").slice(K.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:Pb(n,{pathname:B});Gr(T||k!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Gr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=b1(k&&k.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:Ni([v,a.encodeLocation?a.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?v:Ni([v,a.encodeLocation?a.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),c,t,s);return e&&G?z.createElement(Bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},G):G}function y1(){let n=x1(),e=c1(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:l},"ErrorBoundary")," or"," ",z.createElement("code",{style:l},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:a},t):null,c)}var v1=z.createElement(y1,null),_1=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(Li.Provider,{value:this.props.routeContext},z.createElement(ng.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E1({routeContext:n,match:e,children:t}){let s=z.useContext($o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Li.Provider,{value:n},t)}function b1(n,e=[],t=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);Et(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let g=a[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:v,errors:T}=t,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,g,v)=>{let T,S=!1,M=null,N=null;t&&(T=l&&g.route.id?l[g.route.id]:void 0,M=g.route.errorElement||v1,c&&(d<0&&v===0?($b("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,N=null):d===v&&(S=!0,N=g.route.hydrateFallbackElement||null)));let B=e.concat(a.slice(0,v+1)),k=()=>{let G;return T?G=M:S?G=N:g.route.Component?G=z.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,z.createElement(E1,{match:g,routeContext:{outlet:p,matches:B,isDataRoute:t!=null},children:G})};return t&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?z.createElement(_1,{location:t.location,revalidation:t.revalidation,component:M,error:T,children:k(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):k()},null)}function ig(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T1(n){let e=z.useContext($o);return Et(e,ig(n)),e}function w1(n){let e=z.useContext(Sf);return Et(e,ig(n)),e}function S1(n){let e=z.useContext(Li);return Et(e,ig(n)),e}function sg(n){let e=S1(n),t=e.matches[e.matches.length-1];return Et(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function A1(){return sg("useRouteId")}function x1(){var s;let n=z.useContext(ng),e=w1("useRouteError"),t=sg("useRouteError");return n!==void 0?n:(s=e.errors)==null?void 0:s[t]}function R1(){let{router:n}=T1("useNavigate"),e=sg("useNavigate"),t=z.useRef(!1);return Hb(()=>{t.current=!0}),z.useCallback(async(a,l={})=>{Gr(t.current,qb),t.current&&(typeof a=="number"?n.navigate(a):await n.navigate(a,{fromRouteId:e,...l}))},[n,e])}var C_={};function $b(n,e,t){!e&&!C_[n]&&(C_[n]=!0,Gr(!1,t))}z.memo(C1);function C1({routes:n,future:e,state:t}){return Gb(n,void 0,t,e)}function du(n){Et(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function N1({basename:n="/",children:e=null,location:t,navigationType:s="POP",navigator:a,static:l=!1}){Et(!Fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Go(t));let{pathname:p="/",search:g="",hash:v="",state:T=null,key:S="default"}=t,M=z.useMemo(()=>{let N=Oi(p,c);return N==null?null:{location:{pathname:N,search:g,hash:v,state:T,key:S},navigationType:s}},[c,p,g,v,T,S,s]);return Gr(M!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:z.createElement(Qr.Provider,{value:d},z.createElement(Bu.Provider,{children:e,value:M}))}function I1({children:n,location:e}){return g1(Ep(n),e)}function Ep(n,e=[]){let t=[];return z.Children.forEach(n,(s,a)=>{if(!z.isValidElement(s))return;let l=[...e,a];if(s.type===z.Fragment){t.push.apply(t,Ep(s.props.children,l));return}Et(s.type===du,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Et(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=Ep(s.props.children,l)),t.push(c)}),t}var Mh="get",kh="application/x-www-form-urlencoded";function Af(n){return n!=null&&typeof n.tagName=="string"}function D1(n){return Af(n)&&n.tagName.toLowerCase()==="button"}function O1(n){return Af(n)&&n.tagName.toLowerCase()==="form"}function M1(n){return Af(n)&&n.tagName.toLowerCase()==="input"}function k1(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function V1(n,e){return n.button===0&&(!e||e==="_self")&&!k1(n)}var Ah=null;function P1(){if(Ah===null)try{new FormData(document.createElement("form"),0),Ah=!1}catch{Ah=!0}return Ah}var U1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rp(n){return n!=null&&!U1.has(n)?(Gr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kh}"`),null):n}function L1(n,e){let t,s,a,l,c;if(O1(n)){let d=n.getAttribute("action");s=d?Oi(d,e):null,t=n.getAttribute("method")||Mh,a=rp(n.getAttribute("enctype"))||kh,l=new FormData(n)}else if(D1(n)||M1(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(s=p?Oi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Mh,a=rp(n.getAttribute("formenctype"))||rp(d.getAttribute("enctype"))||kh,l=new FormData(d,n),!P1()){let{name:g,type:v,value:T}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,T)}}else{if(Af(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Mh,s=null,a=kh,c=n}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:t.toLowerCase(),encType:a,formData:l,body:c}}function ag(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function j1(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function z1(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function B1(n,e,t){let s=await Promise.all(n.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await j1(l,t);return c.links?c.links():[]}return[]}));return G1(s.flat(1).filter(z1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function N_(n,e,t,s,a,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>{var v;return t[g].pathname!==p.pathname||((v=t[g].route.path)==null?void 0:v.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{var T;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function F1(n,e,{includeHydrateFallback:t}={}){return q1(n.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function q1(n){return[...new Set(n)]}function H1(n){let e={},t=Object.keys(n).sort();for(let s of t)e[s]=n[s];return e}function G1(n,e){let t=new Set;return new Set(e),n.reduce((s,a)=>{let l=JSON.stringify(H1(a));return t.has(l)||(t.add(l),s.push({key:l,link:a})),s},[])}var $1=new Set([100,101,204,205]);function K1(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&Oi(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Kb(){let n=z.useContext($o);return ag(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Q1(){let n=z.useContext(Sf);return ag(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var og=z.createContext(void 0);og.displayName="FrameworkContext";function Qb(){let n=z.useContext(og);return ag(n,"You must render this element inside a <HydratedRouter> element"),n}function Y1(n,e){let t=z.useContext(og),[s,a]=z.useState(!1),[l,c]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:T}=e,S=z.useRef(null);z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let B=G=>{G.forEach(X=>{c(X.isIntersecting)})},k=new IntersectionObserver(B,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[n]),z.useEffect(()=>{if(s){let B=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(B)}}},[s]);let M=()=>{a(!0)},N=()=>{a(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:uu(d,M),onBlur:uu(p,N),onMouseEnter:uu(g,M),onMouseLeave:uu(v,N),onTouchStart:uu(T,M)}]:[!1,S,{}]}function uu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function X1({page:n,...e}){let{router:t}=Kb(),s=z.useMemo(()=>Pb(t.routes,n,t.basename),[t.routes,n,t.basename]);return s?z.createElement(Z1,{page:n,matches:s,...e}):null}function W1(n){let{manifest:e,routeModules:t}=Qb(),[s,a]=z.useState([]);return z.useEffect(()=>{let l=!1;return B1(n,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[n,e,t]),s}function Z1({page:n,matches:e,...t}){let s=Ia(),{manifest:a,routeModules:l}=Qb(),{basename:c}=Kb(),{loaderData:d,matches:p}=Q1(),g=z.useMemo(()=>N_(n,e,p,a,s,"data"),[n,e,p,a,s]),v=z.useMemo(()=>N_(n,e,p,a,s,"assets"),[n,e,p,a,s]),T=z.useMemo(()=>{if(n===s.pathname+s.search+s.hash)return[];let N=new Set,B=!1;if(e.forEach(G=>{var K;let X=a.routes[G.route.id];!X||!X.hasLoader||(!g.some(de=>de.route.id===G.route.id)&&G.route.id in d&&((K=l[G.route.id])!=null&&K.shouldRevalidate)||X.hasClientLoader?B=!0:N.add(G.route.id))}),N.size===0)return[];let k=K1(n,c);return B&&N.size>0&&k.searchParams.set("_routes",e.filter(G=>N.has(G.route.id)).map(G=>G.route.id).join(",")),[k.pathname+k.search]},[c,d,s,a,g,e,n,l]),S=z.useMemo(()=>F1(v,a),[v,a]),M=W1(v);return z.createElement(z.Fragment,null,T.map(N=>z.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),S.map(N=>z.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),M.map(({key:N,link:B})=>z.createElement("link",{key:N,...B})))}function J1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Yb&&(window.__reactRouterVersion="7.5.1")}catch{}function eR({basename:n,children:e,window:t}){let s=z.useRef();s.current==null&&(s.current=Fx({window:t,v5Compat:!0}));let a=s.current,[l,c]=z.useState({action:a.action,location:a.location}),d=z.useCallback(p=>{z.startTransition(()=>c(p))},[c]);return z.useLayoutEffect(()=>a.listen(d),[a,d]),z.createElement(N1,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:a})}var Xb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wb=z.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:T,...S},M){let{basename:N}=z.useContext(Qr),B=typeof g=="string"&&Xb.test(g),k,G=!1;if(typeof g=="string"&&B&&(k=g,Yb))try{let I=new URL(window.location.href),x=g.startsWith("//")?new URL(I.protocol+g):new URL(g),O=Oi(x.pathname,N);x.origin===I.origin&&O!=null?g=O+x.search+x.hash:G=!0}catch{Gr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let X=m1(g,{relative:a}),[K,de,le]=Y1(s,S),be=iR(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:a,viewTransition:T});function V(I){e&&e(I),I.defaultPrevented||be(I)}let C=z.createElement("a",{...S,...le,href:k||X,onClick:G||l?e:V,ref:J1(M,de),target:p,"data-discover":!B&&t==="render"?"true":void 0});return K&&!B?z.createElement(z.Fragment,null,C,z.createElement(X1,{page:X})):C});Wb.displayName="Link";var tR=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let T=qu(c,{relative:g.relative}),S=Ia(),M=z.useContext(Sf),{navigator:N,basename:B}=z.useContext(Qr),k=M!=null&&uR(T)&&d===!0,G=N.encodeLocation?N.encodeLocation(T).pathname:T.pathname,X=S.pathname,K=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;t||(X=X.toLowerCase(),K=K?K.toLowerCase():null,G=G.toLowerCase()),K&&B&&(K=Oi(K,B)||K);const de=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let le=X===G||!a&&X.startsWith(G)&&X.charAt(de)==="/",be=K!=null&&(K===G||!a&&K.startsWith(G)&&K.charAt(G.length)==="/"),V={isActive:le,isPending:be,isTransitioning:k},C=le?e:void 0,I;typeof s=="function"?I=s(V):I=[s,le?"active":null,be?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(V):l;return z.createElement(Wb,{...g,"aria-current":C,className:I,ref:v,style:x,to:c,viewTransition:d},typeof p=="function"?p(V):p)});tR.displayName="NavLink";var nR=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:a,state:l,method:c=Mh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:T,...S},M)=>{let N=oR(),B=lR(d,{relative:g}),k=c.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&Xb.test(d),X=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let de=K.nativeEvent.submitter,le=(de==null?void 0:de.getAttribute("formmethod"))||c;N(de||K.currentTarget,{fetcherKey:e,method:le,navigate:t,replace:a,state:l,relative:g,preventScrollReset:v,viewTransition:T})};return z.createElement("form",{ref:M,method:k,action:B,onSubmit:s?p:X,...S,"data-discover":!G&&n==="render"?"true":void 0})});nR.displayName="Form";function rR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Zb(n){let e=z.useContext($o);return Et(e,rR(n)),e}function iR(n,{target:e,replace:t,state:s,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=rg(),p=Ia(),g=qu(n,{relative:l});return z.useCallback(v=>{if(V1(v,e)){v.preventDefault();let T=t!==void 0?t:Nu(p)===Nu(g);d(n,{replace:T,state:s,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,g,t,s,e,n,a,l,c])}var sR=0,aR=()=>`__${String(++sR)}__`;function oR(){let{router:n}=Zb("useSubmit"),{basename:e}=z.useContext(Qr),t=A1();return z.useCallback(async(s,a={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=L1(s,e);if(a.navigate===!1){let v=a.fetcherKey||aR();await n.fetch(v,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await n.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:g,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[n,e,t])}function lR(n,{relative:e}={}){let{basename:t}=z.useContext(Qr),s=z.useContext(Li);Et(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...qu(n||".",{relative:e})},c=Ia();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Ni([t,l.pathname])),Nu(l)}function uR(n,e={}){let t=z.useContext(Fb);Et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Zb("useViewTransitionState"),a=qu(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Oi(t.currentLocation.pathname,s)||t.currentLocation.pathname,c=Oi(t.nextLocation.pathname,s)||t.nextLocation.pathname;return Xh(a.pathname,c)!=null||Xh(a.pathname,l)!=null}new TextEncoder;[...$1];const cR=()=>{};var I_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let a=n.charCodeAt(s);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},hR=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const a=n[t++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const l=n[t++];e[s++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=n[t++],c=n[t++],d=n[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},eT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<n.length;a+=3){const l=n[a],c=a+1<n.length,d=c?n[a+1]:0,p=a+2<n.length,g=p?n[a+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,M=g&63;p||(M=64,c||(S=64)),s.push(t[v],t[T],t[S],t[M])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Jb(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):hR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<n.length;){const l=t[n.charAt(a++)],d=a<n.length?t[n.charAt(a)]:0;++a;const g=a<n.length?t[n.charAt(a)]:64;++a;const T=a<n.length?t[n.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new fR;const S=l<<2|d>>4;if(s.push(S),g!==64){const M=d<<4&240|g>>2;if(s.push(M),T!==64){const N=g<<6&192|T;s.push(N)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const dR=function(n){const e=Jb(n);return eT.encodeByteArray(e,!0)},Wh=function(n){return dR(n).replace(/\./g,"")},tT=function(n){try{return eT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=()=>mR().__FIREBASE_DEFAULTS__,gR=()=>{if(typeof process>"u"||typeof I_>"u")return;const n=I_.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},yR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&tT(n[1]);return e&&JSON.parse(e)},xf=()=>{try{return cR()||pR()||gR()||yR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},nT=n=>{var e,t;return(t=(e=xf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},vR=n=>{const e=nT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},rT=()=>{var n;return(n=xf())===null||n===void 0?void 0:n.config},iT=n=>{var e;return(e=xf())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",a=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Wh(JSON.stringify(t)),Wh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function TR(){var n;const e=(n=xf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function SR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function AR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const n=pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RR(){return!TR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CR(){try{return typeof indexedDB=="object"}catch{return!1}}function NR(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="FirebaseError";class ji extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=IR,Object.setPrototypeOf(this,ji.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hu.prototype.create)}}class Hu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?DR(l,s):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new ji(a,d,s)}}function DR(n,e){return n.replace(OR,(t,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const OR=/\{\$([^}]+)}/g;function MR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wa(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const a of t){if(!s.includes(a))return!1;const l=n[a],c=e[a];if(D_(l)&&D_(c)){if(!wa(l,c))return!1}else if(l!==c)return!1}for(const a of s)if(!t.includes(a))return!1;return!0}function D_(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gu(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function mu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[a,l]=s.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function pu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function kR(n,e){const t=new VR(n,e);return t.subscribe.bind(t)}class VR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let a;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");PR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:s},a.next===void 0&&(a.next=ip),a.error===void 0&&(a.error=ip),a.complete===void 0&&(a.complete=ip);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ip(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n){return n&&n._delegate?n._delegate:n}class Sa{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new _R;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jR(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});s.resolve(l)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(a)}return a}onInit(e,t){var s;const a=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const a of s)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LR(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LR(n){return n===pa?void 0:n}function jR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new UR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Qe||(Qe={}));const BR={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},FR=Qe.INFO,qR={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},HR=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),a=qR[e];if(a)console[a](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lg{constructor(e){this.name=e,this._logLevel=FR,this._logHandler=HR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const GR=(n,e)=>e.some(t=>n instanceof t);let O_,M_;function $R(){return O_||(O_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function KR(){return M_||(M_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sT=new WeakMap,bp=new WeakMap,aT=new WeakMap,sp=new WeakMap,ug=new WeakMap;function QR(n){const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ts(n.result)),a()},c=()=>{s(n.error),a()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&sT.set(t,n)}).catch(()=>{}),ug.set(e,n),e}function YR(n){if(bp.has(n))return;const e=new Promise((t,s)=>{const a=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});bp.set(n,e)}let Tp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return bp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||aT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ts(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function XR(n){Tp=n(Tp)}function WR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(ap(this),e,...t);return aT.set(s,e.sort?e.sort():[e]),Ts(s)}:KR().includes(n)?function(...e){return n.apply(ap(this),e),Ts(sT.get(this))}:function(...e){return Ts(n.apply(ap(this),e))}}function ZR(n){return typeof n=="function"?WR(n):(n instanceof IDBTransaction&&YR(n),GR(n,$R())?new Proxy(n,Tp):n)}function Ts(n){if(n instanceof IDBRequest)return QR(n);if(sp.has(n))return sp.get(n);const e=ZR(n);return e!==n&&(sp.set(n,e),ug.set(e,n)),e}const ap=n=>ug.get(n);function JR(n,e,{blocked:t,upgrade:s,blocking:a,terminated:l}={}){const c=indexedDB.open(n,e),d=Ts(c);return s&&c.addEventListener("upgradeneeded",p=>{s(Ts(c.result),p.oldVersion,p.newVersion,Ts(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const e2=["get","getKey","getAll","getAllKeys","count"],t2=["put","add","delete","clear"],op=new Map;function k_(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(op.get(e))return op.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,a=t2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(a||e2.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&p.done]))[0]};return op.set(e,l),l}XR(n=>({...n,get:(e,t,s)=>k_(e,t)||n.get(e,t,s),has:(e,t)=>!!k_(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(r2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function r2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wp="@firebase/app",V_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new lg("@firebase/app"),i2="@firebase/app-compat",s2="@firebase/analytics-compat",a2="@firebase/analytics",o2="@firebase/app-check-compat",l2="@firebase/app-check",u2="@firebase/auth",c2="@firebase/auth-compat",h2="@firebase/database",f2="@firebase/data-connect",d2="@firebase/database-compat",m2="@firebase/functions",p2="@firebase/functions-compat",g2="@firebase/installations",y2="@firebase/installations-compat",v2="@firebase/messaging",_2="@firebase/messaging-compat",E2="@firebase/performance",b2="@firebase/performance-compat",T2="@firebase/remote-config",w2="@firebase/remote-config-compat",S2="@firebase/storage",A2="@firebase/storage-compat",x2="@firebase/firestore",R2="@firebase/vertexai",C2="@firebase/firestore-compat",N2="firebase",I2="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="[DEFAULT]",D2={[wp]:"fire-core",[i2]:"fire-core-compat",[a2]:"fire-analytics",[s2]:"fire-analytics-compat",[l2]:"fire-app-check",[o2]:"fire-app-check-compat",[u2]:"fire-auth",[c2]:"fire-auth-compat",[h2]:"fire-rtdb",[f2]:"fire-data-connect",[d2]:"fire-rtdb-compat",[m2]:"fire-fn",[p2]:"fire-fn-compat",[g2]:"fire-iid",[y2]:"fire-iid-compat",[v2]:"fire-fcm",[_2]:"fire-fcm-compat",[E2]:"fire-perf",[b2]:"fire-perf-compat",[T2]:"fire-rc",[w2]:"fire-rc-compat",[S2]:"fire-gcs",[A2]:"fire-gcs-compat",[x2]:"fire-fst",[C2]:"fire-fst-compat",[R2]:"fire-vertex","fire-js":"fire-js",[N2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,O2=new Map,Ap=new Map;function P_(n,e){try{n.container.addComponent(e)}catch(t){Mi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Uo(n){const e=n.name;if(Ap.has(e))return Mi.debug(`There were multiple attempts to register component ${e}.`),!1;Ap.set(e,n);for(const t of Zh.values())P_(t,n);for(const t of O2.values())P_(t,n);return!0}function cg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function tr(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new Hu("app","Firebase",M2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Sa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=I2;function oT(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sp,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw ws.create("bad-app-name",{appName:String(a)});if(t||(t=rT()),!t)throw ws.create("no-options");const l=Zh.get(a);if(l){if(wa(t,l.options)&&wa(s,l.config))return l;throw ws.create("duplicate-app",{appName:a})}const c=new zR(a);for(const p of Ap.values())c.addComponent(p);const d=new k2(t,s,c);return Zh.set(a,d),d}function lT(n=Sp){const e=Zh.get(n);if(!e&&n===Sp&&rT())return oT();if(!e)throw ws.create("no-app",{appName:n});return e}function Ss(n,e,t){var s;let a=(s=D2[n])!==null&&s!==void 0?s:n;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Mi.warn(d.join(" "));return}Uo(new Sa(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="firebase-heartbeat-database",P2=1,Iu="firebase-heartbeat-store";let lp=null;function uT(){return lp||(lp=JR(V2,P2,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Iu)}catch(t){console.warn(t)}}}}).catch(n=>{throw ws.create("idb-open",{originalErrorMessage:n.message})})),lp}async function U2(n){try{const t=(await uT()).transaction(Iu),s=await t.objectStore(Iu).get(cT(n));return await t.done,s}catch(e){if(e instanceof ji)Mi.warn(e.message);else{const t=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Mi.warn(t.message)}}}async function U_(n,e){try{const s=(await uT()).transaction(Iu,"readwrite");await s.objectStore(Iu).put(e,cT(n)),await s.done}catch(t){if(t instanceof ji)Mi.warn(t.message);else{const s=ws.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Mi.warn(s.message)}}}function cT(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2=1024,j2=30;class z2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new F2(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=L_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>j2){const c=q2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Mi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=L_(),{heartbeatsToSend:s,unsentEntries:a}=B2(this._heartbeatsCache.heartbeats),l=Wh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Mi.warn(t),""}}}function L_(){return new Date().toISOString().substring(0,10)}function B2(n,e=L2){const t=[];let s=n.slice();for(const a of n){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),j_(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),j_(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class F2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CR()?NR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await U2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return U_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return U_(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function j_(n){return Wh(JSON.stringify({version:2,heartbeats:n})).length}function q2(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(n){Uo(new Sa("platform-logger",e=>new n2(e),"PRIVATE")),Uo(new Sa("heartbeat",e=>new z2(e),"PRIVATE")),Ss(wp,V_,n),Ss(wp,V_,"esm2017"),Ss("fire-js","")}H2("");function hg(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(n);a<s.length;a++)e.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(n,s[a])&&(t[s[a]]=n[s[a]]);return t}function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const G2=hT,fT=new Hu("auth","Firebase",hT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh=new lg("@firebase/auth");function $2(n,...e){Jh.logLevel<=Qe.WARN&&Jh.warn(`Auth (${Ko}): ${n}`,...e)}function Vh(n,...e){Jh.logLevel<=Qe.ERROR&&Jh.error(`Auth (${Ko}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(n,...e){throw fg(n,...e)}function Br(n,...e){return fg(n,...e)}function dT(n,e,t){const s=Object.assign(Object.assign({},G2()),{[e]:t});return new Hu("auth","Firebase",s).create(e,{appName:n.name})}function Ii(n){return dT(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fg(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return fT.create(n,...e)}function De(n,e,...t){if(!n)throw fg(e,...t)}function Ri(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Vh(e),new Error(e)}function ki(n,e){n||Ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function K2(){return z_()==="http:"||z_()==="https:"}function z_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(K2()||SR()||"connection"in navigator)?navigator.onLine:!0}function Y2(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(e,t){this.shortDelay=e,this.longDelay=t,ki(t>e,"Short delay should be less than long delay!"),this.isMobile=bR()||AR()}get(){return Q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(n,e){ki(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Z2=new $u(3e4,6e4);function Ms(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ks(n,e,t,s,a={}){return pT(n,a,async()=>{let l={},c={};s&&(e==="GET"?c=s:l={body:JSON.stringify(s)});const d=Gu(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g=Object.assign({method:e,headers:p},l);return wR()||(g.referrerPolicy="no-referrer"),mT.fetch()(await gT(n,n.config.apiHost,t,d),g)})}async function pT(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},X2),e);try{const a=new eC(n),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw xh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw xh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw xh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw xh(n,"user-disabled",c);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw dT(n,v,g);gr(n,v)}}catch(a){if(a instanceof ji)throw a;gr(n,"network-request-failed",{message:String(a)})}}async function Ku(n,e,t,s,a={}){const l=await ks(n,e,t,s,a);return"mfaPendingCredential"in l&&gr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function gT(n,e,t,s){const a=`${e}${t}?${s}`,l=n,c=l.config.emulator?dg(n.config,a):`${n.config.apiScheme}://${a}`;return W2.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function J2(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class eC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(Br(this.auth,"network-request-failed")),Z2.get())})}}function xh(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const a=Br(n,e,s);return a.customData._tokenResponse=t,a}function B_(n){return n!==void 0&&n.enterprise!==void 0}class tC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return J2(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function nC(n,e){return ks(n,"GET","/v2/recaptchaConfig",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(n,e){return ks(n,"POST","/v1/accounts:delete",e)}async function ef(n,e){return ks(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function iC(n,e=!1){const t=Nn(n),s=await t.getIdToken(e),a=mg(s);De(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:s,authTime:Eu(up(a.auth_time)),issuedAtTime:Eu(up(a.iat)),expirationTime:Eu(up(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function up(n){return Number(n)*1e3}function mg(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{const a=tT(t);return a?JSON.parse(a):(Vh("Failed to decode base64 JWT payload"),null)}catch(a){return Vh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function F_(n){const e=mg(n);return De(e,"internal-error"),De(typeof e.exp<"u","internal-error"),De(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof ji&&sC(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function sC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(n){var e;const t=n.auth,s=await n.getIdToken(),a=await Du(n,ef(t,{idToken:s}));De(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?yT(l.providerUserInfo):[],d=lC(n.providerData,c),p=n.isAnonymous,g=!(n.email&&l.passwordHash)&&!(d!=null&&d.length),v=p?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Rp(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(n,T)}async function oC(n){const e=Nn(n);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lC(n,e){return[...n.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function yT(n){return n.map(e=>{var{providerId:t}=e,s=hg(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(n,e){const t=await pT(n,{},async()=>{const s=Gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=n.config,c=await gT(n,a,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",mT.fetch()(c,{method:"POST",headers:d,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function cC(n,e){return ks(n,"POST","/v2/accounts:revokeToken",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){De(e.idToken,"internal-error"),De(typeof e.idToken<"u","internal-error"),De(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):F_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){De(e.length!==0,"internal-error");const t=F_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(De(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:a,expiresIn:l}=await uC(e,t);this.updateTokensAndExpiration(s,a,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:a,expirationTime:l}=t,c=new Mo;return s&&(De(typeof s=="string","internal-error",{appName:e}),c.refreshToken=s),a&&(De(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(De(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mo,this.toJSON())}_performRefresh(){return Ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(n,e){De(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class mr{constructor(e){var{uid:t,auth:s,stsTokenManager:a}=e,l=hg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new aC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Rp(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Du(this,this.stsTokenManager.getToken(this.auth,e));return De(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return iC(this,e)}reload(){return oC(this)}_assign(e){this!==e&&(De(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new mr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await tf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(tr(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await Du(this,rC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,a,l,c,d,p,g,v;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,S=(a=t.email)!==null&&a!==void 0?a:void 0,M=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,N=(c=t.photoURL)!==null&&c!==void 0?c:void 0,B=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:K,emailVerified:de,isAnonymous:le,providerData:be,stsTokenManager:V}=t;De(K&&V,e,"internal-error");const C=Mo.fromJSON(this.name,V);De(typeof K=="string",e,"internal-error"),ps(T,e.name),ps(S,e.name),De(typeof de=="boolean",e,"internal-error"),De(typeof le=="boolean",e,"internal-error"),ps(M,e.name),ps(N,e.name),ps(B,e.name),ps(k,e.name),ps(G,e.name),ps(X,e.name);const I=new mr({uid:K,auth:e,email:S,emailVerified:de,displayName:T,isAnonymous:le,photoURL:N,phoneNumber:M,tenantId:B,stsTokenManager:C,createdAt:G,lastLoginAt:X});return be&&Array.isArray(be)&&(I.providerData=be.map(x=>Object.assign({},x))),k&&(I._redirectEventId=k),I}static async _fromIdTokenResponse(e,t,s=!1){const a=new Mo;a.updateFromServerResponse(t);const l=new mr({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:s});return await tf(l),l}static async _fromGetAccountInfoResponse(e,t,s){const a=t.users[0];De(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?yT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new Mo;d.updateFromIdToken(s);const p=new mr({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Rp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function Ci(n){ki(n instanceof Function,"Expected a class definition");let e=q_.get(n);return e?(ki(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,q_.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vT.type="NONE";const H_=vT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ph(n,e,t){return`firebase:${n}:${e}:${t}`}class ko{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:a,name:l}=this.auth;this.fullUserKey=Ph(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ph("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await ef(this.auth,{idToken:e}).catch(()=>{});return t?mr._fromGetAccountInfoResponse(this.auth,t,e):null}return mr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ko(Ci(H_),e,s);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Ci(H_);const c=Ph(s,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let T;if(typeof v=="string"){const S=await ef(e,{idToken:v}).catch(()=>{});if(!S)break;T=await mr._fromGetAccountInfoResponse(e,S,v)}else T=mr._fromJSON(e,v);g!==l&&(d=T),l=g;break}}catch{}const p=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new ko(l,e,s):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new ko(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(TT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(_T(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ST(e))return"Blackberry";if(AT(e))return"Webos";if(ET(e))return"Safari";if((e.includes("chrome/")||bT(e))&&!e.includes("edge/"))return"Chrome";if(wT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _T(n=pn()){return/firefox\//i.test(n)}function ET(n=pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bT(n=pn()){return/crios\//i.test(n)}function TT(n=pn()){return/iemobile/i.test(n)}function wT(n=pn()){return/android/i.test(n)}function ST(n=pn()){return/blackberry/i.test(n)}function AT(n=pn()){return/webos/i.test(n)}function pg(n=pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function hC(n=pn()){var e;return pg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fC(){return xR()&&document.documentMode===10}function xT(n=pn()){return pg(n)||wT(n)||AT(n)||ST(n)||/windows phone/i.test(n)||TT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n,e=[]){let t;switch(n){case"Browser":t=G_(pn());break;case"Worker":t=`${G_(pn())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ko}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});s.onAbort=t,this.queue.push(s);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mC(n,e={}){return ks(n,"GET","/v2/passwordPolicy",Ms(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=6;class gC{constructor(e){var t,s,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:pC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,s,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $_(this),this.idTokenSubscription=new $_(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ci(t)),this._initializationPromise=this.queue(async()=>{var s,a,l;if(!this._deleted&&(this.persistenceManager=await ko.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ef(this,{idToken:e}),s=await mr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(tr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let a=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return De(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Y2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(tr(this.app))return Promise.reject(Ii(this));const t=e?Nn(e):null;return t&&De(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&De(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return tr(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return tr(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mC(this),t=new gC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await cC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ci(e)||this._popupRedirectResolver;De(t,this,"argument-error"),this.redirectPersistenceManager=await ko.create(this,[Ci(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(De(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=RT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(tr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&$2(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Da(n){return Nn(n)}class $_{constructor(e){this.auth=e,this.observer=null,this.addObserver=kR(t=>this.observer=t)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(n){Rf=n}function CT(n){return Rf.loadJS(n)}function _C(){return Rf.recaptchaEnterpriseScript}function EC(){return Rf.gapiScript}function bC(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class TC{constructor(){this.enterprise=new wC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class wC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const SC="recaptcha-enterprise",NT="NO_RECAPTCHA";class AC{constructor(e){this.type=SC,this.auth=Da(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{nC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new tC(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function a(l,c,d){const p=window.grecaptcha;B_(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(NT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new TC().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{s(this.auth).then(d=>{if(!t&&B_(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=_C();p.length!==0&&(p+=d),CT(p).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function K_(n,e,t,s=!1,a=!1){const l=new AC(n);let c;if(a)c=NT;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Cp(n,e,t,s,a){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await K_(n,e,t,t==="getOobCode");return s(n,c)}else return s(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await K_(n,e,t,t==="getOobCode");return s(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(n,e){const t=cg(n,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(wa(l,e??{}))return a;gr(a,"already-initialized")}return t.initialize({options:e})}function RC(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Ci);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function CC(n,e,t){const s=Da(n);De(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const a=!1,l=IT(e),{host:c,port:d}=NC(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!s._canInitEmulator){De(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),De(wa(g,s.config.emulator)&&wa(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,IC()}function IT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function NC(n){const e=IT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const l=a[1];return{host:l,port:Q_(s.substr(l.length+1))}}else{const[l,c]=s.split(":");return{host:l,port:Q_(c)}}}function Q_(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function IC(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ri("not implemented")}_getIdTokenResponse(e){return Ri("not implemented")}_linkToIdToken(e,t){return Ri("not implemented")}_getReauthenticationResolver(e){return Ri("not implemented")}}async function DC(n,e){return ks(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(n,e){return Ku(n,"POST","/v1/accounts:signInWithPassword",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(n,e){return Ku(n,"POST","/v1/accounts:signInWithEmailLink",Ms(n,e))}async function kC(n,e){return Ku(n,"POST","/v1/accounts:signInWithEmailLink",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ou extends gg{constructor(e,t,s,a=null){super("password",s),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new Ou(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Ou(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,t,"signInWithPassword",OC);case"emailLink":return MC(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cp(e,s,"signUpPassword",DC);case"emailLink":return kC(e,{idToken:t,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,e){return Ku(n,"POST","/v1/accounts:signInWithIdp",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="http://localhost";class Aa extends gg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:a}=t,l=hg(t,["providerId","signInMethod"]);if(!s||!a)return null;const c=new Aa(s,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Vo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:VC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Gu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function UC(n){const e=mu(pu(n)).link,t=e?mu(pu(e)).deep_link_id:null,s=mu(pu(n)).deep_link_id;return(s?mu(pu(s)).link:null)||s||t||e||n}class yg{constructor(e){var t,s,a,l,c,d;const p=mu(pu(e)),g=(t=p.apiKey)!==null&&t!==void 0?t:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,T=PC((a=p.mode)!==null&&a!==void 0?a:null);De(g&&v&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=v,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=UC(e);try{return new yg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(){this.providerId=Qo.PROVIDER_ID}static credential(e,t){return Ou._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=yg.parseLink(t);return De(s,"argument-error"),Ou._fromEmailAndCode(e,s.code,s.tenantId)}}Qo.PROVIDER_ID="password";Qo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Qo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends DT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends Qu{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Aa._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return xi.credential(t,s)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends Qu{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ys.credential(e.oauthAccessToken)}catch{return null}}}ys.GITHUB_SIGN_IN_METHOD="github.com";ys.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends Qu{constructor(){super("twitter.com")}static credential(e,t){return Aa._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return vs.credential(t,s)}catch{return null}}}vs.TWITTER_SIGN_IN_METHOD="twitter.com";vs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(n,e){return Ku(n,"POST","/v1/accounts:signUp",Ms(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,a=!1){const l=await mr._fromIdTokenResponse(e,s,a),c=Y_(s);return new xa({user:l,providerId:c,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const a=Y_(s);return new xa({user:e,providerId:a,_tokenResponse:s,operationType:t})}}function Y_(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends ji{constructor(e,t,s,a){var l;super(t.code,t.message),this.operationType=s,this.user=a,Object.setPrototypeOf(this,nf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,a){return new nf(e,t,s,a)}}function OT(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?nf._fromErrorAndOperation(n,l,e,s):l})}async function jC(n,e,t=!1){const s=await Du(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return xa._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zC(n,e,t=!1){const{auth:s}=n;if(tr(s.app))return Promise.reject(Ii(s));const a="reauthenticate";try{const l=await Du(n,OT(s,a,e,n),t);De(l.idToken,s,"internal-error");const c=mg(l.idToken);De(c,s,"internal-error");const{sub:d}=c;return De(n.uid===d,s,"user-mismatch"),xa._forOperation(n,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&gr(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MT(n,e,t=!1){if(tr(n.app))return Promise.reject(Ii(n));const s="signIn",a=await OT(n,s,e),l=await xa._fromIdTokenResponse(n,s,a);return t||await n._updateCurrentUser(l.user),l}async function BC(n,e){return MT(Da(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kT(n){const e=Da(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VT(n,e,t){if(tr(n.app))return Promise.reject(Ii(n));const s=Da(n),c=await Cp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",LC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&kT(n),p}),d=await xa._fromIdTokenResponse(s,"signIn",c);return await s._updateCurrentUser(d.user),d}function FC(n,e,t){return tr(n.app)?Promise.reject(Ii(n)):BC(Nn(n),Qo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&kT(n),s})}function qC(n,e,t,s){return Nn(n).onIdTokenChanged(e,t,s)}function HC(n,e,t){return Nn(n).beforeAuthStateChanged(e,t)}function GC(n,e,t,s){return Nn(n).onAuthStateChanged(e,t,s)}const rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=1e3,KC=10;class UT extends PT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),a=this.localCache[t];s!==a&&e(t,a,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(s);!t&&this.localCache[s]===c||this.notifyListeners(s,c)},l=this.storage.getItem(s);fC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,KC):a()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},$C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const QC=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT extends PT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}LT.type="SESSION";const jT=LT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const s=new Cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await YC(d);t.ports[0].postMessage({status:"done",eventId:s,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=vg("",20);a.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return window}function WC(n){Fr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof Fr().WorkerGlobalScope<"u"&&typeof Fr().importScripts=="function"}async function ZC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JC(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function eN(){return zT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firebaseLocalStorageDb",tN=1,sf="firebaseLocalStorage",FT="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nf(n,e){return n.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function nN(){const n=indexedDB.deleteDatabase(BT);return new Yu(n).toPromise()}function Np(){const n=indexedDB.open(BT,tN);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(sf,{keyPath:FT})}catch(a){t(a)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(sf)?e(s):(s.close(),await nN(),e(await Np()))})})}async function X_(n,e,t){const s=Nf(n,!0).put({[FT]:e,value:t});return new Yu(s).toPromise()}async function rN(n,e){const t=Nf(n,!1).get(e),s=await new Yu(t).toPromise();return s===void 0?null:s.value}function W_(n,e){const t=Nf(n,!0).delete(e);return new Yu(t).toPromise()}const iN=800,sN=3;class qT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>sN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Cf._getInstance(eN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ZC(),!this.activeServiceWorker)return;this.sender=new XC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await X_(e,rf,"1"),await W_(e,rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>X_(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>rN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>W_(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Nf(a,!1).getAll();return new Yu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)s.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!s.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const a of Array.from(s))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qT.type="LOCAL";const aN=qT;new $u(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(n,e){return e?Ci(e):(De(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g extends gg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lN(n){return MT(n.auth,new _g(n),n.bypassAuthState)}function uN(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),zC(t,new _g(n),n.bypassAuthState)}async function cN(n){const{auth:e,user:t}=n;return De(t,e,"internal-error"),jC(t,new _g(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,s,a,l=!1){this.auth=e,this.resolver=s,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lN;case"linkViaPopup":case"linkViaRedirect":return cN;case"reauthViaPopup":case"reauthViaRedirect":return uN;default:gr(this.auth,"internal-error")}}resolve(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new $u(2e3,1e4);class Oo extends HT{constructor(e,t,s,a,l){super(e,t,a,l),this.provider=s,this.authWindow=null,this.pollId=null,Oo.currentPopupAction&&Oo.currentPopupAction.cancel(),Oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return De(e,this.auth,"internal-error"),e}async onExecution(){ki(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,hN.get())};e()}}Oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN="pendingRedirect",Uh=new Map;class dN extends HT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Uh.get(this.auth._key());if(!e){try{const s=await mN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Uh.set(this.auth._key(),e)}return this.bypassAuthState||Uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mN(n,e){const t=yN(e),s=gN(n);if(!await s._isAvailable())return!1;const a=await s._get(t)==="true";return await s._remove(t),a}function pN(n,e){Uh.set(n._key(),e)}function gN(n){return Ci(n._redirectPersistence)}function yN(n){return Ph(fN,n.config.apiKey,n.name)}async function vN(n,e,t=!1){if(tr(n.app))return Promise.reject(Ii(n));const s=Da(n),a=oN(s,e),c=await new dN(s,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await s._persistUserIfCurrent(c.user),await s._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=10*60*1e3;class EN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!GT(e)){const a=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(Br(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_N&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z_(e))}saveEventToCache(e){this.cachedEventUids.add(Z_(e)),this.lastProcessedEventTime=Date.now()}}function Z_(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bN(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(n,e={}){return ks(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SN=/^https?/;async function AN(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TN(n);for(const t of e)try{if(xN(t))return}catch{}gr(n,"unauthorized-domain")}function xN(n){const e=xp(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===s}if(!SN.test(t))return!1;if(wN.test(n))return s===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new $u(3e4,6e4);function J_(){const n=Fr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CN(n){return new Promise((e,t)=>{var s,a,l;function c(){J_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J_(),t(Br(n,"network-request-failed"))},timeout:RN.get()})}if(!((a=(s=Fr().gapi)===null||s===void 0?void 0:s.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Fr().gapi)===null||l===void 0)&&l.load)c();else{const d=bC("iframefcb");return Fr()[d]=()=>{gapi.load?c():t(Br(n,"network-request-failed"))},CT(`${EC()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw Lh=null,e})}let Lh=null;function NN(n){return Lh=Lh||CN(n),Lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=new $u(5e3,15e3),DN="__/auth/iframe",ON="emulator/auth/iframe",MN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VN(n){const e=n.config;De(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dg(e,ON):`https://${n.config.authDomain}/${DN}`,s={apiKey:e.apiKey,appName:n.name,v:Ko},a=kN.get(n.config.apiHost);a&&(s.eid=a);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${Gu(s).slice(1)}`}async function PN(n){const e=await NN(n),t=Fr().gapi;return De(t,n,"internal-error"),e.open({where:document.body,url:VN(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:MN,dontclear:!0},s=>new Promise(async(a,l)=>{await s.restyle({setHideOnLeave:!1});const c=Br(n,"network-request-failed"),d=Fr().setTimeout(()=>{l(c)},IN.get());function p(){Fr().clearTimeout(d),a(s)}s.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},LN=500,jN=600,zN="_blank",BN="http://localhost";class eE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FN(n,e,t,s=LN,a=jN){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},UN),{width:s.toString(),height:a.toString(),top:l,left:c}),g=pn().toLowerCase();t&&(d=bT(g)?zN:t),_T(g)&&(e=e||BN,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[M,N])=>`${S}${M}=${N},`,"");if(hC(g)&&d!=="_self")return qN(e||"",d),new eE(null);const T=window.open(e||"",d,v);De(T,n,"popup-blocked");try{T.focus()}catch{}return new eE(T)}function qN(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="__/auth/handler",GN="emulator/auth/handler",$N=encodeURIComponent("fac");async function tE(n,e,t,s,a,l){De(n.config.authDomain,n,"auth-domain-config-required"),De(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Ko,eventId:a};if(e instanceof DT){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",MR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,T]of Object.entries({}))c[v]=T}if(e instanceof Qu){const v=e.getScopes().filter(T=>T!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${$N}=${encodeURIComponent(p)}`:"";return`${KN(n)}?${Gu(d).slice(1)}${g}`}function KN({config:n}){return n.emulator?dg(n,GN):`https://${n.authDomain}/${HN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp="webStorageSupport";class QN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jT,this._completeRedirectFn=vN,this._overrideRedirectResult=pN}async _openPopup(e,t,s,a){var l;ki((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await tE(e,t,s,xp(),a);return FN(e,c,vg())}async _openRedirect(e,t,s,a){await this._originValidation(e);const l=await tE(e,t,s,xp(),a);return WC(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(ki(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await PN(e),s=new EN(e);return t.register("authEvent",a=>(De(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:s.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cp,{type:cp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[cp];c!==void 0&&t(!!c),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xT()||ET()||pg()}}const YN=QN;var nE="@firebase/auth",rE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZN(n){Uo(new Sa("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=s.options;De(c&&!c.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RT(n)},g=new yC(s,a,l,p);return RC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Uo(new Sa("auth-internal",e=>{const t=Da(e.getProvider("auth").getImmediate());return(s=>new XN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ss(nE,rE,WN(n)),Ss(nE,rE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JN=5*60,eI=iT("authIdTokenMaxAge")||JN;let iE=null;const tI=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>eI)return;const a=t==null?void 0:t.token;iE!==a&&(iE=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nI(n=lT()){const e=cg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=xC(n,{popupRedirectResolver:YN,persistence:[aN,QC,jT]}),s=iT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const c=tI(l.toString());HC(t,c,()=>c(t.currentUser)),qC(t,d=>c(d))}}const a=nT("auth");return a&&CC(t,`http://${a}`),t}function rI(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}vC({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=a=>{const l=Br("internal-error");l.customData=a,t(l)},s.type="text/javascript",s.charset="UTF-8",rI().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZN("Browser");var iI="firebase",sI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(iI,sI,"app");var sE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,$T;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,C){function I(){}I.prototype=C.prototype,V.D=C.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(x,O,P){for(var R=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)R[Ae-2]=arguments[Ae];return C.prototype[O].apply(x,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(V,C,I){I||(I=0);var x=Array(16);if(typeof C=="string")for(var O=0;16>O;++O)x[O]=C.charCodeAt(I++)|C.charCodeAt(I++)<<8|C.charCodeAt(I++)<<16|C.charCodeAt(I++)<<24;else for(O=0;16>O;++O)x[O]=C[I++]|C[I++]<<8|C[I++]<<16|C[I++]<<24;C=V.g[0],I=V.g[1],O=V.g[2];var P=V.g[3],R=C+(P^I&(O^P))+x[0]+3614090360&4294967295;C=I+(R<<7&4294967295|R>>>25),R=P+(O^C&(I^O))+x[1]+3905402710&4294967295,P=C+(R<<12&4294967295|R>>>20),R=O+(I^P&(C^I))+x[2]+606105819&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(C^O&(P^C))+x[3]+3250441966&4294967295,I=O+(R<<22&4294967295|R>>>10),R=C+(P^I&(O^P))+x[4]+4118548399&4294967295,C=I+(R<<7&4294967295|R>>>25),R=P+(O^C&(I^O))+x[5]+1200080426&4294967295,P=C+(R<<12&4294967295|R>>>20),R=O+(I^P&(C^I))+x[6]+2821735955&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(C^O&(P^C))+x[7]+4249261313&4294967295,I=O+(R<<22&4294967295|R>>>10),R=C+(P^I&(O^P))+x[8]+1770035416&4294967295,C=I+(R<<7&4294967295|R>>>25),R=P+(O^C&(I^O))+x[9]+2336552879&4294967295,P=C+(R<<12&4294967295|R>>>20),R=O+(I^P&(C^I))+x[10]+4294925233&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(C^O&(P^C))+x[11]+2304563134&4294967295,I=O+(R<<22&4294967295|R>>>10),R=C+(P^I&(O^P))+x[12]+1804603682&4294967295,C=I+(R<<7&4294967295|R>>>25),R=P+(O^C&(I^O))+x[13]+4254626195&4294967295,P=C+(R<<12&4294967295|R>>>20),R=O+(I^P&(C^I))+x[14]+2792965006&4294967295,O=P+(R<<17&4294967295|R>>>15),R=I+(C^O&(P^C))+x[15]+1236535329&4294967295,I=O+(R<<22&4294967295|R>>>10),R=C+(O^P&(I^O))+x[1]+4129170786&4294967295,C=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(C^I))+x[6]+3225465664&4294967295,P=C+(R<<9&4294967295|R>>>23),R=O+(C^I&(P^C))+x[11]+643717713&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^C&(O^P))+x[0]+3921069994&4294967295,I=O+(R<<20&4294967295|R>>>12),R=C+(O^P&(I^O))+x[5]+3593408605&4294967295,C=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(C^I))+x[10]+38016083&4294967295,P=C+(R<<9&4294967295|R>>>23),R=O+(C^I&(P^C))+x[15]+3634488961&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^C&(O^P))+x[4]+3889429448&4294967295,I=O+(R<<20&4294967295|R>>>12),R=C+(O^P&(I^O))+x[9]+568446438&4294967295,C=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(C^I))+x[14]+3275163606&4294967295,P=C+(R<<9&4294967295|R>>>23),R=O+(C^I&(P^C))+x[3]+4107603335&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^C&(O^P))+x[8]+1163531501&4294967295,I=O+(R<<20&4294967295|R>>>12),R=C+(O^P&(I^O))+x[13]+2850285829&4294967295,C=I+(R<<5&4294967295|R>>>27),R=P+(I^O&(C^I))+x[2]+4243563512&4294967295,P=C+(R<<9&4294967295|R>>>23),R=O+(C^I&(P^C))+x[7]+1735328473&4294967295,O=P+(R<<14&4294967295|R>>>18),R=I+(P^C&(O^P))+x[12]+2368359562&4294967295,I=O+(R<<20&4294967295|R>>>12),R=C+(I^O^P)+x[5]+4294588738&4294967295,C=I+(R<<4&4294967295|R>>>28),R=P+(C^I^O)+x[8]+2272392833&4294967295,P=C+(R<<11&4294967295|R>>>21),R=O+(P^C^I)+x[11]+1839030562&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^C)+x[14]+4259657740&4294967295,I=O+(R<<23&4294967295|R>>>9),R=C+(I^O^P)+x[1]+2763975236&4294967295,C=I+(R<<4&4294967295|R>>>28),R=P+(C^I^O)+x[4]+1272893353&4294967295,P=C+(R<<11&4294967295|R>>>21),R=O+(P^C^I)+x[7]+4139469664&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^C)+x[10]+3200236656&4294967295,I=O+(R<<23&4294967295|R>>>9),R=C+(I^O^P)+x[13]+681279174&4294967295,C=I+(R<<4&4294967295|R>>>28),R=P+(C^I^O)+x[0]+3936430074&4294967295,P=C+(R<<11&4294967295|R>>>21),R=O+(P^C^I)+x[3]+3572445317&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^C)+x[6]+76029189&4294967295,I=O+(R<<23&4294967295|R>>>9),R=C+(I^O^P)+x[9]+3654602809&4294967295,C=I+(R<<4&4294967295|R>>>28),R=P+(C^I^O)+x[12]+3873151461&4294967295,P=C+(R<<11&4294967295|R>>>21),R=O+(P^C^I)+x[15]+530742520&4294967295,O=P+(R<<16&4294967295|R>>>16),R=I+(O^P^C)+x[2]+3299628645&4294967295,I=O+(R<<23&4294967295|R>>>9),R=C+(O^(I|~P))+x[0]+4096336452&4294967295,C=I+(R<<6&4294967295|R>>>26),R=P+(I^(C|~O))+x[7]+1126891415&4294967295,P=C+(R<<10&4294967295|R>>>22),R=O+(C^(P|~I))+x[14]+2878612391&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~C))+x[5]+4237533241&4294967295,I=O+(R<<21&4294967295|R>>>11),R=C+(O^(I|~P))+x[12]+1700485571&4294967295,C=I+(R<<6&4294967295|R>>>26),R=P+(I^(C|~O))+x[3]+2399980690&4294967295,P=C+(R<<10&4294967295|R>>>22),R=O+(C^(P|~I))+x[10]+4293915773&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~C))+x[1]+2240044497&4294967295,I=O+(R<<21&4294967295|R>>>11),R=C+(O^(I|~P))+x[8]+1873313359&4294967295,C=I+(R<<6&4294967295|R>>>26),R=P+(I^(C|~O))+x[15]+4264355552&4294967295,P=C+(R<<10&4294967295|R>>>22),R=O+(C^(P|~I))+x[6]+2734768916&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~C))+x[13]+1309151649&4294967295,I=O+(R<<21&4294967295|R>>>11),R=C+(O^(I|~P))+x[4]+4149444226&4294967295,C=I+(R<<6&4294967295|R>>>26),R=P+(I^(C|~O))+x[11]+3174756917&4294967295,P=C+(R<<10&4294967295|R>>>22),R=O+(C^(P|~I))+x[2]+718787259&4294967295,O=P+(R<<15&4294967295|R>>>17),R=I+(P^(O|~C))+x[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+P&4294967295}s.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var I=C-this.blockSize,x=this.B,O=this.h,P=0;P<C;){if(O==0)for(;P<=I;)a(this,V,P),P+=this.blockSize;if(typeof V=="string"){for(;P<C;)if(x[O++]=V.charCodeAt(P++),O==this.blockSize){a(this,x),O=0;break}}else for(;P<C;)if(x[O++]=V[P++],O==this.blockSize){a(this,x),O=0;break}}this.h=O,this.o+=C},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var I=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=I&255,I/=256;for(this.u(V),V=Array(16),C=I=0;4>C;++C)for(var x=0;32>x;x+=8)V[I++]=this.g[C]>>>x&255;return V};function l(V,C){var I=d;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=C(V)}function c(V,C){this.h=C;for(var I=[],x=!0,O=V.length-1;0<=O;O--){var P=V[O]|0;x&&P==C||(I[O]=P,x=!1)}this.g=I}var d={};function p(V){return-128<=V&&128>V?l(V,function(C){return new c([C|0],0>C?-1:0)}):new c([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return T;if(0>V)return k(g(-V));for(var C=[],I=1,x=0;V>=I;x++)C[x]=V/I|0,I*=4294967296;return new c(C,0)}function v(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return k(v(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(C,8)),x=T,O=0;O<V.length;O+=8){var P=Math.min(8,V.length-O),R=parseInt(V.substring(O,O+P),C);8>P?(P=g(Math.pow(C,P)),x=x.j(P).add(g(R))):(x=x.j(I),x=x.add(g(R)))}return x}var T=p(0),S=p(1),M=p(16777216);n=c.prototype,n.m=function(){if(B(this))return-k(this).m();for(var V=0,C=1,I=0;I<this.g.length;I++){var x=this.i(I);V+=(0<=x?x:4294967296+x)*C,C*=4294967296}return V},n.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(N(this))return"0";if(B(this))return"-"+k(this).toString(V);for(var C=g(Math.pow(V,6)),I=this,x="";;){var O=de(I,C).g;I=G(I,O.j(C));var P=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=O,N(I))return P+x;for(;6>P.length;)P="0"+P;x=P+x}},n.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function N(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function B(V){return V.h==-1}n.l=function(V){return V=G(this,V),B(V)?-1:N(V)?0:1};function k(V){for(var C=V.g.length,I=[],x=0;x<C;x++)I[x]=~V.g[x];return new c(I,~V.h).add(S)}n.abs=function(){return B(this)?k(this):this},n.add=function(V){for(var C=Math.max(this.g.length,V.g.length),I=[],x=0,O=0;O<=C;O++){var P=x+(this.i(O)&65535)+(V.i(O)&65535),R=(P>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);x=R>>>16,P&=65535,R&=65535,I[O]=R<<16|P}return new c(I,I[I.length-1]&-2147483648?-1:0)};function G(V,C){return V.add(k(C))}n.j=function(V){if(N(this)||N(V))return T;if(B(this))return B(V)?k(this).j(k(V)):k(k(this).j(V));if(B(V))return k(this.j(k(V)));if(0>this.l(M)&&0>V.l(M))return g(this.m()*V.m());for(var C=this.g.length+V.g.length,I=[],x=0;x<2*C;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var O=0;O<V.g.length;O++){var P=this.i(x)>>>16,R=this.i(x)&65535,Ae=V.i(O)>>>16,je=V.i(O)&65535;I[2*x+2*O]+=R*je,X(I,2*x+2*O),I[2*x+2*O+1]+=P*je,X(I,2*x+2*O+1),I[2*x+2*O+1]+=R*Ae,X(I,2*x+2*O+1),I[2*x+2*O+2]+=P*Ae,X(I,2*x+2*O+2)}for(x=0;x<C;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=C;x<2*C;x++)I[x]=0;return new c(I,0)};function X(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function K(V,C){this.g=V,this.h=C}function de(V,C){if(N(C))throw Error("division by zero");if(N(V))return new K(T,T);if(B(V))return C=de(k(V),C),new K(k(C.g),k(C.h));if(B(C))return C=de(V,k(C)),new K(k(C.g),C.h);if(30<V.g.length){if(B(V)||B(C))throw Error("slowDivide_ only works with positive integers.");for(var I=S,x=C;0>=x.l(V);)I=le(I),x=le(x);var O=be(I,1),P=be(x,1);for(x=be(x,2),I=be(I,2);!N(x);){var R=P.add(x);0>=R.l(V)&&(O=O.add(I),P=R),x=be(x,1),I=be(I,1)}return C=G(V,O.j(C)),new K(O,C)}for(O=T;0<=V.l(C);){for(I=Math.max(1,Math.floor(V.m()/C.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),P=g(I),R=P.j(C);B(R)||0<R.l(V);)I-=x,P=g(I),R=P.j(C);N(P)&&(P=S),O=O.add(P),V=G(V,R)}return new K(O,V)}n.A=function(V){return de(this,V).h},n.and=function(V){for(var C=Math.max(this.g.length,V.g.length),I=[],x=0;x<C;x++)I[x]=this.i(x)&V.i(x);return new c(I,this.h&V.h)},n.or=function(V){for(var C=Math.max(this.g.length,V.g.length),I=[],x=0;x<C;x++)I[x]=this.i(x)|V.i(x);return new c(I,this.h|V.h)},n.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),I=[],x=0;x<C;x++)I[x]=this.i(x)^V.i(x);return new c(I,this.h^V.h)};function le(V){for(var C=V.g.length+1,I=[],x=0;x<C;x++)I[x]=V.i(x)<<1|V.i(x-1)>>>31;return new c(I,V.h)}function be(V,C){var I=C>>5;C%=32;for(var x=V.g.length-I,O=[],P=0;P<x;P++)O[P]=0<C?V.i(P+I)>>>C|V.i(P+I+1)<<32-C:V.i(P+I);return new c(O,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,$T=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,As=c}).apply(typeof sE<"u"?sE:typeof self<"u"?self:typeof window<"u"?window:{});var Rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KT,gu,QT,jh,Ip,YT,XT,WT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,y,_){return h==Array.prototype||h==Object.prototype||(h[y]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rh=="object"&&Rh];for(var y=0;y<h.length;++y){var _=h[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function a(h,y){if(y)e:{var _=s;h=h.split(".");for(var A=0;A<h.length-1;A++){var q=h[A];if(!(q in _))break e;_=_[q]}h=h[h.length-1],A=_[h],y=y(A),y!=A&&y!=null&&e(_,h,{configurable:!0,writable:!0,value:y})}}function l(h,y){h instanceof String&&(h+="");var _=0,A=!1,q={next:function(){if(!A&&_<h.length){var Z=_++;return{value:y(Z,h[Z]),done:!1}}return A=!0,{done:!0,value:void 0}}};return q[Symbol.iterator]=function(){return q},q}a("Array.prototype.values",function(h){return h||function(){return l(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var y=typeof h;return y=y!="object"?y:h?Array.isArray(h)?"array":y:"null",y=="array"||y=="object"&&typeof h.length=="number"}function g(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function v(h,y,_){return h.call.apply(h.bind,arguments)}function T(h,y,_){if(!h)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(q,A),h.apply(y,q)}}return function(){return h.apply(y,arguments)}}function S(h,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:T,S.apply(null,arguments)}function M(h,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),h.apply(this,A)}}function N(h,y){function _(){}_.prototype=y.prototype,h.aa=y.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(A,q,Z){for(var me=Array(arguments.length-2),Xe=2;Xe<arguments.length;Xe++)me[Xe-2]=arguments[Xe];return y.prototype[q].apply(A,me)}}function B(h){const y=h.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=h[A];return _}return[]}function k(h,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const q=h.length||0,Z=A.length||0;h.length=q+Z;for(let me=0;me<Z;me++)h[q+me]=A[me]}else h.push(A)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function X(h){return/^[\s\xa0]*$/.test(h)}function K(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function de(h){return de[" "](h),h}de[" "]=function(){};var le=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function be(h,y,_){for(const A in h)y.call(_,h[A],A,h)}function V(h,y){for(const _ in h)y.call(void 0,h[_],_,h)}function C(h){const y={};for(const _ in h)y[_]=h[_];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(h,y){let _,A;for(let q=1;q<arguments.length;q++){A=arguments[q];for(_ in A)h[_]=A[_];for(let Z=0;Z<I.length;Z++)_=I[Z],Object.prototype.hasOwnProperty.call(A,_)&&(h[_]=A[_])}}function O(h){var y=1;h=h.split(":");const _=[];for(;0<y&&h.length;)_.push(h.shift()),y--;return h.length&&_.push(h.join(":")),_}function P(h){d.setTimeout(()=>{throw h},0)}function R(){var h=Ge;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class Ae{constructor(){this.h=this.g=null}add(y,_){const A=je.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var je=new G(()=>new J,h=>h.reset());class J{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,_e=!1,Ge=new Ae,L=()=>{const h=d.Promise.resolve(void 0);fe=()=>{h.then(oe)}};var oe=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(_){P(_)}var y=je;y.j(h),100>y.h&&(y.h++,h.next=y.g,y.g=h)}_e=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,y),d.removeEventListener("test",_,y)}catch{}return h}();function ze(h,y){if(he.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,A=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget){if(le){e:{try{de(y.nodeName);var q=!0;break e}catch{}q=!1}q||(y=null)}}else _=="mouseover"?y=h.fromElement:_=="mouseout"&&(y=h.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Oe[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&ze.aa.h.call(this)}}N(ze,he);var Oe={2:"touch",3:"pen",4:"mouse"};ze.prototype.h=function(){ze.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var St="closure_listenable_"+(1e6*Math.random()|0),at=0;function wn(h,y,_,A,q){this.listener=h,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=q,this.key=++at,this.da=this.fa=!1}function ir(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function In(h){this.src=h,this.g={},this.h=0}In.prototype.add=function(h,y,_,A,q){var Z=h.toString();h=this.g[Z],h||(h=this.g[Z]=[],this.h++);var me=Yr(h,y,A,q);return-1<me?(y=h[me],_||(y.fa=!1)):(y=new wn(y,this.src,Z,!!A,q),y.fa=_,h.push(y)),y};function vr(h,y){var _=y.type;if(_ in h.g){var A=h.g[_],q=Array.prototype.indexOf.call(A,y,void 0),Z;(Z=0<=q)&&Array.prototype.splice.call(A,q,1),Z&&(ir(y),h.g[_].length==0&&(delete h.g[_],h.h--))}}function Yr(h,y,_,A){for(var q=0;q<h.length;++q){var Z=h[q];if(!Z.da&&Z.listener==y&&Z.capture==!!_&&Z.ha==A)return q}return-1}var _r="closure_lm_"+(1e6*Math.random()|0),Ps={};function Us(h,y,_,A,q){if(Array.isArray(y)){for(var Z=0;Z<y.length;Z++)Us(h,y[Z],_,A,q);return null}return _=ye(_),h&&h[St]?h.K(y,_,g(A)?!!A.capture:!1,q):gn(h,y,_,!1,A,q)}function gn(h,y,_,A,q,Z){if(!y)throw Error("Invalid event type");var me=g(q)?!!q.capture:!!q,Xe=Q(h);if(Xe||(h[_r]=Xe=new In(h)),_=Xe.add(y,_,A,me,Z),_.proxy)return _;if(A=tl(),_.proxy=A,A.src=h,A.listener=_,h.addEventListener)Se||(q=me),q===void 0&&(q=!1),h.addEventListener(y.toString(),A,q);else if(h.attachEvent)h.attachEvent(Er(y.toString()),A);else if(h.addListener&&h.removeListener)h.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tl(){function h(_){return y.call(h.src,h.listener,_)}const y=U;return h}function Ls(h,y,_,A,q){if(Array.isArray(y))for(var Z=0;Z<y.length;Z++)Ls(h,y[Z],_,A,q);else A=g(A)?!!A.capture:!!A,_=ye(_),h&&h[St]?(h=h.i,y=String(y).toString(),y in h.g&&(Z=h.g[y],_=Yr(Z,_,A,q),-1<_&&(ir(Z[_]),Array.prototype.splice.call(Z,_,1),Z.length==0&&(delete h.g[y],h.h--)))):h&&(h=Q(h))&&(y=h.g[y.toString()],h=-1,y&&(h=Yr(y,_,A,q)),(_=-1<h?y[h]:null)&&js(_))}function js(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[St])vr(y.i,h);else{var _=h.type,A=h.proxy;y.removeEventListener?y.removeEventListener(_,A,h.capture):y.detachEvent?y.detachEvent(Er(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=Q(y))?(vr(_,h),_.h==0&&(_.src=null,y[_r]=null)):ir(h)}}}function Er(h){return h in Ps?Ps[h]:Ps[h]="on"+h}function U(h,y){if(h.da)h=!0;else{y=new ze(y,this);var _=h.listener,A=h.ha||h.src;h.fa&&js(h),h=_.call(A,y)}return h}function Q(h){return h=h[_r],h instanceof In?h:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(h){return typeof h=="function"?h:(h[te]||(h[te]=function(y){return h.handleEvent(y)}),h[te])}function ue(){pe.call(this),this.i=new In(this),this.M=this,this.F=null}N(ue,pe),ue.prototype[St]=!0,ue.prototype.removeEventListener=function(h,y,_,A){Ls(this,h,y,_,A)};function ie(h,y){var _,A=h.F;if(A)for(_=[];A;A=A.F)_.push(A);if(h=h.M,A=y.type||y,typeof y=="string")y=new he(y,h);else if(y instanceof he)y.target=y.target||h;else{var q=y;y=new he(A,h),x(y,q)}if(q=!0,_)for(var Z=_.length-1;0<=Z;Z--){var me=y.g=_[Z];q=ge(me,A,!0,y)&&q}if(me=y.g=h,q=ge(me,A,!0,y)&&q,q=ge(me,A,!1,y)&&q,_)for(Z=0;Z<_.length;Z++)me=y.g=_[Z],q=ge(me,A,!1,y)&&q}ue.prototype.N=function(){if(ue.aa.N.call(this),this.i){var h=this.i,y;for(y in h.g){for(var _=h.g[y],A=0;A<_.length;A++)ir(_[A]);delete h.g[y],h.h--}}this.F=null},ue.prototype.K=function(h,y,_,A){return this.i.add(String(h),y,!1,_,A)},ue.prototype.L=function(h,y,_,A){return this.i.add(String(h),y,!0,_,A)};function ge(h,y,_,A){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();for(var q=!0,Z=0;Z<y.length;++Z){var me=y[Z];if(me&&!me.da&&me.capture==_){var Xe=me.listener,Lt=me.ha||me.src;me.fa&&vr(h.i,me),q=Xe.call(Lt,A)!==!1&&q}}return q&&!A.defaultPrevented}function Ie(h,y,_){if(typeof h=="function")_&&(h=S(h,_));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(h,y||0)}function dt(h){h.g=Ie(()=>{h.g=null,h.i&&(h.i=!1,dt(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class It extends pe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:dt(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(h){pe.call(this),this.h=h,this.g={}}N(Xr,pe);var sr=[];function ar(h){be(h.g,function(y,_){this.g.hasOwnProperty(_)&&js(y)},h),h.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),ar(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=d.JSON.stringify,Wr=d.JSON.parse,Zr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function zi(){}zi.prototype.h=null;function nl(h){return h.h||(h.h=h.i())}function rl(){}var Jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ei(){he.call(this,"d")}N(ei,he);function il(){he.call(this,"c")}N(il,he);var br={},sl=null;function Bi(){return sl=sl||new ue}br.La="serverreachability";function Ua(h){he.call(this,br.La,h)}N(Ua,he);function Fi(h){const y=Bi();ie(y,new Ua(y))}br.STAT_EVENT="statevent";function ic(h,y){he.call(this,br.STAT_EVENT,h),this.stat=y}N(ic,he);function pt(h){const y=Bi();ie(y,new ic(y,h))}br.Ma="timingevent";function Ut(h,y){he.call(this,br.Ma,h),this.size=y}N(Ut,he);function Dt(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},y)}function Fn(){this.g=!0}Fn.prototype.xa=function(){this.g=!1};function al(h,y,_,A,q,Z){h.info(function(){if(h.g)if(Z)for(var me="",Xe=Z.split("&"),Lt=0;Lt<Xe.length;Lt++){var We=Xe[Lt].split("=");if(1<We.length){var Kt=We[0];We=We[1];var jt=Kt.split("_");me=2<=jt.length&&jt[1]=="type"?me+(Kt+"="+We+"&"):me+(Kt+"=redacted&")}}else me=null;else me=Z;return"XMLHTTP REQ ("+A+") [attempt "+q+"]: "+y+`
`+_+`
`+me})}function Jf(h,y,_,A,q,Z,me){h.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+q+"]: "+y+`
`+_+`
`+Z+" "+me})}function qi(h,y,_,A){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+zs(h,_)+(A?" "+A:"")})}function sc(h,y){h.info(function(){return"TIMEOUT: "+y})}Fn.prototype.info=function(){};function zs(h,y){if(!h.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var A=_[h];if(!(2>A.length)){var q=A[1];if(Array.isArray(q)&&!(1>q.length)){var Z=q[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(var me=1;me<q.length;me++)q[me]=""}}}}return Dn(_)}catch{return y}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ti={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tr;function wr(){}N(wr,zi),wr.prototype.g=function(){return new XMLHttpRequest},wr.prototype.i=function(){return{}},Tr=new wr;function yn(h,y,_,A){this.j=h,this.i=y,this.l=_,this.R=A||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var ol={},La={};function or(h,y,_){h.L=1,h.v=Gs(On(y)),h.m=_,h.P=!0,ni(h,null)}function ni(h,y){h.F=Date.now(),Bs(h),h.A=On(h.v);var _=h.A,A=h.R;Array.isArray(A)||(A=[String(A)]),dl(_.i,"t",A),h.C=0,_=h.j.J,h.h=new At,h.g=bc(h.j,_?y:null,!h.m),0<h.O&&(h.M=new It(S(h.Y,h,h.g),h.O)),y=h.U,_=h.g,A=h.ca;var q="readystatechange";Array.isArray(q)||(q&&(sr[0]=q.toString()),q=sr);for(var Z=0;Z<q.length;Z++){var me=Us(_,q[Z],A||y.handleEvent,!1,y.h||y);if(!me)break;y.g[me.key]=me}y=h.H?C(h.H):{},h.m?(h.u||(h.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,y)):(h.u="GET",h.g.ea(h.A,h.u,null,y)),Fi(),al(h.i,h.u,h.A,h.l,h.R,h.m)}yn.prototype.ca=function(h){h=h.target;const y=this.M;y&&$n(h)==3?y.j():this.Y(h)},yn.prototype.Y=function(h){try{if(h==this.g)e:{const jt=$n(this.g);var y=this.g.Ba();const ci=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||dc(this.g)))){this.J||jt!=4||y==7||(y==8||0>=ci?Fi(3):Fi(2)),Gi(this);var _=this.g.Z();this.X=_;t:if(ac(this)){var A=dc(this.g);h="";var q=A.length,Z=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zt(this),Sr(this);var me="";break t}this.h.i=new d.TextDecoder}for(y=0;y<q;y++)this.h.h=!0,h+=this.h.i.decode(A[y],{stream:!(Z&&y==q-1)});A.length=0,this.h.g+=h,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=_==200,Jf(this.i,this.u,this.A,this.l,this.R,jt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Xe,Lt=this.g;if((Xe=Lt.g?Lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(Xe)){var We=Xe;break t}}We=null}if(_=We)qi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fs(this,_);else{this.o=!1,this.s=3,pt(12),Zt(this),Sr(this);break e}}if(this.P){_=!0;let Jt;for(;!this.J&&this.C<me.length;)if(Jt=oc(this,me),Jt==La){jt==4&&(this.s=4,pt(14),_=!1),qi(this.i,this.l,null,"[Incomplete Response]");break}else if(Jt==ol){this.s=4,pt(15),qi(this.i,this.l,me,"[Invalid Chunk]"),_=!1;break}else qi(this.i,this.l,Jt,null),Fs(this,Jt);if(ac(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||me.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)qi(this.i,this.l,me,"[Invalid Chunked Response]"),Zt(this),Sr(this);else if(0<me.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),Js(Kt),Kt.M=!0,pt(11))}}else qi(this.i,this.l,me,null),Fs(this,me);jt==4&&Zt(this),this.o&&!this.J&&(jt==4?vc(this.j,this):(this.o=!1,Bs(this)))}else id(this.g),_==400&&0<me.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Zt(this),Sr(this)}}}catch{}finally{}};function ac(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function oc(h,y){var _=h.C,A=y.indexOf(`
`,_);return A==-1?La:(_=Number(y.substring(_,A)),isNaN(_)?ol:(A+=1,A+_>y.length?La:(y=y.slice(A,A+_),h.C=A+_,y)))}yn.prototype.cancel=function(){this.J=!0,Zt(this)};function Bs(h){h.S=Date.now()+h.I,lc(h,h.I)}function lc(h,y){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Dt(S(h.ba,h),y)}function Gi(h){h.B&&(d.clearTimeout(h.B),h.B=null)}yn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(sc(this.i,this.A),this.L!=2&&(Fi(),pt(17)),Zt(this),this.s=2,Sr(this)):lc(this,this.S-h)};function Sr(h){h.j.G==0||h.J||vc(h.j,h)}function Zt(h){Gi(h);var y=h.M;y&&typeof y.ma=="function"&&y.ma(),h.M=null,ar(h.U),h.g&&(y=h.g,h.g=null,y.abort(),y.ma())}function Fs(h,y){try{var _=h.j;if(_.G!=0&&(_.g==h||ll(_.h,h))){if(!h.K&&ll(_.h,h)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var q=A;if(q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Xa(_),Qa(_);else break e;vl(_),pt(18)}}else _.za=q[1],0<_.za-_.T&&37500>q[2]&&_.F&&_.v==0&&!_.C&&(_.C=Dt(S(_.Za,_),6e3));if(1>=za(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else ui(_,11)}else if((h.K||_.g==h)&&Xa(_),!X(y))for(q=_.Da.g.parse(y),y=0;y<q.length;y++){let We=q[y];if(_.T=We[0],We=We[1],_.G==2)if(We[0]=="c"){_.K=We[1],_.ia=We[2];const Kt=We[3];Kt!=null&&(_.la=Kt,_.j.info("VER="+_.la));const jt=We[4];jt!=null&&(_.Aa=jt,_.j.info("SVER="+_.Aa));const ci=We[5];ci!=null&&typeof ci=="number"&&0<ci&&(A=1.5*ci,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Jt=h.g;if(Jt){const Dr=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Dr){var Z=A.h;Z.g||Dr.indexOf("spdy")==-1&&Dr.indexOf("quic")==-1&&Dr.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(Ba(Z,Z.h),Z.h=null))}if(A.D){const El=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(A.ya=El,ot(A.I,A.D,El))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var me=h;if(A.qa=Ec(A,A.J?A.ia:null,A.W),me.K){vn(A.h,me);var Xe=me,Lt=A.L;Lt&&(Xe.I=Lt),Xe.B&&(Gi(Xe),Bs(Xe)),A.g=me}else gc(A);0<_.i.length&&Ya(_)}else We[0]!="stop"&&We[0]!="close"||ui(_,7);else _.G==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?ui(_,7):gl(_):We[0]!="noop"&&_.l&&_.l.ta(We),_.v=0)}}Fi(4)}catch{}}var uc=class{constructor(h,y){this.g=h,this.map=y}};function ri(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function za(h){return h.h?1:h.g?h.g.size:0}function ll(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Ba(h,y){h.g?h.g.add(y):h.h=y}function vn(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}ri.prototype.cancel=function(){if(this.i=ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function ul(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const _ of h.g.values())y=y.concat(_.D);return y}return B(h.i)}function ed(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var y=[],_=h.length,A=0;A<_;A++)y.push(h[A]);return y}y=[],_=0;for(A in h)y[_++]=h[A];return y}function Fa(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var y=[];h=h.length;for(var _=0;_<h;_++)y.push(_);return y}y=[],_=0;for(const A in h)y[_++]=A;return y}}}function cl(h,y){if(h.forEach&&typeof h.forEach=="function")h.forEach(y,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,y,void 0);else for(var _=Fa(h),A=ed(h),q=A.length,Z=0;Z<q;Z++)y.call(void 0,A[Z],_&&_[Z],h)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function td(h,y){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var A=h[_].indexOf("="),q=null;if(0<=A){var Z=h[_].substring(0,A);q=h[_].substring(A+1)}else Z=h[_];y(Z,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Ot(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Ot){this.h=h.h,Hs(this,h.j),this.o=h.o,this.g=h.g,$i(this,h.s),this.l=h.l;var y=h.i,_=new si;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),ii(this,_),this.m=h.m}else h&&(y=String(h).match(qs))?(this.h=!1,Hs(this,y[1]||"",!0),this.o=qn(y[2]||""),this.g=qn(y[3]||"",!0),$i(this,y[4]),this.l=qn(y[5]||"",!0),ii(this,y[6]||"",!0),this.m=qn(y[7]||"")):(this.h=!1,this.i=new si(null,this.h))}Ot.prototype.toString=function(){var h=[],y=this.j;y&&h.push($s(y,hl,!0),":");var _=this.g;return(_||y=="file")&&(h.push("//"),(y=this.o)&&h.push($s(y,hl,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push($s(_,_.charAt(0)=="/"?nd:fl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",$s(_,qa)),h.join("")};function On(h){return new Ot(h)}function Hs(h,y,_){h.j=_?qn(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function $i(h,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);h.s=y}else h.s=null}function ii(h,y,_){y instanceof si?(h.i=y,hc(h.i,h.h)):(_||(y=$s(y,rd)),h.i=new si(y,h.h))}function ot(h,y,_){h.i.set(y,_)}function Gs(h){return ot(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function qn(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function $s(h,y,_){return typeof h=="string"?(h=encodeURI(h).replace(y,cc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function cc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var hl=/[#\/\?@]/g,fl=/[#\?:]/g,nd=/[#\?]/g,rd=/[#\?@]/g,qa=/#/g;function si(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function Hn(h){h.g||(h.g=new Map,h.h=0,h.i&&td(h.i,function(y,_){h.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}n=si.prototype,n.add=function(h,y){Hn(this),this.i=null,h=Ar(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(y),this.h+=1,this};function ai(h,y){Hn(h),y=Ar(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function oi(h,y){return Hn(h),y=Ar(h,y),h.g.has(y)}n.forEach=function(h,y){Hn(this),this.g.forEach(function(_,A){_.forEach(function(q){h.call(y,q,A,this)},this)},this)},n.na=function(){Hn(this);const h=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const q=h[A];for(let Z=0;Z<q.length;Z++)_.push(y[A])}return _},n.V=function(h){Hn(this);let y=[];if(typeof h=="string")oi(this,h)&&(y=y.concat(this.g.get(Ar(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)y=y.concat(h[_])}return y},n.set=function(h,y){return Hn(this),this.i=null,h=Ar(this,h),oi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},n.get=function(h,y){return h?(h=this.V(h),0<h.length?String(h[0]):y):y};function dl(h,y,_){ai(h,y),0<_.length&&(h.i=null,h.g.set(Ar(h,y),B(_)),h.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Z=encodeURIComponent(String(A)),me=this.V(A);for(A=0;A<me.length;A++){var q=Z;me[A]!==""&&(q+="="+encodeURIComponent(String(me[A]))),h.push(q)}}return this.i=h.join("&")};function Ar(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function hc(h,y){y&&!h.j&&(Hn(h),h.i=null,h.g.forEach(function(_,A){var q=A.toLowerCase();A!=q&&(ai(this,A),dl(this,q,_))},h)),h.j=y}function Ks(h,y){const _=new Fn;if(d.Image){const A=new Image;A.onload=M(Gn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=M(Gn,_,"TestLoadImage: error",!1,y,A),A.onabort=M(Gn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=M(Gn,_,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=h}else y(!1)}function lr(h,y){const _=new Fn,A=new AbortController,q=setTimeout(()=>{A.abort(),Gn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:A.signal}).then(Z=>{clearTimeout(q),Z.ok?Gn(_,"TestPingServer: ok",!0,y):Gn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(q),Gn(_,"TestPingServer: error",!1,y)})}function Gn(h,y,_,A,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),A(_)}catch{}}function Qs(){this.g=new Zr}function xr(h,y,_){const A=_||"";try{cl(h,function(q,Z){let me=q;g(q)&&(me=Dn(q)),y.push(A+Z+"="+encodeURIComponent(me))})}catch(q){throw y.push(A+"type="+encodeURIComponent("_badmap")),q}}function Ki(h){this.l=h.Ub||null,this.j=h.eb||!1}N(Ki,zi),Ki.prototype.g=function(){return new li(this.l,this.j)},Ki.prototype.i=function(h){return function(){return h}}({});function li(h,y){ue.call(this),this.D=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}N(li,ue),n=li.prototype,n.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=y,this.readyState=1,Cr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(y.body=h),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Rr(this):Cr(this),this.readyState==3&&ml(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Rr(this))},n.Qa=function(h){this.g&&(this.response=h,Rr(this))},n.ga=function(){this.g&&Rr(this)};function Rr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Cr(h)}n.setRequestHeader=function(h,y){this.u.append(h,y)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=y.next();return h.join(`\r
`)};function Cr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function pl(h){let y="";return be(h,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function $t(h,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=pl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):ot(h,y,_))}function nt(h){ue.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}N(nt,ue);var Ha=/^https?$/i,Ys=["POST","PUT"];n=nt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tr.g(),this.v=this.o?nl(this.o):nl(Tr),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(Z){fc(this,Z);return}if(h=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var q in A)_.set(q,A[q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Z of A.keys())_.set(Z,A.get(Z));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Z=>Z.toLowerCase()=="content-type"),q=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ys,y,void 0))||A||q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,me]of _)this.g.setRequestHeader(Z,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(h),this.u=!1}catch(Z){fc(this,Z)}};function fc(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.m=5,Ga(h),Nr(h)}function Ga(h){h.A||(h.A=!0,ie(h,"complete"),ie(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ie(this,"complete"),ie(this,"abort"),Nr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Nr(this,!0)),nt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},n.bb=function(){$a(this)};function $a(h){if(h.h&&typeof c<"u"&&(!h.v[1]||$n(h)!=4||h.Z()!=2)){if(h.u&&$n(h)==4)Ie(h.Ea,0,h);else if(ie(h,"readystatechange"),$n(h)==4){h.h=!1;try{const me=h.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=me===0){var q=String(h.D).match(qs)[1]||null;!q&&d.self&&d.self.location&&(q=d.self.location.protocol.slice(0,-1)),A=!Ha.test(q?q.toLowerCase():"")}_=A}if(_)ie(h,"complete"),ie(h,"success");else{h.m=6;try{var Z=2<$n(h)?h.g.statusText:""}catch{Z=""}h.l=Z+" ["+h.Z()+"]",Ga(h)}}finally{Nr(h)}}}}function Nr(h,y){if(h.g){Xs(h);const _=h.g,A=h.v[0]?()=>{}:null;h.g=null,h.v=null,y||ie(h,"ready");try{_.onreadystatechange=A}catch{}}}function Xs(h){h.I&&(d.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function $n(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Wr(y)}};function dc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function id(h){const y={};h=(h.g&&2<=$n(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<h.length;A++){if(X(h[A]))continue;var _=O(h[A]);const q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Z=y[q]||[];y[q]=Z,Z.push(_)}V(y,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ws(h,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||y}function Ka(h){this.Aa=0,this.i=[],this.j=new Fn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ws("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ws("baseRetryDelayMs",5e3,h),this.cb=Ws("retryDelaySeedMs",1e4,h),this.Wa=Ws("forwardChannelMaxRetries",2,h),this.wa=Ws("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new ri(h&&h.concurrentRequestLimit),this.Da=new Qs,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ka.prototype,n.la=8,n.G=1,n.connect=function(h,y,_,A){pt(0),this.W=h,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Ec(this,null,this.W),Ya(this)};function gl(h){if(mc(h),h.G==3){var y=h.U++,_=On(h.I);if(ot(_,"SID",h.K),ot(_,"RID",y),ot(_,"TYPE","terminate"),Zs(h,_),y=new yn(h,h.j,y),y.L=2,y.v=Gs(On(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=y.v,_=!0),_||(y.g=bc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Bs(y)}_c(h)}function Qa(h){h.g&&(Js(h),h.g.cancel(),h.g=null)}function mc(h){Qa(h),h.u&&(d.clearTimeout(h.u),h.u=null),Xa(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ya(h){if(!ja(h.h)&&!h.s){h.s=!0;var y=h.Ga;fe||L(),_e||(fe(),_e=!0),Ge.add(y,h),h.B=0}}function sd(h,y){return za(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=y.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Dt(S(h.Ga,h,y),_l(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const q=new yn(this,this.j,h);let Z=this.o;if(this.S&&(Z?(Z=C(Z),x(Z,this.S)):Z=this.S),this.m!==null||this.O||(q.H=Z,Z=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=pc(this,q,y),_=On(this.I),ot(_,"RID",h),ot(_,"CVER",22),this.D&&ot(_,"X-HTTP-Session-Id",this.D),Zs(this,_),Z&&(this.O?y="headers="+encodeURIComponent(String(pl(Z)))+"&"+y:this.m&&$t(_,this.m,Z)),Ba(this.h,q),this.Ua&&ot(_,"TYPE","init"),this.P?(ot(_,"$req",y),ot(_,"SID","null"),q.T=!0,or(q,_,null)):or(q,_,y),this.G=2}}else this.G==3&&(h?yl(this,h):this.i.length==0||ja(this.h)||yl(this))};function yl(h,y){var _;y?_=y.l:_=h.U++;const A=On(h.I);ot(A,"SID",h.K),ot(A,"RID",_),ot(A,"AID",h.T),Zs(h,A),h.m&&h.o&&$t(A,h.m,h.o),_=new yn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),y&&(h.i=y.D.concat(h.i)),y=pc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Ba(h.h,_),or(_,A,y)}function Zs(h,y){h.H&&be(h.H,function(_,A){ot(y,A,_)}),h.l&&cl({},function(_,A){ot(y,A,_)})}function pc(h,y,_){_=Math.min(h.i.length,_);var A=h.l?S(h.l.Na,h.l,h):null;e:{var q=h.i;let Z=-1;for(;;){const me=["count="+_];Z==-1?0<_?(Z=q[0].g,me.push("ofs="+Z)):Z=0:me.push("ofs="+Z);let Xe=!0;for(let Lt=0;Lt<_;Lt++){let We=q[Lt].g;const Kt=q[Lt].map;if(We-=Z,0>We)Z=Math.max(0,q[Lt].g-100),Xe=!1;else try{xr(Kt,me,"req"+We+"_")}catch{A&&A(Kt)}}if(Xe){A=me.join("&");break e}}}return h=h.i.splice(0,_),y.D=h,A}function gc(h){if(!h.g&&!h.u){h.Y=1;var y=h.Fa;fe||L(),_e||(fe(),_e=!0),Ge.add(y,h),h.v=0}}function vl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Dt(S(h.Fa,h),_l(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,yc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Dt(S(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Qa(this),yc(this))};function Js(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function yc(h){h.g=new yn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var y=On(h.qa);ot(y,"RID","rpc"),ot(y,"SID",h.K),ot(y,"AID",h.T),ot(y,"CI",h.F?"0":"1"),!h.F&&h.ja&&ot(y,"TO",h.ja),ot(y,"TYPE","xmlhttp"),Zs(h,y),h.m&&h.o&&$t(y,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=Gs(On(y)),_.m=null,_.P=!0,ni(_,h)}n.Za=function(){this.C!=null&&(this.C=null,Qa(this),vl(this),pt(19))};function Xa(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function vc(h,y){var _=null;if(h.g==y){Xa(h),Js(h),h.g=null;var A=2}else if(ll(h.h,y))_=y.D,vn(h.h,y),A=1;else return;if(h.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var q=h.B;A=Bi(),ie(A,new Ut(A,_)),Ya(h)}else gc(h);else if(q=y.s,q==3||q==0&&0<y.X||!(A==1&&sd(h,y)||A==2&&vl(h)))switch(_&&0<_.length&&(y=h.h,y.i=y.i.concat(_)),q){case 1:ui(h,5);break;case 4:ui(h,10);break;case 3:ui(h,6);break;default:ui(h,2)}}}function _l(h,y){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*y}function ui(h,y){if(h.j.info("Error code "+y),y==2){var _=S(h.fb,h),A=h.Xa;const q=!A;A=new Ot(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Hs(A,"https"),Gs(A),q?Ks(A.toString(),_):lr(A.toString(),_)}else pt(2);h.G=0,h.l&&h.l.sa(y),_c(h),mc(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function _c(h){if(h.G=0,h.ka=[],h.l){const y=ul(h.h);(y.length!=0||h.i.length!=0)&&(k(h.ka,y),k(h.ka,h.i),h.h.i.length=0,B(h.i),h.i.length=0),h.l.ra()}}function Ec(h,y,_){var A=_ instanceof Ot?On(_):new Ot(_);if(A.g!="")y&&(A.g=y+"."+A.g),$i(A,A.s);else{var q=d.location;A=q.protocol,y=y?y+"."+q.hostname:q.hostname,q=+q.port;var Z=new Ot(null);A&&Hs(Z,A),y&&(Z.g=y),q&&$i(Z,q),_&&(Z.l=_),A=Z}return _=h.D,y=h.ya,_&&y&&ot(A,_,y),ot(A,"VER",h.la),Zs(h,A),A}function bc(h,y,_){if(y&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Ca&&!h.pa?new nt(new Ki({eb:_})):new nt(h.pa),y.Ha(h.J),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tc(){}n=Tc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Wa(){}Wa.prototype.g=function(h,y){return new _n(h,y)};function _n(h,y){ue.call(this),this.g=new Ka(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(h?h["X-WebChannel-Client-Profile"]=y.va:h={"X-WebChannel-Client-Profile":y.va}),this.g.S=h,(h=y&&y.Sb)&&!X(h)&&(this.g.m=h),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!X(y)&&(this.g.D=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new Ir(this)}N(_n,ue),_n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_n.prototype.close=function(){gl(this.g)},_n.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=Dn(h),h=_);y.i.push(new uc(y.Ya++,h)),y.G==3&&Ya(y)},_n.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,_n.aa.N.call(this)};function wc(h){ei.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const _ in y){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}N(wc,ei);function Sc(){il.call(this),this.status=1}N(Sc,il);function Ir(h){this.g=h}N(Ir,Tc),Ir.prototype.ua=function(){ie(this.g,"a")},Ir.prototype.ta=function(h){ie(this.g,new wc(h))},Ir.prototype.sa=function(h){ie(this.g,new Sc)},Ir.prototype.ra=function(){ie(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,_n.prototype.send=_n.prototype.o,_n.prototype.open=_n.prototype.m,_n.prototype.close=_n.prototype.close,WT=function(){return new Wa},XT=function(){return Bi()},YT=br,Ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,jh=Hi,ti.COMPLETE="complete",QT=ti,rl.EventType=Jr,Jr.OPEN="a",Jr.CLOSE="b",Jr.ERROR="c",Jr.MESSAGE="d",ue.prototype.listen=ue.prototype.K,gu=rl,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,KT=nt}).apply(typeof Rh<"u"?Rh:typeof self<"u"?self:typeof window<"u"?window:{});const aE="@firebase/firestore",oE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fn.UNAUTHENTICATED=new fn(null),fn.GOOGLE_CREDENTIALS=new fn("google-credentials-uid"),fn.FIRST_PARTY=new fn("first-party-uid"),fn.MOCK_USER=new fn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra=new lg("@firebase/firestore");function Co(){return Ra.logLevel}function ve(n,...e){if(Ra.logLevel<=Qe.DEBUG){const t=e.map(Eg);Ra.debug(`Firestore (${Yo}): ${n}`,...t)}}function Vi(n,...e){if(Ra.logLevel<=Qe.ERROR){const t=e.map(Eg);Ra.error(`Firestore (${Yo}): ${n}`,...t)}}function Lo(n,...e){if(Ra.logLevel<=Qe.WARN){const t=e.map(Eg);Ra.warn(`Firestore (${Yo}): ${n}`,...t)}}function Eg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ke(n="Unexpected state"){const e=`FIRESTORE (${Yo}) INTERNAL ASSERTION FAILED: `+n;throw Vi(e),new Error(e)}function rt(n,e){n||ke()}function Ue(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ce={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends ji{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fn.UNAUTHENTICATED))}shutdown(){}}class oI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lI{constructor(e){this.t=e,this.currentUser=fn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){rt(this.o===void 0);let s=this.i;const a=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new ba;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ba,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ba)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(rt(typeof s.accessToken=="string"),new ZT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new fn(e)}}class uI{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=fn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cI{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new uI(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(fn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hI{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,tr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){rt(this.o===void 0);const s=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new lE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(rt(typeof t.token=="string"),this.R=t.token,new lE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const a=fI(40);for(let l=0;l<a.length;++l)s.length<20&&a[l]<t&&(s+=e.charAt(a[l]%62))}return s}}function qe(n,e){return n<e?-1:n>e?1:0}function Dp(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),a=e.codePointAt(t);if(s!==a){if(s<128&&a<128)return qe(s,a);{const l=JT(),c=dI(l.encode(uE(n,t)),l.encode(uE(e,t)));return c!==0?c:qe(s,a)}}t+=s>65535?2:1}return qe(n.length,e.length)}function uE(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function dI(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return qe(n[t],e[t]);return qe(n.length,e.length)}function jo(n,e,t){return n.length===e.length&&n.every((s,a)=>t(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=-62135596800,hE=1e6;class Ht{static now(){return Ht.fromMillis(Date.now())}static fromDate(e){return Ht.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*hE);return new Ht(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xe(ce.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cE)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(ce.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hE}_compareTo(e){return this.seconds===e.seconds?qe(this.nanoseconds,e.nanoseconds):qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new Ht(0,0))}static max(){return new Ve(new Ht(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="__name__";class Lr{constructor(e,t,s){t===void 0?t=0:t>e.length&&ke(),s===void 0?s=e.length-t:s>e.length-t&&ke(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Lr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Lr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let a=0;a<s;a++){const l=Lr.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return qe(e.length,t.length)}static compareSegments(e,t){const s=Lr.isNumericId(e),a=Lr.isNumericId(t);return s&&!a?-1:!s&&a?1:s&&a?Lr.extractNumericId(e).compare(Lr.extractNumericId(t)):Dp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class yt extends Lr{construct(e,t,s){return new yt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new xe(ce.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(a=>a.length>0))}return new yt(t)}static emptyPath(){return new yt([])}}const mI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Lr{construct(e,t,s){return new an(e,t,s)}static isValidIdentifier(e){return mI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fE}static keyField(){return new an([fE])}static fromServerFormat(e){const t=[];let s="",a=0;const l=()=>{if(s.length===0)throw new xe(ce.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new xe(ce.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new xe(ce.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(s+=d,a++):(l(),a++)}if(l(),c)throw new xe(ce.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(t)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(yt.fromString(e))}static fromName(e){return new Re(yt.fromString(e).popFirst(5))}static empty(){return new Re(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu=-1;function pI(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,a=Ve.fromTimestamp(s===1e9?new Ht(t+1,0):new Ht(t,s));return new Rs(a,Re.empty(),e)}function gI(n){return new Rs(n.readTime,n.key,Mu)}class Rs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Rs(Ve.min(),Re.empty(),Mu)}static max(){return new Rs(Ve.max(),Re.empty(),Mu)}}function yI(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Re.comparator(n.documentKey,e.documentKey),t!==0?t:qe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _I{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xo(n){if(n.code!==ce.FAILED_PRECONDITION||n.message!==vI)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ke(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((s,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,s)=>{t(e)})}static reject(e){return new ae((t,s)=>{s(e)})}static waitFor(e){return new ae((t,s)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>s(p))}),c=!0,l===a&&t()})}static or(e){let t=ae.resolve(!1);for(const s of e)t=t.next(a=>a?ae.resolve(a):s());return t}static forEach(e,t){const s=[];return e.forEach((a,l)=>{s.push(t.call(this,a,l))}),this.waitFor(s)}static mapArray(e,t){return new ae((s,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next(v=>{c[g]=v,++d,d===l&&s(c)},v=>a(v))}})}static doWhile(e,t){return new ae((s,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):s()};l()})}}function EI(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Wo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.oe(s),this._e=s=>t.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}If.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=-1;function Df(n){return n==null}function af(n){return n===0&&1/n==-1/0}function bI(n){return typeof n=="number"&&Number.isInteger(n)&&!af(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="";function TI(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=dE(e)),e=wI(n.get(t),e);return dE(e)}function wI(n,e){let t=e;const s=n.length;for(let a=0;a<s;a++){const l=n.charAt(a);switch(l){case"\0":t+="";break;case tw:t+="";break;default:t+=l}}return t}function dE(n){return n+tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Oa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return t+s.left.size;a<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ch(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ch(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ch(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ch(this.root,e,this.comparator,!0)}}class Ch{constructor(e,t,s,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,s,a,l){this.key=e,this.value=t,this.color=s??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,a,l){return new rn(e??this.key,t??this.value,s??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let a=this;const l=s(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,s),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ke();const e=this.left.check();if(e!==this.right.check())throw ke();return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw ke()}get value(){throw ke()}get color(){throw ke()}get left(){throw ke()}get right(){throw ke()}copy(e,t,s,a,l){return this}insert(e,t,s){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new pE(this.data.getIterator())}getIteratorFrom(e){return new pE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Gt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gt(this.comparator);return t.data=e,t}}class pE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new pr([])}unionWith(e){let t=new Gt(an.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new pr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rw("Invalid base64 string: "+l):l}}(e);return new on(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new on(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let a=0;a<t.length;a++)s[a]=t.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}on.EMPTY_BYTE_STRING=new on("");const SI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(rt(!!n),typeof n=="string"){let e=0;const t=SI.exec(n);if(rt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(n.seconds),nanos:Ct(n.nanos)}}function Ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ns(n){return typeof n=="string"?on.fromBase64String(n):on.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="server_timestamp",sw="__type__",aw="__previous_value__",ow="__local_write_time__";function Tg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[sw])===null||t===void 0?void 0:t.stringValue)===iw}function Of(n){const e=n.mapValue.fields[aw];return Tg(e)?Of(e):e}function ku(n){const e=Cs(n.mapValue.fields[ow].timestampValue);return new Ht(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,t,s,a,l,c,d,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const of="(default)";class Vu{constructor(e,t){this.projectId=e,this.database=t||of}static empty(){return new Vu("","")}get isDefaultDatabase(){return this.database===of}isEqual(e){return e instanceof Vu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="__type__",xI="__max__",Nh={mapValue:{}},uw="__vector__",lf="value";function Is(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tg(n)?4:CI(n)?9007199254740991:RI(n)?10:11:ke()}function $r(n,e){if(n===e)return!0;const t=Is(n);if(t!==Is(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ku(n).isEqual(ku(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Cs(a.timestampValue),d=Cs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(a,l){return Ns(a.bytesValue).isEqual(Ns(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(a,l){return Ct(a.geoPointValue.latitude)===Ct(l.geoPointValue.latitude)&&Ct(a.geoPointValue.longitude)===Ct(l.geoPointValue.longitude)}(n,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Ct(a.integerValue)===Ct(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=Ct(a.doubleValue),d=Ct(l.doubleValue);return c===d?af(c)===af(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return jo(n.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(mE(c)!==mE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!$r(c[p],d[p])))return!1;return!0}(n,e);default:return ke()}}function Pu(n,e){return(n.values||[]).find(t=>$r(t,e))!==void 0}function zo(n,e){if(n===e)return 0;const t=Is(n),s=Is(e);if(t!==s)return qe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return qe(n.booleanValue,e.booleanValue);case 2:return function(l,c){const d=Ct(l.integerValue||l.doubleValue),p=Ct(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return gE(n.timestampValue,e.timestampValue);case 4:return gE(ku(n),ku(e));case 5:return Dp(n.stringValue,e.stringValue);case 6:return function(l,c){const d=Ns(l),p=Ns(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=qe(d[g],p[g]);if(v!==0)return v}return qe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const d=qe(Ct(l.latitude),Ct(c.latitude));return d!==0?d:qe(Ct(l.longitude),Ct(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return yE(n.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,g,v;const T=l.fields||{},S=c.fields||{},M=(d=T[lf])===null||d===void 0?void 0:d.arrayValue,N=(p=S[lf])===null||p===void 0?void 0:p.arrayValue,B=qe(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((v=N==null?void 0:N.values)===null||v===void 0?void 0:v.length)||0);return B!==0?B:yE(M,N)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Nh.mapValue&&c===Nh.mapValue)return 0;if(l===Nh.mapValue)return 1;if(c===Nh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let T=0;T<p.length&&T<v.length;++T){const S=Dp(p[T],v[T]);if(S!==0)return S;const M=zo(d[p[T]],g[v[T]]);if(M!==0)return M}return qe(p.length,v.length)}(n.mapValue,e.mapValue);default:throw ke()}}function gE(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return qe(n,e);const t=Cs(n),s=Cs(e),a=qe(t.seconds,s.seconds);return a!==0?a:qe(t.nanos,s.nanos)}function yE(n,e){const t=n.values||[],s=e.values||[];for(let a=0;a<t.length&&a<s.length;++a){const l=zo(t[a],s[a]);if(l)return l}return qe(t.length,s.length)}function Bo(n){return Op(n)}function Op(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Cs(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Re.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",a=!0;for(const l of t.values||[])a?a=!1:s+=",",s+=Op(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of s)l?l=!1:a+=",",a+=`${c}:${Op(t.fields[c])}`;return a+"}"}(n.mapValue):ke()}function zh(n){switch(Is(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Of(n);return e?16+zh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,l)=>a+zh(l),0)}(n.arrayValue);case 10:case 11:return function(s){let a=0;return Oa(s.fields,(l,c)=>{a+=l.length+zh(c)}),a}(n.mapValue);default:throw ke()}}function Mp(n){return!!n&&"integerValue"in n}function wg(n){return!!n&&"arrayValue"in n}function vE(n){return!!n&&"nullValue"in n}function _E(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bh(n){return!!n&&"mapValue"in n}function RI(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[lw])===null||t===void 0?void 0:t.stringValue)===uw}function bu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Oa(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=bu(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function CI(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===xI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr{constructor(e){this.value=e}static empty(){return new nr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bu(t)}setAll(e){let t=an.emptyPath(),s={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,s,a),s={},a=[],t=d.popLast()}c?s[d.lastSegment()]=bu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,a)}delete(e){const t=this.field(e.popLast());Bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=t.mapValue.fields[e.get(s)];Bh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,s){Oa(t,(a,l)=>e[a]=l);for(const a of s)delete e[a]}clone(){return new nr(bu(this.value))}}function cw(n){const e=[];return Oa(n.fields,(t,s)=>{const a=new an([t]);if(Bh(s)){const l=cw(s.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new pr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,s,a,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new dn(e,0,Ve.min(),Ve.min(),Ve.min(),nr.empty(),0)}static newFoundDocument(e,t,s,a){return new dn(e,1,t,Ve.min(),s,a,0)}static newNoDocument(e,t){return new dn(e,2,t,Ve.min(),Ve.min(),nr.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Ve.min(),Ve.min(),nr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t){this.position=e,this.inclusive=t}}function EE(n,e,t){let s=0;for(let a=0;a<n.position.length;a++){const l=e[a],c=n.position[a];if(l.field.isKeyField()?s=Re.comparator(Re.fromName(c.referenceValue),t.key):s=zo(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function bE(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$r(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,t="asc"){this.field=e,this.dir=t}}function NI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{}class qt extends hw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new DI(e,t,s):t==="array-contains"?new kI(e,s):t==="in"?new VI(e,s):t==="not-in"?new PI(e,s):t==="array-contains-any"?new UI(e,s):new qt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new OI(e,s):new MI(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(zo(t,this.value)):t!==null&&Is(this.value)===Is(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ke()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kr extends hw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Kr(e,t)}matches(e){return fw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fw(n){return n.op==="and"}function dw(n){return II(n)&&fw(n)}function II(n){for(const e of n.filters)if(e instanceof Kr)return!1;return!0}function kp(n){if(n instanceof qt)return n.field.canonicalString()+n.op.toString()+Bo(n.value);if(dw(n))return n.filters.map(e=>kp(e)).join(",");{const e=n.filters.map(t=>kp(t)).join(",");return`${n.op}(${e})`}}function mw(n,e){return n instanceof qt?function(s,a){return a instanceof qt&&s.op===a.op&&s.field.isEqual(a.field)&&$r(s.value,a.value)}(n,e):n instanceof Kr?function(s,a){return a instanceof Kr&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((l,c,d)=>l&&mw(c,a.filters[d]),!0):!1}(n,e):void ke()}function pw(n){return n instanceof qt?function(t){return`${t.field.canonicalString()} ${t.op} ${Bo(t.value)}`}(n):n instanceof Kr?function(t){return t.op.toString()+" {"+t.getFilters().map(pw).join(" ,")+"}"}(n):"Filter"}class DI extends qt{constructor(e,t,s){super(e,t,s),this.key=Re.fromName(s.referenceValue)}matches(e){const t=Re.comparator(e.key,this.key);return this.matchesComparison(t)}}class OI extends qt{constructor(e,t){super(e,"in",t),this.keys=gw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class MI extends qt{constructor(e,t){super(e,"not-in",t),this.keys=gw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Re.fromName(s.referenceValue))}class kI extends qt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wg(t)&&Pu(t.arrayValue,this.value)}}class VI extends qt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Pu(this.value.arrayValue,t)}}class PI extends qt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Pu(this.value.arrayValue,t)}}class UI extends qt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t=null,s=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function TE(n,e=null,t=[],s=[],a=null,l=null,c=null){return new LI(n,e,t,s,a,l,c)}function Sg(n){const e=Ue(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>kp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Df(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Bo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Bo(s)).join(",")),e.le=t}return e.le}function Ag(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NI(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!bE(n.startAt,e.startAt)&&bE(n.endAt,e.endAt)}function Vp(n){return Re.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,t=null,s=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jI(n,e,t,s,a,l,c,d){return new Mf(n,e,t,s,a,l,c,d)}function xg(n){return new Mf(n)}function wE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zI(n){return n.collectionGroup!==null}function Tu(n){const e=Ue(n);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Gt(an.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new cf(l,s))}),t.has(an.keyField().canonicalString())||e.he.push(new cf(an.keyField(),s))}return e.he}function qr(n){const e=Ue(n);return e.Pe||(e.Pe=BI(e,Tu(n))),e.Pe}function BI(n,e){if(n.limitType==="F")return TE(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new cf(a.field,l)});const t=n.endAt?new uf(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new uf(n.startAt.position,n.startAt.inclusive):null;return TE(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Pp(n,e,t){return new Mf(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kf(n,e){return Ag(qr(n),qr(e))&&n.limitType===e.limitType}function yw(n){return`${Sg(qr(n))}|lt:${n.limitType}`}function No(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(a=>pw(a)).join(", ")}]`),Df(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(a=>Bo(a)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(a=>Bo(a)).join(",")),`Target(${s})`}(qr(n))}; limitType=${n.limitType})`}function Vf(n,e){return e.isFoundDocument()&&function(s,a){const l=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Re.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,a){for(const l of Tu(s))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,a){for(const l of s.filters)if(!l.matches(a))return!1;return!0}(n,e)&&function(s,a){return!(s.startAt&&!function(c,d,p){const g=EE(c,d,p);return c.inclusive?g<=0:g<0}(s.startAt,Tu(s),a)||s.endAt&&!function(c,d,p){const g=EE(c,d,p);return c.inclusive?g>=0:g>0}(s.endAt,Tu(s),a))}(n,e)}function FI(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function vw(n){return(e,t)=>{let s=!1;for(const a of Tu(n)){const l=qI(a,e,t);if(l!==0)return l;s=s||a.field.isKeyField()}return 0}}function qI(n,e,t){const s=n.field.isKeyField()?Re.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?zo(p,g):ke()}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return ke()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[a,l]of s)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[t]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Oa(this.inner,(t,s)=>{for(const[a,l]of s)e(a,l)})}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=new bt(Re.comparator);function Pi(){return HI}const _w=new bt(Re.comparator);function yu(...n){let e=_w;for(const t of n)e=e.insert(t.key,t);return e}function Ew(n){let e=_w;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ya(){return wu()}function bw(){return wu()}function wu(){return new Ma(n=>n.toString(),(n,e)=>n.isEqual(e))}const GI=new bt(Re.comparator),$I=new Gt(Re.comparator);function Ye(...n){let e=$I;for(const t of n)e=e.add(t);return e}const KI=new Gt(qe);function QI(){return KI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function Tw(n){return{integerValue:""+n}}function YI(n,e){return bI(e)?Tw(e):Rg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(){this._=void 0}}function XI(n,e,t){return n instanceof Uu?function(a,l){const c={fields:{[sw]:{stringValue:iw},[ow]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Tg(l)&&(l=Of(l)),l&&(c.fields[aw]=l),{mapValue:c}}(t,e):n instanceof Lu?Sw(n,e):n instanceof ju?Aw(n,e):function(a,l){const c=ww(a,l),d=SE(c)+SE(a.Ie);return Mp(c)&&Mp(a.Ie)?Tw(d):Rg(a.serializer,d)}(n,e)}function WI(n,e,t){return n instanceof Lu?Sw(n,e):n instanceof ju?Aw(n,e):t}function ww(n,e){return n instanceof hf?function(s){return Mp(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class Uu extends Pf{}class Lu extends Pf{constructor(e){super(),this.elements=e}}function Sw(n,e){const t=xw(e);for(const s of n.elements)t.some(a=>$r(a,s))||t.push(s);return{arrayValue:{values:t}}}class ju extends Pf{constructor(e){super(),this.elements=e}}function Aw(n,e){let t=xw(e);for(const s of n.elements)t=t.filter(a=>!$r(a,s));return{arrayValue:{values:t}}}class hf extends Pf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function SE(n){return Ct(n.integerValue||n.doubleValue)}function xw(n){return wg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,t){this.field=e,this.transform=t}}function JI(n,e){return n.field.isEqual(e.field)&&function(s,a){return s instanceof Lu&&a instanceof Lu||s instanceof ju&&a instanceof ju?jo(s.elements,a.elements,$r):s instanceof hf&&a instanceof hf?$r(s.Ie,a.Ie):s instanceof Uu&&a instanceof Uu}(n.transform,e.transform)}class eD{constructor(e,t){this.version=e,this.transformResults=t}}class Di{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Di}static exists(e){return new Di(void 0,e)}static updateTime(e){return new Di(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Uf{}function Rw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Nw(n.key,Di.none()):new Xu(n.key,n.data,Di.none());{const t=n.data,s=nr.empty();let a=new Gt(an.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),a=a.add(l)}return new ka(n.key,s,new pr(a.toArray()),Di.none())}}function tD(n,e,t){n instanceof Xu?function(a,l,c){const d=a.value.clone(),p=xE(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof ka?function(a,l,c){if(!Fh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=xE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(Cw(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Su(n,e,t,s){return n instanceof Xu?function(l,c,d,p){if(!Fh(l.precondition,c))return d;const g=l.value.clone(),v=RE(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(n,e,t,s):n instanceof ka?function(l,c,d,p){if(!Fh(l.precondition,c))return d;const g=RE(l.fieldTransforms,p,c),v=c.data;return v.setAll(Cw(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,s):function(l,c,d){return Fh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function nD(n,e){let t=null;for(const s of n.fieldTransforms){const a=e.data.field(s.field),l=ww(s.transform,a||null);l!=null&&(t===null&&(t=nr.empty()),t.set(s.field,l))}return t||null}function AE(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&jo(s,a,(l,c)=>JI(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Xu extends Uf{constructor(e,t,s,a=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ka extends Uf{constructor(e,t,s,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Cw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function xE(n,e,t){const s=new Map;rt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],c=l.transform,d=e.data.field(l.field);s.set(l.field,WI(c,d,t[a]))}return s}function RE(n,e,t){const s=new Map;for(const a of n){const l=a.transform,c=t.data.field(a.field);s.set(a.field,XI(l,c,e))}return s}class Nw extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rD extends Uf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,t,s,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&tD(l,e,s[a])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Su(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Su(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=bw();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=Rw(c,d);p!==null&&s.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Ve.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ye())}isEqual(e){return this.batchId===e.batchId&&jo(this.mutations,e.mutations,(t,s)=>AE(t,s))&&jo(this.baseMutations,e.baseMutations,(t,s)=>AE(t,s))}}class Cg{constructor(e,t,s,a){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=a}static from(e,t,s){rt(e.mutations.length===s.length);let a=function(){return GI}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,s[c].version);return new Cg(e,t,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Je;function oD(n){switch(n){case ce.OK:return ke();case ce.CANCELLED:case ce.UNKNOWN:case ce.DEADLINE_EXCEEDED:case ce.RESOURCE_EXHAUSTED:case ce.INTERNAL:case ce.UNAVAILABLE:case ce.UNAUTHENTICATED:return!1;case ce.INVALID_ARGUMENT:case ce.NOT_FOUND:case ce.ALREADY_EXISTS:case ce.PERMISSION_DENIED:case ce.FAILED_PRECONDITION:case ce.ABORTED:case ce.OUT_OF_RANGE:case ce.UNIMPLEMENTED:case ce.DATA_LOSS:return!0;default:return ke()}}function Iw(n){if(n===void 0)return Vi("GRPC error has no .code"),ce.UNKNOWN;switch(n){case Vt.OK:return ce.OK;case Vt.CANCELLED:return ce.CANCELLED;case Vt.UNKNOWN:return ce.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return ce.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return ce.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return ce.INTERNAL;case Vt.UNAVAILABLE:return ce.UNAVAILABLE;case Vt.UNAUTHENTICATED:return ce.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return ce.INVALID_ARGUMENT;case Vt.NOT_FOUND:return ce.NOT_FOUND;case Vt.ALREADY_EXISTS:return ce.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return ce.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return ce.FAILED_PRECONDITION;case Vt.ABORTED:return ce.ABORTED;case Vt.OUT_OF_RANGE:return ce.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return ce.UNIMPLEMENTED;case Vt.DATA_LOSS:return ce.DATA_LOSS;default:return ke()}}(Je=Vt||(Vt={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD=new As([4294967295,4294967295],0);function CE(n){const e=JT().encode(n),t=new $T;return t.update(e),new Uint8Array(t.digest())}function NE(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new As([t,s],0),new As([a,l],0)]}class Ng{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new vu(`Invalid padding: ${t}`);if(s<0)throw new vu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new vu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new vu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=As.fromNumber(this.Ee)}Ae(e,t,s){let a=e.add(t.multiply(As.fromNumber(s)));return a.compare(lD)===1&&(a=new As([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=CE(e),[s,a]=NE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,s){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Ng(l,a,t);return s.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=CE(e),[s,a]=NE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(s,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class vu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t,s,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const a=new Map;return a.set(e,Wu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Lf(Ve.min(),a,new bt(qe),Pi(),Ye())}}class Wu{constructor(e,t,s,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Wu(s,t,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,t,s,a){this.me=e,this.removedTargetIds=t,this.key=s,this.fe=a}}class Dw{constructor(e,t){this.targetId=e,this.ge=t}}class Ow{constructor(e,t,s=on.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=a}}class IE{constructor(){this.pe=0,this.ye=DE(),this.we=on.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ye(),t=Ye(),s=Ye();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:s=s.add(a);break;default:ke()}}),new Wu(this.we,this.Se,e,t,s)}Me(){this.be=!1,this.ye=DE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,rt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class uD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Pi(),this.$e=Ih(),this.Ue=Ih(),this.Ke=new bt(qe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const s=this.He(t);switch(e.state){case 0:this.Je(t)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(t);break;case 3:this.Je(t)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),s.Ce(e.resumeToken));break;default:ke()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((s,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,s=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Vp(l))if(s===0){const c=new Re(l.path);this.ze(t,c,dn.newNoDocument(c,Ve.min()))}else rt(s===1);else{const c=this.et(t);if(c!==s){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Ns(s).toUint8Array()}catch(p){if(p instanceof rw)return Lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Ng(c,a,l)}catch(p){return Lo(p instanceof vu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,s){return t.ge.count===s-this.st(e,t.targetId)?0:2}st(e,t){const s=this.ke.getRemoteKeysForTarget(t);let a=0;return s.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Vp(d.target)){const p=new Re(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,dn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let s=Ye();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new Lf(e,t,this.Ke,this.Qe,s);return this.Qe=Pi(),this.$e=Ih(),this.Ue=Ih(),this.Ke=new bt(qe),a}Ge(e,t){if(!this.Je(e))return;const s=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,s),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,s){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),s&&(this.Qe=this.Qe.insert(t,s))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new IE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Gt(qe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Gt(qe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new IE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Ih(){return new bt(Re.comparator)}function DE(){return new bt(Re.comparator)}const cD={asc:"ASCENDING",desc:"DESCENDING"},hD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fD={and:"AND",or:"OR"};class dD{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Up(n,e){return n.useProto3Json||Df(e)?e:{value:e}}function ff(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function mD(n,e){return ff(n,e.toTimestamp())}function Hr(n){return rt(!!n),Ve.fromTimestamp(function(t){const s=Cs(t);return new Ht(s.seconds,s.nanos)}(n))}function Ig(n,e){return Lp(n,e).canonicalString()}function Lp(n,e){const t=function(a){return new yt(["projects",a.projectId,"databases",a.database])}(n).child("documents");return e===void 0?t:t.child(e)}function kw(n){const e=yt.fromString(n);return rt(jw(e)),e}function jp(n,e){return Ig(n.databaseId,e.path)}function hp(n,e){const t=kw(e);if(t.get(1)!==n.databaseId.projectId)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new xe(ce.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Re(Pw(t))}function Vw(n,e){return Ig(n.databaseId,e)}function pD(n){const e=kw(n);return e.length===4?yt.emptyPath():Pw(e)}function zp(n){return new yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Pw(n){return rt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function OE(n,e,t){return{name:jp(n,e),fields:t.value.mapValue.fields}}function gD(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:ke()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,v){return g.useProto3Json?(rt(v===void 0||typeof v=="string"),on.fromBase64String(v||"")):(rt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),on.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const v=g.code===void 0?ce.UNKNOWN:Iw(g.code);return new xe(v,g.message||"")}(c);t=new Ow(s,a,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=hp(n,s.document.name),l=Hr(s.document.updateTime),c=s.document.createTime?Hr(s.document.createTime):Ve.min(),d=new nr({mapValue:{fields:s.document.fields}}),p=dn.newFoundDocument(a,l,c,d),g=s.targetIds||[],v=s.removedTargetIds||[];t=new qh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=hp(n,s.document),l=s.readTime?Hr(s.readTime):Ve.min(),c=dn.newNoDocument(a,l),d=s.removedTargetIds||[];t=new qh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=hp(n,s.document),l=s.removedTargetIds||[];t=new qh([],l,a,null)}else{if(!("filter"in e))return ke();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:l}=s,c=new aD(a,l),d=s.targetId;t=new Dw(d,c)}}return t}function yD(n,e){let t;if(e instanceof Xu)t={update:OE(n,e.key,e.value)};else if(e instanceof Nw)t={delete:jp(n,e.key)};else if(e instanceof ka)t={update:OE(n,e.key,e.data),updateMask:xD(e.fieldMask)};else{if(!(e instanceof rD))return ke();t={verify:jp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,c){const d=c.transform;if(d instanceof Uu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Lu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ju)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof hf)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw ke()}(0,s))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:mD(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:ke()}(n,e.precondition)),t}function vD(n,e){return n&&n.length>0?(rt(e!==void 0),n.map(t=>function(a,l){let c=a.updateTime?Hr(a.updateTime):Hr(l);return c.isEqual(Ve.min())&&(c=Hr(l)),new eD(c,a.transformResults||[])}(t,e))):[]}function _D(n,e){return{documents:[Vw(n,e.path)]}}function ED(n,e){const t={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Vw(n,a);const l=function(g){if(g.length!==0)return Lw(Kr.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:Io(S.field),direction:wD(S.dir)}}(v))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Up(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function bD(n){let e=pD(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let a=null;if(s>0){rt(s===1);const v=t.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=function(T){const S=Uw(T);return S instanceof Kr&&dw(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(S=>function(N){return new cf(Do(N.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,Df(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,M=T.values||[];return new uf(M,S)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const S=!T.before,M=T.values||[];return new uf(M,S)}(t.endAt)),jI(e,a,c,l,d,"F",p,g)}function TD(n,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ke()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Uw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Do(t.unaryFilter.field);return qt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Do(t.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Do(t.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Do(t.unaryFilter.field);return qt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return ke()}}(n):n.fieldFilter!==void 0?function(t){return qt.create(Do(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ke()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Kr.create(t.compositeFilter.filters.map(s=>Uw(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return ke()}}(t.compositeFilter.op))}(n):ke()}function wD(n){return cD[n]}function SD(n){return hD[n]}function AD(n){return fD[n]}function Io(n){return{fieldPath:n.canonicalString()}}function Do(n){return an.fromServerFormat(n.fieldPath)}function Lw(n){return n instanceof qt?function(t){if(t.op==="=="){if(_E(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NAN"}};if(vE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_E(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NAN"}};if(vE(t.value))return{unaryFilter:{field:Io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Io(t.field),op:SD(t.op),value:t.value}}}(n):n instanceof Kr?function(t){const s=t.getFilters().map(a=>Lw(a));return s.length===1?s[0]:{compositeFilter:{op:AD(t.op),filters:s}}}(n):ke()}function xD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,s,a,l=Ve.min(),c=Ve.min(),d=on.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new bs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.Tt=e}}function CD(n){const e=bD({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.Tn=new ID}addToCollectionParentIndex(e,t){return this.Tn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(Rs.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(Rs.min())}updateCollectionGroup(e,t,s){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class ID{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t]||new Gt(yt.comparator),l=!a.has(s);return this.index[t]=a.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),a=this.index[t];return a&&a.has(s)}getEntries(e){return(this.index[e]||new Gt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zw=41943040;class Rn{static withCacheSize(e){return new Rn(e,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(zw,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Fo(0)}static Kn(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="LruGarbageCollector",DD=1048576;function VE([n,e],[t,s]){const a=qe(n,t);return a===0?qe(e,s):a}class OD{constructor(e){this.Hn=e,this.buffer=new Gt(VE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();VE(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MD{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ve(kE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Wo(t)?ve(kE,"Ignoring IndexedDB error during garbage collection: ",t):await Xo(t)}await this.er(3e5)})}}class kD{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ae.resolve(If.ae);const s=new OD(t);return this.tr.forEachTarget(e,a=>s.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>s.Zn(a))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.tr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(ME)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ME):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let s,a,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),Co()<=Qe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function VD(n,e){return new kD(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.changes=new Ma(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ae.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,t,s,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(s!==null&&Su(s.mutation,a,pr.empty(),Ht.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ye()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ye()){const a=ya();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,s).next(l=>{let c=yu();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const s=ya();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ye()))}populateOverlays(e,t,s){const a=[];return s.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,s,a){let l=Pi();const c=wu(),d=function(){return wu()}();return t.forEach((p,g)=>{const v=s.get(g.key);a.has(g.key)&&(v===void 0||v.mutation instanceof ka)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Su(v.mutation,g,v.mutation.getFieldMask(),Ht.now())):c.set(g.key,pr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((g,v)=>c.set(g,v)),t.forEach((g,v)=>{var T;return d.set(g,new UD(v,(T=c.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const s=wu();let a=new bt((c,d)=>c-d),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let v=s.get(p)||pr.empty();v=d.applyToLocalView(g,v),s.set(p,v);const T=(a.get(d.batchId)||Ye()).add(p);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,T=bw();v.forEach(S=>{if(!l.has(S)){const M=Rw(t.get(S),s.get(S));M!==null&&T.set(S,M),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ae.waitFor(c)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,a){return function(c){return Re.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zI(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,a):this.getDocumentsMatchingCollectionQuery(e,t,s,a)}getNextDocuments(e,t,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,a-l.size):ae.resolve(ya());let d=Mu,p=l;return c.next(g=>ae.forEach(g,(v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?ae.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,p,g,Ye())).next(v=>({batchId:d,changes:Ew(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Re(t)).next(s=>{let a=yu();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,s,a){const l=t.collectionGroup;let c=yu();return this.indexManager.getCollectionParents(e,l).next(d=>ae.forEach(d,p=>{const g=function(T,S){return new Mf(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,s,a).next(v=>{v.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,s,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,a))).next(c=>{l.forEach((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,dn.newInvalidDocument(v)))});let d=yu();return c.forEach((p,g)=>{const v=l.get(p);v!==void 0&&Su(v.mutation,g,pr.empty(),Ht.now()),Vf(t,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ae.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Hr(a.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:CD(a.bundledQuery),readTime:Hr(a.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this.overlays=new bt(Re.comparator),this.Rr=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ya();return ae.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&s.set(a,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((a,l)=>{this.Et(e,t,l)}),ae.resolve()}removeOverlaysForBatchId(e,t,s){const a=this.Rr.get(s);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(s)),ae.resolve()}getOverlaysForCollection(e,t,s){const a=ya(),l=t.length+1,c=new Re(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>s&&a.set(p.getKey(),p)}return ae.resolve(a)}getOverlaysForCollectionGroup(e,t,s,a){let l=new bt((g,v)=>g-v);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let v=l.get(g.largestBatchId);v===null&&(v=ya(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=ya(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>d.set(g,v)),!(d.size()>=a)););return ae.resolve(d)}Et(e,t,s){const a=this.overlays.get(s.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(s.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new sD(t,s));let l=this.Rr.get(t);l===void 0&&(l=Ye(),this.Rr.set(t,l)),this.Rr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(){this.Vr=new Gt(Wt.mr),this.gr=new Gt(Wt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const s=new Wt(e,t);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.wr(new Wt(e,t))}Sr(e,t){e.forEach(s=>this.removeReference(s,t))}br(e){const t=new Re(new yt([])),s=new Wt(t,e),a=new Wt(t,e+1),l=[];return this.gr.forEachInRange([s,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Re(new yt([])),s=new Wt(t,e),a=new Wt(t,e+1);let l=Ye();return this.gr.forEachInRange([s,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Wt(e,0),s=this.Vr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Wt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Re.comparator(e.key,t.key)||qe(e.Cr,t.Cr)}static pr(e,t){return qe(e.Cr,t.Cr)||Re.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Gt(Wt.mr)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iD(l,t,s,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Wt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(e,t){return ae.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,a=this.Nr(s),l=a<0?0:a;return ae.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?bg:this.Fr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Wt(t,0),a=new Wt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([s,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ae.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Gt(qe);return t.forEach(a=>{const l=new Wt(a,0),c=new Wt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{s=s.add(d.Cr)})}),ae.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,a=s.length+1;let l=s;Re.isDocumentKey(l)||(l=l.child(""));const c=new Wt(new Re(l),0);let d=new Gt(qe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===a&&(d=d.add(p.Cr)),!0)},c),ae.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(s=>{const a=this.Or(s);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){rt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ae.forEach(t.mutations,a=>{const l=new Wt(a.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,t){const s=new Wt(t,0),a=this.Mr.firstAfterOrEqual(s);return ae.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.kr=e,this.docs=function(){return new bt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,a=this.docs.get(s),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ae.resolve(s?s.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let s=Pi();return t.forEach(a=>{const l=this.docs.get(a);s=s.insert(a,l?l.document.mutableCopy():dn.newInvalidDocument(a))}),ae.resolve(s)}getDocumentsMatchingQuery(e,t,s,a){let l=Pi();const c=t.path,d=new Re(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||yI(gI(v),s)<=0||(a.has(v.key)||Vf(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ae.resolve(l)}getAllFromCollectionGroup(e,t,s,a){ke()}qr(e,t){return ae.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new HD(this)}getSize(e){return ae.resolve(this.size)}}class HD extends PD{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(s)}),ae.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.persistence=e,this.Qr=new Ma(t=>Sg(t),Ag),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Dg,this.targetCount=0,this.Kr=Fo.Un()}forEachTarget(e,t){return this.Qr.forEach((s,a)=>t(a)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.$r&&(this.$r=t),ae.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.zn(t),ae.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,s){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ae.waitFor(l).next(()=>a)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const s=this.Qr.get(t)||null;return ae.resolve(s)}addMatchingKeys(e,t,s){return this.Ur.yr(t,s),ae.resolve()}removeMatchingKeys(e,t,s){this.Ur.Sr(t,s);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ae.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ur.vr(t);return ae.resolve(s)}containsKey(e,t){return ae.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new If(0),this.zr=!1,this.zr=!0,this.jr=new BD,this.referenceDelegate=e(this),this.Hr=new GD(this),this.indexManager=new ND,this.remoteDocumentCache=function(a){return new qD(a)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new RD(t),this.Yr=new jD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Wr[e.toKey()];return s||(s=new FD(t,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,s){ve("MemoryPersistence","Starting transaction:",e);const a=new $D(this.Gr.next());return this.referenceDelegate.Zr(),s(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ae.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,t)))}}class $D extends _I{constructor(e){super(),this.currentSequenceNumber=e}}class Og{constructor(e){this.persistence=e,this.ti=new Dg,this.ni=null}static ri(e){return new Og(e)}get ii(){if(this.ni)return this.ni;throw ke()}addReference(e,t,s){return this.ti.addReference(s,t),this.ii.delete(s.toString()),ae.resolve()}removeReference(e,t,s){return this.ti.removeReference(s,t),this.ii.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ae.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.ii,s=>{const a=Re.fromPath(s);return this.si(e,a).next(l=>{l||t.removeEntry(a,Ve.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(s=>{s?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ae.or([()=>ae.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class df{constructor(e,t){this.persistence=e,this.oi=new Ma(s=>TI(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=VD(this,t)}static ri(e,t){return new df(e,t)}Zr(){}Xr(e){return ae.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(a=>s+a))}sr(e){let t=0;return this.rr(e,s=>{t++}).next(()=>t)}rr(e,t){return ae.forEach(this.oi,(s,a)=>this.ar(e,s,a).next(l=>l?ae.resolve():t(a)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(s++,l.removeEntry(c,Ve.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ae.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ae.resolve()}removeReference(e,t,s){return this.oi.set(s,e.currentSequenceNumber),ae.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ae.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=zh(e.data.value)),t}ar(e,t,s){return ae.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ae.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t,s,a){this.targetId=e,this.fromCache=t,this.Hi=s,this.Ji=a}static Yi(e,t){let s=Ye(),a=Ye();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Mg(e,t.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return RR()?8:EI(pn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,s,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,s).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new KD;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,s,a){return s.documentReadCount<this.es?(Co()<=Qe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",No(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ae.resolve()):(Co()<=Qe.DEBUG&&ve("QueryEngine","Query:",No(t),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.ts*a?(Co()<=Qe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",No(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qr(t))):ae.resolve())}rs(e,t){if(wE(t))return ae.resolve(null);let s=qr(t);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=Pp(t,null,"F"),s=qr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const c=Ye(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(t,d);return this.ls(t,g,c,p.readTime)?this.rs(e,Pp(t,null,"F")):this.hs(e,g,t,p)}))})))}ss(e,t,s,a){return wE(t)||a.isEqual(Ve.min())?ae.resolve(null):this.ns.getDocuments(e,s).next(l=>{const c=this.cs(t,l);return this.ls(t,c,s,a)?ae.resolve(null):(Co()<=Qe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),No(t)),this.hs(e,c,t,pI(a,Mu)).next(d=>d))})}cs(e,t){let s=new Gt(vw(e));return t.forEach((a,l)=>{Vf(e,l)&&(s=s.add(l))}),s}ls(e,t,s,a){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,s){return Co()<=Qe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",No(t)),this.ns.getDocumentsMatchingQuery(e,t,Rs.min(),s)}hs(e,t,s,a){return this.ns.getDocumentsMatchingQuery(e,s,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg="LocalStore",YD=3e8;class XD{constructor(e,t,s,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new bt(qe),this.Is=new Ma(l=>Sg(l),Ag),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function WD(n,e,t,s){return new XD(n,e,t,s)}async function Fw(n,e){const t=Ue(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let a;return t.mutationQueue.getAllMutationBatches(s).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const c=[],d=[];let p=Ye();for(const g of a){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function ZD(n,e){const t=Ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,v){const T=g.batch,S=T.keys();let M=ae.resolve();return S.forEach(N=>{M=M.next(()=>v.getEntry(p,N)).next(B=>{const k=g.docVersions.get(N);rt(k!==null),B.version.compareTo(k)<0&&(T.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),v.addEntry(B)))})}),M.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Ye();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,a))})}function qw(n){const e=Ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function JD(n,e){const t=Ue(n),s=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((v,T)=>{const S=a.get(T);if(!S)return;d.push(t.Hr.removeMatchingKeys(l,v.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,v.addedDocuments,T)));let M=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken(on.EMPTY_BYTE_STRING,Ve.min()).withLastLimboFreeSnapshotVersion(Ve.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,s)),a=a.insert(T,M),function(B,k,G){return B.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=YD?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(S,M,v)&&d.push(t.Hr.updateTargetData(l,M))});let p=Pi(),g=Ye();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))}),d.push(eO(l,c,e.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!s.isEqual(Ve.min())){const v=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(v)}return ae.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,g)).next(()=>p)}).then(l=>(t.Ts=a,l))}function eO(n,e,t){let s=Ye(),a=Ye();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let c=Pi();return t.forEach((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Ve.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ve(kg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function tO(n,e){const t=Ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=bg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function nO(n,e){const t=Ue(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return t.Hr.getTargetData(s,e).next(l=>l?(a=l,ae.resolve(a)):t.Hr.allocateTargetId(s).next(c=>(a=new bs(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Hr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=t.Ts.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(s.targetId,s),t.Is.set(e,s.targetId)),s})}async function Bp(n,e,t){const s=Ue(n),a=s.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,c=>s.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Wo(c))throw c;ve(kg,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ts=s.Ts.remove(e),s.Is.delete(a.target)}function PE(n,e,t){const s=Ue(n);let a=Ve.min(),l=Ye();return s.persistence.runTransaction("Execute query","readwrite",c=>function(p,g,v){const T=Ue(p),S=T.Is.get(v);return S!==void 0?ae.resolve(T.Ts.get(S)):T.Hr.getTargetData(g,v)}(s,c,qr(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(c,e,t?a:Ve.min(),t?l:Ye())).next(d=>(rO(s,FI(e),d),{documents:d,gs:l})))}function rO(n,e,t){let s=n.Es.get(e)||Ve.min();t.forEach((a,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Es.set(e,s)}class UE{constructor(){this.activeTargetIds=QI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iO{constructor(){this.ho=new UE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,s){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new UE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="ConnectivityMonitor";class jE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ve(LE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ve(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dh=null;function Fp(){return Dh===null?Dh=function(){return 268435456+Math.round(2147483648*Math.random())}():Dh++,"0x"+Dh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="RestConnection",aO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${s}/databases/${a}`,this.wo=this.databaseId.database===of?`project_id=${s}`:`project_id=${s}&database_id=${a}`}So(e,t,s,a,l){const c=Fp(),d=this.bo(e,t.toUriEncodedString());ve(fp,`Sending RPC '${e}' ${c}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,s).then(g=>(ve(fp,`Received RPC '${e}' ${c}: `,g),g),g=>{throw Lo(fp,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,t,s,a,l,c){return this.So(e,t,s,a,l)}Do(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),s&&s.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const s=aO[e];return`${this.po}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class uO extends oO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,s,a){const l=Fp();return new Promise((c,d)=>{const p=new KT;p.setWithCredentials(!0),p.listenOnce(QT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case jh.NO_ERROR:const v=p.getResponseJson();ve(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case jh.TIMEOUT:ve(cn,`RPC '${e}' ${l} timed out`),d(new xe(ce.DEADLINE_EXCEEDED,"Request time out"));break;case jh.HTTP_ERROR:const T=p.getStatus();if(ve(cn,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const M=S==null?void 0:S.error;if(M&&M.status&&M.message){const N=function(k){const G=k.toLowerCase().replace(/_/g,"-");return Object.values(ce).indexOf(G)>=0?G:ce.UNKNOWN}(M.status);d(new xe(N,M.message))}else d(new xe(ce.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new xe(ce.UNAVAILABLE,"Connection failed."));break;default:ke()}}finally{ve(cn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);ve(cn,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",g,s,15)})}Wo(e,t,s){const a=Fp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=WT(),d=XT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const v=l.join("");ve(cn,`Creating RPC '${e}' stream ${a}: ${v}`,p);const T=c.createWebChannel(v,p);let S=!1,M=!1;const N=new lO({Fo:k=>{M?ve(cn,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(S||(ve(cn,`Opening RPC '${e}' stream ${a} transport.`),T.open(),S=!0),ve(cn,`RPC '${e}' stream ${a} sending:`,k),T.send(k))},Mo:()=>T.close()}),B=(k,G,X)=>{k.listen(G,K=>{try{X(K)}catch(de){setTimeout(()=>{throw de},0)}})};return B(T,gu.EventType.OPEN,()=>{M||(ve(cn,`RPC '${e}' stream ${a} transport opened.`),N.Qo())}),B(T,gu.EventType.CLOSE,()=>{M||(M=!0,ve(cn,`RPC '${e}' stream ${a} transport closed`),N.Uo())}),B(T,gu.EventType.ERROR,k=>{M||(M=!0,Lo(cn,`RPC '${e}' stream ${a} transport errored:`,k),N.Uo(new xe(ce.UNAVAILABLE,"The operation could not be completed")))}),B(T,gu.EventType.MESSAGE,k=>{var G;if(!M){const X=k.data[0];rt(!!X);const K=X,de=(K==null?void 0:K.error)||((G=K[0])===null||G===void 0?void 0:G.error);if(de){ve(cn,`RPC '${e}' stream ${a} received error:`,de);const le=de.status;let be=function(I){const x=Vt[I];if(x!==void 0)return Iw(x)}(le),V=de.message;be===void 0&&(be=ce.INTERNAL,V="Unknown error status: "+le+" with message "+de.message),M=!0,N.Uo(new xe(be,V)),T.close()}else ve(cn,`RPC '${e}' stream ${a} received:`,X),N.Ko(X)}}),B(d,YT.STAT_EVENT,k=>{k.stat===Ip.PROXY?ve(cn,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Ip.NOPROXY&&ve(cn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{N.$o()},0),N}}function dp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(n){return new dD(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,t,s=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=s,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-s);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="PersistentStream";class Gw{constructor(e,t,s,a,l,c,d,p){this.Ti=e,this.n_=s,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Hw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ce.RESOURCE_EXHAUSTED?(Vi(t.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ce.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.i_===t&&this.V_(s,a)},s=>{e(()=>{const a=new xe(ce.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(a)})})}V_(e,t){const s=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{s(()=>this.m_(a))}),this.stream.onMessage(a=>{s(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ve(zE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ve(zE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cO extends Gw{constructor(e,t,s,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=gD(this.serializer,e),s=function(l){if(!("targetChange"in l))return Ve.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ve.min():c.readTime?Hr(c.readTime):Ve.min()}(e);return this.listener.p_(t,s)}y_(e){const t={};t.database=zp(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Vp(p)?{documents:_D(l,p)}:{query:ED(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=Mw(l,c.resumeToken);const g=Up(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ve.min())>0){d.readTime=ff(l,c.snapshotVersion.toTimestamp());const g=Up(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=TD(this.serializer,e);s&&(t.labels=s),this.I_(t)}w_(e){const t={};t.database=zp(this.serializer),t.removeTarget=e,this.I_(t)}}class hO extends Gw{constructor(e,t,s,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return rt(!!e.streamToken),this.lastStreamToken=e.streamToken,rt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=vD(e.writeResults,e.commitTime),s=Hr(e.commitTime);return this.listener.v_(s,t)}C_(){const e={};e.database=zp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>yD(this.serializer,s))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{}class dO extends fO{constructor(e,t,s,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,Lp(t,s),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xe(ce.UNKNOWN,l.toString())})}Co(e,t,s,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,Lp(t,s),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ce.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new xe(ce.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class mO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Vi(t),this.N_=!1):ve("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca="RemoteStore";class pO{constructor(e,t,s,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{s.enqueueAndForget(async()=>{Va(this)&&(ve(Ca,"Restarting streams for network reachability change."),await async function(p){const g=Ue(p);g.W_.add(4),await Zu(g),g.j_.set("Unknown"),g.W_.delete(4),await zf(g)}(this))})}),this.j_=new mO(s,a)}}async function zf(n){if(Va(n))for(const e of n.G_)await e(!0)}async function Zu(n){for(const e of n.G_)await e(!1)}function $w(n,e){const t=Ue(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Lg(t)?Ug(t):Zo(t).c_()&&Pg(t,e))}function Vg(n,e){const t=Ue(n),s=Zo(t);t.K_.delete(e),s.c_()&&Kw(t,e),t.K_.size===0&&(s.c_()?s.P_():Va(t)&&t.j_.set("Unknown"))}function Pg(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ve.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Zo(n).y_(e)}function Kw(n,e){n.H_.Ne(e),Zo(n).w_(e)}function Ug(n){n.H_=new uD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),Zo(n).start(),n.j_.B_()}function Lg(n){return Va(n)&&!Zo(n).u_()&&n.K_.size>0}function Va(n){return Ue(n).W_.size===0}function Qw(n){n.H_=void 0}async function gO(n){n.j_.set("Online")}async function yO(n){n.K_.forEach((e,t)=>{Pg(n,e)})}async function vO(n,e){Qw(n),Lg(n)?(n.j_.q_(e),Ug(n)):n.j_.set("Unknown")}async function _O(n,e,t){if(n.j_.set("Online"),e instanceof Ow&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(n,e)}catch(s){ve(Ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await mf(n,s)}else if(e instanceof qh?n.H_.We(e):e instanceof Dw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ve.min()))try{const s=await qw(n.localStore);t.compareTo(s)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.K_.get(g);v&&l.K_.set(g,v.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,g)=>{const v=l.K_.get(p);if(!v)return;l.K_.set(p,v.withResumeToken(on.EMPTY_BYTE_STRING,v.snapshotVersion)),Kw(l,p);const T=new bs(v.target,p,g,v.sequenceNumber);Pg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){ve(Ca,"Failed to raise snapshot:",s),await mf(n,s)}}async function mf(n,e,t){if(!Wo(e))throw e;n.W_.add(1),await Zu(n),n.j_.set("Offline"),t||(t=()=>qw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve(Ca,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await zf(n)})}function Yw(n,e){return e().catch(t=>mf(n,t,e))}async function Bf(n){const e=Ue(n),t=Ds(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:bg;for(;EO(e);)try{const a=await tO(e.localStore,s);if(a===null){e.U_.length===0&&t.P_();break}s=a.batchId,bO(e,a)}catch(a){await mf(e,a)}Xw(e)&&Ww(e)}function EO(n){return Va(n)&&n.U_.length<10}function bO(n,e){n.U_.push(e);const t=Ds(n);t.c_()&&t.S_&&t.b_(e.mutations)}function Xw(n){return Va(n)&&!Ds(n).u_()&&n.U_.length>0}function Ww(n){Ds(n).start()}async function TO(n){Ds(n).C_()}async function wO(n){const e=Ds(n);for(const t of n.U_)e.b_(t.mutations)}async function SO(n,e,t){const s=n.U_.shift(),a=Cg.from(s,e,t);await Yw(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),await Bf(n)}async function AO(n,e){e&&Ds(n).S_&&await async function(s,a){if(function(c){return oD(c)&&c!==ce.ABORTED}(a.code)){const l=s.U_.shift();Ds(s).h_(),await Yw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Bf(s)}}(n,e),Xw(n)&&Ww(n)}async function BE(n,e){const t=Ue(n);t.asyncQueue.verifyOperationInProgress(),ve(Ca,"RemoteStore received new credentials");const s=Va(t);t.W_.add(3),await Zu(t),s&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await zf(t)}async function xO(n,e){const t=Ue(n);e?(t.W_.delete(2),await zf(t)):e||(t.W_.add(2),await Zu(t),t.j_.set("Unknown"))}function Zo(n){return n.J_||(n.J_=function(t,s,a){const l=Ue(t);return l.M_(),new cO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:gO.bind(null,n),No:yO.bind(null,n),Lo:vO.bind(null,n),p_:_O.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Lg(n)?Ug(n):n.j_.set("Unknown")):(await n.J_.stop(),Qw(n))})),n.J_}function Ds(n){return n.Y_||(n.Y_=function(t,s,a){const l=Ue(t);return l.M_(),new hO(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:TO.bind(null,n),Lo:AO.bind(null,n),D_:wO.bind(null,n),v_:SO.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Bf(n)):(await n.Y_.stop(),n.U_.length>0&&(ve(Ca,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,t,s,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=a,this.removalCallback=l,this.deferred=new ba,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,a,l){const c=Date.now()+s,d=new jg(e,t,c,a,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(ce.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zg(n,e){if(Vi("AsyncQueue",`${e}: ${n}`),Wo(n))return new xe(ce.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{static emptySet(e){return new Po(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Re.comparator(t.key,s.key):(t,s)=>Re.comparator(t.key,s.key),this.keyedMap=yu(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=s.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.Z_=new bt(Re.comparator)}track(e){const t=e.doc.key,s=this.Z_.get(t);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(t):e.type===1&&s.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):ke():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,s)=>{e.push(s)}),e}}class qo{constructor(e,t,s,a,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new qo(e,t,Po.emptySet(t),c,s,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==s[a].type||!t[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class CO{constructor(){this.queries=qE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,s){const a=Ue(t),l=a.queries;a.queries=qE(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(s)})})(this,new xe(ce.ABORTED,"Firestore shutting down"))}}function qE(){return new Ma(n=>yw(n),kf)}async function NO(n,e){const t=Ue(n);let s=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(s=2):(l=new RO,s=e.ra()?0:1);try{switch(s){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=zg(c,`Initialization of query '${No(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Bg(t)}async function IO(n,e){const t=Ue(n),s=e.query;let a=3;const l=t.queries.get(s);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function DO(n,e){const t=Ue(n);let s=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(s=!0);c.ea=a}}s&&Bg(t)}function OO(n,e,t){const s=Ue(n),a=s.queries.get(e);if(a)for(const l of a.ta)l.onError(t);s.queries.delete(e)}function Bg(n){n.ia.forEach(e=>{e.next()})}var qp,HE;(HE=qp||(qp={}))._a="default",HE.Cache="cache";class MO{constructor(e,t,s){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new qo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const s=t!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.key=e}}class Jw{constructor(e){this.key=e}}class kO{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ye(),this.mutatedKeys=Ye(),this.ya=vw(e),this.wa=new Po(this.ya)}get Sa(){return this.fa}ba(e,t){const s=t?t.Da:new FE,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,T)=>{const S=a.get(v),M=Vf(this.query,T)?T:null,N=!!S&&this.mutatedKeys.has(S.key),B=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let k=!1;S&&M?S.data.isEqual(M.data)?N!==B&&(s.track({type:3,doc:M}),k=!0):this.va(S,M)||(s.track({type:2,doc:M}),k=!0,(p&&this.ya(M,p)>0||g&&this.ya(M,g)<0)&&(d=!0)):!S&&M?(s.track({type:0,doc:M}),k=!0):S&&!M&&(s.track({type:1,doc:S}),k=!0,(p||g)&&(d=!0)),k&&(M?(c=c.add(M),l=B?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{wa:c,Da:s,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((v,T)=>function(M,N){const B=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ke()}};return B(M)-B(N)}(v.type,T.type)||this.ya(v.doc,T.doc)),this.Ca(s),a=a!=null&&a;const d=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,g=p!==this.ga;return this.ga=p,c.length!==0||g?{snapshot:new qo(this.query,e.wa,l,c,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new FE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ye(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const t=[];return e.forEach(s=>{this.pa.has(s)||t.push(new Jw(s))}),this.pa.forEach(s=>{e.has(s)||t.push(new Zw(s))}),t}Oa(e){this.fa=e.gs,this.pa=Ye();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return qo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fg="SyncEngine";class VO{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class PO{constructor(e){this.key=e,this.Ba=!1}}class UO{constructor(e,t,s,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ma(d=>yw(d),kf),this.qa=new Map,this.Qa=new Set,this.$a=new bt(Re.comparator),this.Ua=new Map,this.Ka=new Dg,this.Wa={},this.Ga=new Map,this.za=Fo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function LO(n,e,t=!0){const s=sS(n);let a;const l=s.ka.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await eS(s,e,t,!0),a}async function jO(n,e){const t=sS(n);await eS(t,e,!0,!1)}async function eS(n,e,t,s){const a=await nO(n.localStore,qr(e)),l=a.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await zO(n,e,l,c==="current",a.resumeToken)),n.isPrimaryClient&&t&&$w(n.remoteStore,a),d}async function zO(n,e,t,s,a){n.Ha=(T,S,M)=>async function(B,k,G,X){let K=k.view.ba(G);K.ls&&(K=await PE(B.localStore,k.query,!1).then(({documents:V})=>k.view.ba(V,K)));const de=X&&X.targetChanges.get(k.targetId),le=X&&X.targetMismatches.get(k.targetId)!=null,be=k.view.applyChanges(K,B.isPrimaryClient,de,le);return $E(B,k.targetId,be.Ma),be.snapshot}(n,T,S,M);const l=await PE(n.localStore,e,!0),c=new kO(e,l.gs),d=c.ba(l.documents),p=Wu.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",a),g=c.applyChanges(d,n.isPrimaryClient,p);$E(n,t,g.Ma);const v=new VO(e,t,c);return n.ka.set(e,v),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),g.snapshot}async function BO(n,e,t){const s=Ue(n),a=s.ka.get(e),l=s.qa.get(a.targetId);if(l.length>1)return s.qa.set(a.targetId,l.filter(c=>!kf(c,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Bp(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),t&&Vg(s.remoteStore,a.targetId),Hp(s,a.targetId)}).catch(Xo)):(Hp(s,a.targetId),await Bp(s.localStore,a.targetId,!0))}async function FO(n,e){const t=Ue(n),s=t.ka.get(e),a=t.qa.get(s.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Vg(t.remoteStore,s.targetId))}async function qO(n,e,t){const s=XO(n);try{const a=await function(c,d){const p=Ue(c),g=Ht.now(),v=d.reduce((M,N)=>M.add(N.key),Ye());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let N=Pi(),B=Ye();return p.ds.getEntries(M,v).next(k=>{N=k,N.forEach((G,X)=>{X.isValidDocument()||(B=B.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,N)).next(k=>{T=k;const G=[];for(const X of d){const K=nD(X,T.get(X.key).overlayedDocument);K!=null&&G.push(new ka(X.key,K,cw(K.value.mapValue),Di.exists(!0)))}return p.mutationQueue.addMutationBatch(M,g,G,d)}).next(k=>{S=k;const G=k.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(M,k.batchId,G)})}).then(()=>({batchId:S.batchId,changes:Ew(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let g=c.Wa[c.currentUser.toKey()];g||(g=new bt(qe)),g=g.insert(d,p),c.Wa[c.currentUser.toKey()]=g}(s,a.batchId,t),await Ju(s,a.changes),await Bf(s.remoteStore)}catch(a){const l=zg(a,"Failed to persist write");t.reject(l)}}async function tS(n,e){const t=Ue(n);try{const s=await JD(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ua.get(l);c&&(rt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?rt(c.Ba):a.removedDocuments.size>0&&(rt(c.Ba),c.Ba=!1))}),await Ju(t,s,e)}catch(s){await Xo(s)}}function GE(n,e,t){const s=Ue(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const a=[];s.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Ue(c);p.onlineState=d;let g=!1;p.queries.forEach((v,T)=>{for(const S of T.ta)S.sa(d)&&(g=!0)}),g&&Bg(p)}(s.eventManager,e),a.length&&s.La.p_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function HO(n,e,t){const s=Ue(n);s.sharedClientState.updateQueryState(e,"rejected",t);const a=s.Ua.get(e),l=a&&a.key;if(l){let c=new bt(Re.comparator);c=c.insert(l,dn.newNoDocument(l,Ve.min()));const d=Ye().add(l),p=new Lf(Ve.min(),new Map,new bt(qe),c,d);await tS(s,p),s.$a=s.$a.remove(l),s.Ua.delete(e),qg(s)}else await Bp(s.localStore,e,!1).then(()=>Hp(s,e,t)).catch(Xo)}async function GO(n,e){const t=Ue(n),s=e.batch.batchId;try{const a=await ZD(t.localStore,e);rS(t,s,null),nS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Ju(t,a)}catch(a){await Xo(a)}}async function $O(n,e,t){const s=Ue(n);try{const a=await function(c,d){const p=Ue(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(rt(T!==null),v=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);rS(s,e,t),nS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Ju(s,a)}catch(a){await Xo(a)}}function nS(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function rS(n,e,t){const s=Ue(n);let a=s.Wa[s.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),s.Wa[s.currentUser.toKey()]=a}}function Hp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.qa.get(e))n.ka.delete(s),t&&n.La.Ja(s,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(s=>{n.Ka.containsKey(s)||iS(n,s)})}function iS(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Vg(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),qg(n))}function $E(n,e,t){for(const s of t)s instanceof Zw?(n.Ka.addReference(s.key,e),KO(n,s)):s instanceof Jw?(ve(Fg,"Document no longer in limbo: "+s.key),n.Ka.removeReference(s.key,e),n.Ka.containsKey(s.key)||iS(n,s.key)):ke()}function KO(n,e){const t=e.key,s=t.path.canonicalString();n.$a.get(t)||n.Qa.has(s)||(ve(Fg,"New document in limbo: "+t),n.Qa.add(s),qg(n))}function qg(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Re(yt.fromString(e)),s=n.za.next();n.Ua.set(s,new PO(t)),n.$a=n.$a.insert(t,s),$w(n.remoteStore,new bs(qr(xg(t.path)),s,"TargetPurposeLimboResolution",If.ae))}}async function Ju(n,e,t){const s=Ue(n),a=[],l=[],c=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{c.push(s.Ha(p,e,t).then(g=>{var v;if((g||t)&&s.isPrimaryClient){const T=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){a.push(g);const T=Mg.Yi(p.targetId,g);l.push(T)}}))}),await Promise.all(c),s.La.p_(a),await async function(p,g){const v=Ue(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ae.forEach(g,S=>ae.forEach(S.Hi,M=>v.persistence.referenceDelegate.addReference(T,S.targetId,M)).next(()=>ae.forEach(S.Ji,M=>v.persistence.referenceDelegate.removeReference(T,S.targetId,M)))))}catch(T){if(!Wo(T))throw T;ve(kg,"Failed to update sequence numbers: "+T)}for(const T of g){const S=T.targetId;if(!T.fromCache){const M=v.Ts.get(S),N=M.snapshotVersion,B=M.withLastLimboFreeSnapshotVersion(N);v.Ts=v.Ts.insert(S,B)}}}(s.localStore,l))}async function QO(n,e){const t=Ue(n);if(!t.currentUser.isEqual(e)){ve(Fg,"User change. New user:",e.toKey());const s=await Fw(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new xe(ce.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Ju(t,s.Rs)}}function YO(n,e){const t=Ue(n),s=t.Ua.get(e);if(s&&s.Ba)return Ye().add(s.key);{let a=Ye();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function sS(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HO.bind(null,e),e.La.p_=DO.bind(null,e.eventManager),e.La.Ja=OO.bind(null,e.eventManager),e}function XO(n){const e=Ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$O.bind(null,e),e}class pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return WD(this.persistence,new QD,e.initialUser,this.serializer)}Xa(e){return new Bw(Og.ri,this.serializer)}Za(e){return new iO}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pf.provider={build:()=>new pf};class WO extends pf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){rt(this.persistence.referenceDelegate instanceof df);const s=this.persistence.referenceDelegate.garbageCollector;return new MD(s,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new Bw(s=>df.ri(s,t),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>GE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=QO.bind(null,this.syncEngine),await xO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CO}()}createDatastore(e){const t=jf(e.databaseInfo.databaseId),s=function(l){return new uO(l)}(e.databaseInfo);return function(l,c,d,p){return new dO(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,a,l,c,d){return new pO(s,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>GE(this.syncEngine,t,0),function(){return jE.D()?new jE:new sO}())}createSyncEngine(e,t){return function(a,l,c,d,p,g,v){const T=new UO(a,l,c,d,p,g);return v&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ue(a);ve(Ca,"RemoteStore shutting down."),l.W_.add(5),await Zu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="FirestoreClient";class JO{constructor(e,t,s,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=a,this.user=fn.UNAUTHENTICATED,this.clientId=ew.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async c=>{ve(Os,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(s,c=>(ve(Os,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ba;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=zg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function mp(n,e){n.asyncQueue.verifyOperationInProgress(),ve(Os,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Fw(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function KE(n,e){n.asyncQueue.verifyOperationInProgress();const t=await eM(n);ve(Os,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>BE(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,a)=>BE(e.remoteStore,a)),n._onlineComponents=e}async function eM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve(Os,"Using user provided OfflineComponentProvider");try{await mp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ce.FAILED_PRECONDITION||a.code===ce.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Lo("Error using user provided cache. Falling back to memory cache: "+t),await mp(n,new pf)}}else ve(Os,"Using default OfflineComponentProvider"),await mp(n,new WO(void 0));return n._offlineComponents}async function aS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve(Os,"Using user provided OnlineComponentProvider"),await KE(n,n._uninitializedComponentsProvider._online)):(ve(Os,"Using default OnlineComponentProvider"),await KE(n,new Gp))),n._onlineComponents}function tM(n){return aS(n).then(e=>e.syncEngine)}async function QE(n){const e=await aS(n),t=e.eventManager;return t.onListen=LO.bind(null,e.syncEngine),t.onUnlisten=BO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FO.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(n,e,t){if(!t)throw new xe(ce.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function nM(n,e,t,s){if(e===!0&&s===!0)throw new xe(ce.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XE(n){if(!Re.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WE(n){if(Re.isDocumentKey(n))throw new xe(ce.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Hg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ke()}function Au(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new xe(ce.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Hg(n);throw new xe(ce.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firestore.googleapis.com",ZE=!0;class JE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(ce.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=uS,this.ssl=ZE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DD)throw new xe(ce.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oS((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new xe(ce.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ff{constructor(e,t,s,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(ce.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(ce.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new aI;switch(s.type){case"firstParty":return new cI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new xe(ce.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=YE.get(t);s&&(ve("ComponentProvider","Removing Datastore"),YE.delete(t),s.terminate())}(this),Promise.resolve()}}function rM(n,e,t,s={}){var a;const l=(n=Au(n,Ff))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==uS&&l.host!==d&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:s});if(!wa(p,c)&&(n._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=fn.MOCK_USER;else{g=ER(s.mockUserToken,(a=n._app)===null||a===void 0?void 0:a.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new xe(ce.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new fn(T)}n._authCredentials=new oI(new ZT(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new qf(this.firestore,e,this._query)}}class rr{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new rr(this.firestore,e,this._key)}}class xs extends qf{constructor(e,t,s){super(e,t,xg(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new rr(this.firestore,null,new Re(e))}withConverter(e){return new xs(this.firestore,e,this._path)}}function eb(n,e,...t){if(n=Nn(n),lS("collection","path",e),n instanceof Ff){const s=yt.fromString(e,...t);return WE(s),new xs(n,null,s)}{if(!(n instanceof rr||n instanceof xs))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(yt.fromString(e,...t));return WE(s),new xs(n.firestore,null,s)}}function iM(n,e,...t){if(n=Nn(n),arguments.length===1&&(e=ew.newId()),lS("doc","path",e),n instanceof Ff){const s=yt.fromString(e,...t);return XE(s),new rr(n,null,new Re(s))}{if(!(n instanceof rr||n instanceof xs))throw new xe(ce.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(yt.fromString(e,...t));return XE(s),new rr(n.firestore,n instanceof xs?n.converter:null,new Re(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="AsyncQueue";class nb{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Hw(this,"async_queue_retry"),this.Su=()=>{const s=dp();s&&ve(tb,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const t=dp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=dp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ba;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Wo(e))throw e;ve(tb,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(s);throw Vi("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.pu=!1,s))));return this.bu=t,t}enqueueAfterDelay(e,t,s){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=jg.createAndSchedule(this,e,t,s,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&ke()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function rb(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of s)if(l in a&&typeof a[l]=="function")return!0;return!1}(n,["next","error","complete"])}class gf extends Ff{constructor(e,t,s,a){super(e,t,s,a),this.type="firestore",this._queue=new nb,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nb(e),this._firestoreClient=void 0,await e}}}function sM(n,e){const t=typeof n=="object"?n:lT(),s=typeof n=="string"?n:of,a=cg(t,"firestore").getImmediate({identifier:s});if(!a._initialized){const l=vR("firestore");l&&rM(a,...l)}return a}function cS(n){if(n._terminated)throw new xe(ce.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||aM(n),n._firestoreClient}function aM(n){var e,t,s;const a=n._freezeSettings(),l=function(d,p,g,v){return new AI(d,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,oS(v.experimentalLongPollingOptions),v.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,a);n._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),n._firestoreClient=new JO(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ho(on.fromBase64String(e))}catch(t){throw new xe(ce.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ho(on.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new xe(ce.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xe(ce.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xe(ce.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qe(this._lat,e._lat)||qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oM=/^__.*__$/;class lM{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ka(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xu(e,this.data,t,this.fieldTransforms)}}function hS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ke()}}class Yg{constructor(e,t,s,a,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.$u(e),a}Uu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:s,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return yf(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(hS(this.Lu)&&oM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class uM{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||jf(e)}ju(e,t,s,a=!1){return new Yg({Lu:e,methodName:t,zu:s,path:an.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cM(n){const e=n._freezeSettings(),t=jf(n._databaseId);return new uM(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hM(n,e,t,s,a,l={}){const c=n.ju(l.merge||l.mergeFields?2:0,e,t,a);pS("Data must be an object, but it was:",c,s);const d=dS(s,c);let p,g;if(l.merge)p=new pr(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=fM(e,T,t);if(!c.contains(S))throw new xe(ce.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);mM(v,S)||v.push(S)}p=new pr(v),g=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=c.fieldTransforms;return new lM(new nr(d),p,g)}class Xg extends $g{_toFieldTransform(e){return new ZI(e.path,new Uu)}isEqual(e){return e instanceof Xg}}function fS(n,e){if(mS(n=Nn(n)))return pS("Unsupported field value:",e,n),dS(n,e);if(n instanceof $g)return function(s,a){if(!hS(a.Lu))throw a.Wu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,a){const l=[];let c=0;for(const d of s){let p=fS(d,a.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(s,a){if((s=Nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return YI(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Ht.fromDate(s);return{timestampValue:ff(a.serializer,l)}}if(s instanceof Ht){const l=new Ht(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ff(a.serializer,l)}}if(s instanceof Kg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ho)return{bytesValue:Mw(a.serializer,s._byteString)};if(s instanceof rr){const l=a.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ig(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof Qg)return function(c,d){return{mapValue:{fields:{[lw]:{stringValue:uw},[lf]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Rg(d.serializer,g)})}}}}}}(s,a);throw a.Wu(`Unsupported field value: ${Hg(s)}`)}(n,e)}function dS(n,e){const t={};return nw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Oa(n,(s,a)=>{const l=fS(a,e.qu(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function mS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ht||n instanceof Kg||n instanceof Ho||n instanceof rr||n instanceof $g||n instanceof Qg)}function pS(n,e,t){if(!mS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const s=Hg(t);throw s==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+s)}}function fM(n,e,t){if((e=Nn(e))instanceof Gg)return e._internalPath;if(typeof e=="string")return gS(n,e);throw yf("Field path arguments must be of type string or ",n,!1,void 0,t)}const dM=new RegExp("[~\\*/\\[\\]]");function gS(n,e,t){if(e.search(dM)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gg(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function yf(n,e,t,s,a){const l=s&&!s.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${s}`),c&&(p+=` in document ${a}`),p+=")"),new xe(ce.INVALID_ARGUMENT,d+n+p)}function mM(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,t,s,a,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new rr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class pM extends yS{data(){return super.data()}}function vS(n,e){return typeof e=="string"?gS(n,e):e instanceof Gg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new xe(ce.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yM{convertValue(e,t="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ns(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ke()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Oa(e,(a,l)=>{s[a]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,a;const l=(a=(s=(t=e.fields)===null||t===void 0?void 0:t[lf].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(c=>Ct(c.doubleValue));return new Qg(l)}convertGeoPoint(e){return new Kg(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Of(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ku(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new Ht(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=yt.fromString(e);rt(jw(s));const a=new Vu(s.get(1),s.get(3)),l=new Re(s.popFirst(5));return a.isEqual(t)||Vi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _S extends yS{constructor(e,t,s,a,l,c){super(e,t,s,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(vS("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class Hh extends _S{data(e={}){return super.data(e)}}class _M{constructor(e,t,s,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new _u(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new Hh(this._firestore,this._userDataWriter,s.key,s,new _u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xe(ce.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new Hh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new _u(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:EM(d.type),doc:p,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function EM(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ke()}}class ES extends yM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ho(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new rr(this.firestore,null,t)}}function bM(n,e){const t=Au(n.firestore,gf),s=iM(n),a=vM(n.converter,e);return wM(t,[hM(cM(n.firestore),"addDoc",s._key,a,n.converter!==null,{}).toMutation(s._key,Di.exists(!1))]).then(()=>s)}function TM(n,...e){var t,s,a;n=Nn(n);let l={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||rb(e[c])||(l=e[c],c++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(rb(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[c+2]=(a=T.complete)===null||a===void 0?void 0:a.bind(T)}let p,g,v;if(n instanceof rr)g=Au(n.firestore,gf),v=xg(n._key.path),p={next:T=>{e[c]&&e[c](SM(g,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Au(n,qf);g=Au(T.firestore,gf),v=T._query;const S=new ES(g);p={next:M=>{e[c]&&e[c](new _M(g,S,T,M))},error:e[c+1],complete:e[c+2]},gM(n._query)}return function(S,M,N,B){const k=new ZO(B),G=new MO(M,k,N);return S.asyncQueue.enqueueAndForget(async()=>NO(await QE(S),G)),()=>{k.su(),S.asyncQueue.enqueueAndForget(async()=>IO(await QE(S),G))}}(cS(g),v,d,p)}function wM(n,e){return function(s,a){const l=new ba;return s.asyncQueue.enqueueAndForget(async()=>qO(await tM(s),a,l)),l.promise}(cS(n),e)}function SM(n,e,t){const s=t.docs.get(e._key),a=new ES(n);return new _S(n,a,e._key,s,new _u(t.hasPendingWrites,t.fromCache),e.converter)}function AM(){return new Xg("serverTimestamp")}(function(e,t=!0){(function(a){Yo=a})(Ko),Uo(new Sa("firestore",(s,{instanceIdentifier:a,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new gf(new lI(s.getProvider("auth-internal")),new hI(c,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new xe(ce.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vu(g.options.projectId,v)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Ss(aE,oE,e),Ss(aE,oE,"esm2017")})();const xM={apiKey:"AIzaSyBekPJZDknXYcniQ3-FxpMHKH8TPXHwLK8",authDomain:"hostel-management-b1de9.firebaseapp.com",projectId:"hostel-management-b1de9",storageBucket:"hostel-management-b1de9.firebasestorage.app",messagingSenderId:"765162549190",appId:"1:765162549190:web:d63f6aa273047f5abdccc7"},bS=oT(xM),Hf=nI(bS),ga=()=>new Promise((n,e)=>{GC(Hf,t=>{t?n(t.uid):e("No user signed in")})});new xi;const ib=sM(bS);function TS(n,e){return function(){return n.apply(e,arguments)}}const{toString:RM}=Object.prototype,{getPrototypeOf:Wg}=Object,Gf=(n=>e=>{const t=RM.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),yr=n=>(n=n.toLowerCase(),e=>Gf(e)===n),$f=n=>e=>typeof e===n,{isArray:Jo}=Array,zu=$f("undefined");function CM(n){return n!==null&&!zu(n)&&n.constructor!==null&&!zu(n.constructor)&&zn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const wS=yr("ArrayBuffer");function NM(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&wS(n.buffer),e}const IM=$f("string"),zn=$f("function"),SS=$f("number"),Kf=n=>n!==null&&typeof n=="object",DM=n=>n===!0||n===!1,Gh=n=>{if(Gf(n)!=="object")return!1;const e=Wg(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},OM=yr("Date"),MM=yr("File"),kM=yr("Blob"),VM=yr("FileList"),PM=n=>Kf(n)&&zn(n.pipe),UM=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||zn(n.append)&&((e=Gf(n))==="formdata"||e==="object"&&zn(n.toString)&&n.toString()==="[object FormData]"))},LM=yr("URLSearchParams"),[jM,zM,BM,FM]=["ReadableStream","Request","Response","Headers"].map(yr),qM=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ec(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let s,a;if(typeof n!="object"&&(n=[n]),Jo(n))for(s=0,a=n.length;s<a;s++)e.call(null,n[s],s,n);else{const l=t?Object.getOwnPropertyNames(n):Object.keys(n),c=l.length;let d;for(s=0;s<c;s++)d=l[s],e.call(null,n[d],d,n)}}function AS(n,e){e=e.toLowerCase();const t=Object.keys(n);let s=t.length,a;for(;s-- >0;)if(a=t[s],e===a.toLowerCase())return a;return null}const va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,xS=n=>!zu(n)&&n!==va;function $p(){const{caseless:n}=xS(this)&&this||{},e={},t=(s,a)=>{const l=n&&AS(e,a)||a;Gh(e[l])&&Gh(s)?e[l]=$p(e[l],s):Gh(s)?e[l]=$p({},s):Jo(s)?e[l]=s.slice():e[l]=s};for(let s=0,a=arguments.length;s<a;s++)arguments[s]&&ec(arguments[s],t);return e}const HM=(n,e,t,{allOwnKeys:s}={})=>(ec(e,(a,l)=>{t&&zn(a)?n[l]=TS(a,t):n[l]=a},{allOwnKeys:s}),n),GM=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),$M=(n,e,t,s)=>{n.prototype=Object.create(e.prototype,s),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},KM=(n,e,t,s)=>{let a,l,c;const d={};if(e=e||{},n==null)return e;do{for(a=Object.getOwnPropertyNames(n),l=a.length;l-- >0;)c=a[l],(!s||s(c,n,e))&&!d[c]&&(e[c]=n[c],d[c]=!0);n=t!==!1&&Wg(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},QM=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const s=n.indexOf(e,t);return s!==-1&&s===t},YM=n=>{if(!n)return null;if(Jo(n))return n;let e=n.length;if(!SS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},XM=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Wg(Uint8Array)),WM=(n,e)=>{const s=(n&&n[Symbol.iterator]).call(n);let a;for(;(a=s.next())&&!a.done;){const l=a.value;e.call(n,l[0],l[1])}},ZM=(n,e)=>{let t;const s=[];for(;(t=n.exec(e))!==null;)s.push(t);return s},JM=yr("HTMLFormElement"),ek=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,a){return s.toUpperCase()+a}),sb=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),tk=yr("RegExp"),RS=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),s={};ec(t,(a,l)=>{let c;(c=e(a,l,n))!==!1&&(s[l]=c||a)}),Object.defineProperties(n,s)},nk=n=>{RS(n,(e,t)=>{if(zn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=n[t];if(zn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},rk=(n,e)=>{const t={},s=a=>{a.forEach(l=>{t[l]=!0})};return Jo(n)?s(n):s(String(n).split(e)),t},ik=()=>{},sk=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function ak(n){return!!(n&&zn(n.append)&&n[Symbol.toStringTag]==="FormData"&&n[Symbol.iterator])}const ok=n=>{const e=new Array(10),t=(s,a)=>{if(Kf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[a]=s;const l=Jo(s)?[]:{};return ec(s,(c,d)=>{const p=t(c,a+1);!zu(p)&&(l[d]=p)}),e[a]=void 0,l}}return s};return t(n,0)},lk=yr("AsyncFunction"),uk=n=>n&&(Kf(n)||zn(n))&&zn(n.then)&&zn(n.catch),CS=((n,e)=>n?setImmediate:e?((t,s)=>(va.addEventListener("message",({source:a,data:l})=>{a===va&&l===t&&s.length&&s.shift()()},!1),a=>{s.push(a),va.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",zn(va.postMessage)),ck=typeof queueMicrotask<"u"?queueMicrotask.bind(va):typeof process<"u"&&process.nextTick||CS,ee={isArray:Jo,isArrayBuffer:wS,isBuffer:CM,isFormData:UM,isArrayBufferView:NM,isString:IM,isNumber:SS,isBoolean:DM,isObject:Kf,isPlainObject:Gh,isReadableStream:jM,isRequest:zM,isResponse:BM,isHeaders:FM,isUndefined:zu,isDate:OM,isFile:MM,isBlob:kM,isRegExp:tk,isFunction:zn,isStream:PM,isURLSearchParams:LM,isTypedArray:XM,isFileList:VM,forEach:ec,merge:$p,extend:HM,trim:qM,stripBOM:GM,inherits:$M,toFlatObject:KM,kindOf:Gf,kindOfTest:yr,endsWith:QM,toArray:YM,forEachEntry:WM,matchAll:ZM,isHTMLForm:JM,hasOwnProperty:sb,hasOwnProp:sb,reduceDescriptors:RS,freezeMethods:nk,toObjectSet:rk,toCamelCase:ek,noop:ik,toFiniteNumber:sk,findKey:AS,global:va,isContextDefined:xS,isSpecCompliantForm:ak,toJSONObject:ok,isAsyncFn:lk,isThenable:uk,setImmediate:CS,asap:ck};function Le(n,e,t,s,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),a&&(this.response=a,this.status=a.status?a.status:null)}ee.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ee.toJSONObject(this.config),code:this.code,status:this.status}}});const NS=Le.prototype,IS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{IS[n]={value:n}});Object.defineProperties(Le,IS);Object.defineProperty(NS,"isAxiosError",{value:!0});Le.from=(n,e,t,s,a,l)=>{const c=Object.create(NS);return ee.toFlatObject(n,c,function(p){return p!==Error.prototype},d=>d!=="isAxiosError"),Le.call(c,n.message,e,t,s,a),c.cause=n,c.name=n.name,l&&Object.assign(c,l),c};const hk=null;function Kp(n){return ee.isPlainObject(n)||ee.isArray(n)}function DS(n){return ee.endsWith(n,"[]")?n.slice(0,-2):n}function ab(n,e,t){return n?n.concat(e).map(function(a,l){return a=DS(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function fk(n){return ee.isArray(n)&&!n.some(Kp)}const dk=ee.toFlatObject(ee,{},null,function(e){return/^is[A-Z]/.test(e)});function Qf(n,e,t){if(!ee.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=ee.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,k){return!ee.isUndefined(k[B])});const s=t.metaTokens,a=t.visitor||v,l=t.dots,c=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&ee.isSpecCompliantForm(e);if(!ee.isFunction(a))throw new TypeError("visitor must be a function");function g(N){if(N===null)return"";if(ee.isDate(N))return N.toISOString();if(!p&&ee.isBlob(N))throw new Le("Blob is not supported. Use a Buffer instead.");return ee.isArrayBuffer(N)||ee.isTypedArray(N)?p&&typeof Blob=="function"?new Blob([N]):Buffer.from(N):N}function v(N,B,k){let G=N;if(N&&!k&&typeof N=="object"){if(ee.endsWith(B,"{}"))B=s?B:B.slice(0,-2),N=JSON.stringify(N);else if(ee.isArray(N)&&fk(N)||(ee.isFileList(N)||ee.endsWith(B,"[]"))&&(G=ee.toArray(N)))return B=DS(B),G.forEach(function(K,de){!(ee.isUndefined(K)||K===null)&&e.append(c===!0?ab([B],de,l):c===null?B:B+"[]",g(K))}),!1}return Kp(N)?!0:(e.append(ab(k,B,l),g(N)),!1)}const T=[],S=Object.assign(dk,{defaultVisitor:v,convertValue:g,isVisitable:Kp});function M(N,B){if(!ee.isUndefined(N)){if(T.indexOf(N)!==-1)throw Error("Circular reference detected in "+B.join("."));T.push(N),ee.forEach(N,function(G,X){(!(ee.isUndefined(G)||G===null)&&a.call(e,G,ee.isString(X)?X.trim():X,B,S))===!0&&M(G,B?B.concat(X):[X])}),T.pop()}}if(!ee.isObject(n))throw new TypeError("data must be an object");return M(n),e}function ob(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Zg(n,e){this._pairs=[],n&&Qf(n,this,e)}const OS=Zg.prototype;OS.append=function(e,t){this._pairs.push([e,t])};OS.toString=function(e){const t=e?function(s){return e.call(this,s,ob)}:ob;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function mk(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function MS(n,e,t){if(!e)return n;const s=t&&t.encode||mk;ee.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=ee.isURLSearchParams(e)?e.toString():new Zg(e,t).toString(s),l){const c=n.indexOf("#");c!==-1&&(n=n.slice(0,c)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class lb{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ee.forEach(this.handlers,function(s){s!==null&&e(s)})}}const kS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},pk=typeof URLSearchParams<"u"?URLSearchParams:Zg,gk=typeof FormData<"u"?FormData:null,yk=typeof Blob<"u"?Blob:null,vk={isBrowser:!0,classes:{URLSearchParams:pk,FormData:gk,Blob:yk},protocols:["http","https","file","blob","url","data"]},Jg=typeof window<"u"&&typeof document<"u",Qp=typeof navigator=="object"&&navigator||void 0,_k=Jg&&(!Qp||["ReactNative","NativeScript","NS"].indexOf(Qp.product)<0),Ek=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bk=Jg&&window.location.href||"http://localhost",Tk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Jg,hasStandardBrowserEnv:_k,hasStandardBrowserWebWorkerEnv:Ek,navigator:Qp,origin:bk},Symbol.toStringTag,{value:"Module"})),mn={...Tk,...vk};function wk(n,e){return Qf(n,new mn.classes.URLSearchParams,Object.assign({visitor:function(t,s,a,l){return mn.isNode&&ee.isBuffer(t)?(this.append(s,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function Sk(n){return ee.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Ak(n){const e={},t=Object.keys(n);let s;const a=t.length;let l;for(s=0;s<a;s++)l=t[s],e[l]=n[l];return e}function VS(n){function e(t,s,a,l){let c=t[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),p=l>=t.length;return c=!c&&ee.isArray(a)?a.length:c,p?(ee.hasOwnProp(a,c)?a[c]=[a[c],s]:a[c]=s,!d):((!a[c]||!ee.isObject(a[c]))&&(a[c]=[]),e(t,s,a[c],l)&&ee.isArray(a[c])&&(a[c]=Ak(a[c])),!d)}if(ee.isFormData(n)&&ee.isFunction(n.entries)){const t={};return ee.forEachEntry(n,(s,a)=>{e(Sk(s),a,t,0)}),t}return null}function xk(n,e,t){if(ee.isString(n))try{return(e||JSON.parse)(n),ee.trim(n)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(n)}const tc={transitional:kS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",a=s.indexOf("application/json")>-1,l=ee.isObject(e);if(l&&ee.isHTMLForm(e)&&(e=new FormData(e)),ee.isFormData(e))return a?JSON.stringify(VS(e)):e;if(ee.isArrayBuffer(e)||ee.isBuffer(e)||ee.isStream(e)||ee.isFile(e)||ee.isBlob(e)||ee.isReadableStream(e))return e;if(ee.isArrayBufferView(e))return e.buffer;if(ee.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(s.indexOf("application/x-www-form-urlencoded")>-1)return wk(e,this.formSerializer).toString();if((d=ee.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return Qf(d?{"files[]":e}:e,p&&new p,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),xk(e)):e}],transformResponse:[function(e){const t=this.transitional||tc.transitional,s=t&&t.forcedJSONParsing,a=this.responseType==="json";if(ee.isResponse(e)||ee.isReadableStream(e))return e;if(e&&ee.isString(e)&&(s&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?Le.from(d,Le.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mn.classes.FormData,Blob:mn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ee.forEach(["delete","get","head","post","put","patch"],n=>{tc.headers[n]={}});const Rk=ee.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ck=n=>{const e={};let t,s,a;return n&&n.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),s=c.substring(a+1).trim(),!(!t||e[t]&&Rk[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},ub=Symbol("internals");function cu(n){return n&&String(n).trim().toLowerCase()}function $h(n){return n===!1||n==null?n:ee.isArray(n)?n.map($h):String(n)}function Nk(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(n);)e[s[1]]=s[2];return e}const Ik=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function pp(n,e,t,s,a){if(ee.isFunction(s))return s.call(this,e,t);if(a&&(e=t),!!ee.isString(e)){if(ee.isString(s))return e.indexOf(s)!==-1;if(ee.isRegExp(s))return s.test(e)}}function Dk(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function Ok(n,e){const t=ee.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(n,s+t,{value:function(a,l,c){return this[s].call(this,e,a,l,c)},configurable:!0})})}let Cn=class{constructor(e){e&&this.set(e)}set(e,t,s){const a=this;function l(d,p,g){const v=cu(p);if(!v)throw new Error("header name must be a non-empty string");const T=ee.findKey(a,v);(!T||a[T]===void 0||g===!0||g===void 0&&a[T]!==!1)&&(a[T||p]=$h(d))}const c=(d,p)=>ee.forEach(d,(g,v)=>l(g,v,p));if(ee.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(ee.isString(e)&&(e=e.trim())&&!Ik(e))c(Ck(e),t);else if(ee.isHeaders(e))for(const[d,p]of e.entries())l(p,d,s);else e!=null&&l(t,e,s);return this}get(e,t){if(e=cu(e),e){const s=ee.findKey(this,e);if(s){const a=this[s];if(!t)return a;if(t===!0)return Nk(a);if(ee.isFunction(t))return t.call(this,a,s);if(ee.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=cu(e),e){const s=ee.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||pp(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let a=!1;function l(c){if(c=cu(c),c){const d=ee.findKey(s,c);d&&(!t||pp(s,s[d],d,t))&&(delete s[d],a=!0)}}return ee.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let s=t.length,a=!1;for(;s--;){const l=t[s];(!e||pp(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,s={};return ee.forEach(this,(a,l)=>{const c=ee.findKey(s,l);if(c){t[c]=$h(a),delete t[l];return}const d=e?Dk(l):String(l).trim();d!==l&&delete t[l],t[d]=$h(a),s[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ee.forEach(this,(s,a)=>{s!=null&&s!==!1&&(t[a]=e&&ee.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(a=>s.set(a)),s}static accessor(e){const s=(this[ub]=this[ub]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=cu(c);s[d]||(Ok(a,c),s[d]=!0)}return ee.isArray(e)?e.forEach(l):l(e),this}};Cn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ee.reduceDescriptors(Cn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(s){this[t]=s}}});ee.freezeMethods(Cn);function gp(n,e){const t=this||tc,s=e||t,a=Cn.from(s.headers);let l=s.data;return ee.forEach(n,function(d){l=d.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function PS(n){return!!(n&&n.__CANCEL__)}function el(n,e,t){Le.call(this,n??"canceled",Le.ERR_CANCELED,e,t),this.name="CanceledError"}ee.inherits(el,Le,{__CANCEL__:!0});function US(n,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?n(t):e(new Le("Request failed with status code "+t.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Mk(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function kk(n,e){n=n||10;const t=new Array(n),s=new Array(n);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),v=s[l];c||(c=g),t[a]=p,s[a]=g;let T=l,S=0;for(;T!==a;)S+=t[T++],T=T%n;if(a=(a+1)%n,a===l&&(l=(l+1)%n),g-c<e)return;const M=v&&g-v;return M?Math.round(S*1e3/M):void 0}}function Vk(n,e){let t=0,s=1e3/e,a,l;const c=(g,v=Date.now())=>{t=v,a=null,l&&(clearTimeout(l),l=null),n.apply(null,g)};return[(...g)=>{const v=Date.now(),T=v-t;T>=s?c(g,v):(a=g,l||(l=setTimeout(()=>{l=null,c(a)},s-T)))},()=>a&&c(a)]}const vf=(n,e,t=3)=>{let s=0;const a=kk(50,250);return Vk(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,p=c-s,g=a(p),v=c<=d;s=c;const T={loaded:c,total:d,progress:d?c/d:void 0,bytes:p,rate:g||void 0,estimated:g&&d&&v?(d-c)/g:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};n(T)},t)},cb=(n,e)=>{const t=n!=null;return[s=>e[0]({lengthComputable:t,total:n,loaded:s}),e[1]]},hb=n=>(...e)=>ee.asap(()=>n(...e)),Pk=mn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,mn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(mn.origin),mn.navigator&&/(msie|trident)/i.test(mn.navigator.userAgent)):()=>!0,Uk=mn.hasStandardBrowserEnv?{write(n,e,t,s,a,l){const c=[n+"="+encodeURIComponent(e)];ee.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),ee.isString(s)&&c.push("path="+s),ee.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Lk(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function jk(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function LS(n,e,t){let s=!Lk(e);return n&&(s||t==!1)?jk(n,e):e}const fb=n=>n instanceof Cn?{...n}:n;function Na(n,e){e=e||{};const t={};function s(g,v,T,S){return ee.isPlainObject(g)&&ee.isPlainObject(v)?ee.merge.call({caseless:S},g,v):ee.isPlainObject(v)?ee.merge({},v):ee.isArray(v)?v.slice():v}function a(g,v,T,S){if(ee.isUndefined(v)){if(!ee.isUndefined(g))return s(void 0,g,T,S)}else return s(g,v,T,S)}function l(g,v){if(!ee.isUndefined(v))return s(void 0,v)}function c(g,v){if(ee.isUndefined(v)){if(!ee.isUndefined(g))return s(void 0,g)}else return s(void 0,v)}function d(g,v,T){if(T in e)return s(g,v);if(T in n)return s(void 0,g)}const p={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,v,T)=>a(fb(g),fb(v),T,!0)};return ee.forEach(Object.keys(Object.assign({},n,e)),function(v){const T=p[v]||a,S=T(n[v],e[v],v);ee.isUndefined(S)&&T!==d||(t[v]=S)}),t}const jS=n=>{const e=Na({},n);let{data:t,withXSRFToken:s,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=Cn.from(c),e.url=MS(LS(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let p;if(ee.isFormData(t)){if(mn.hasStandardBrowserEnv||mn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((p=c.getContentType())!==!1){const[g,...v]=p?p.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...v].join("; "))}}if(mn.hasStandardBrowserEnv&&(s&&ee.isFunction(s)&&(s=s(e)),s||s!==!1&&Pk(e.url))){const g=a&&l&&Uk.read(l);g&&c.set(a,g)}return e},zk=typeof XMLHttpRequest<"u",Bk=zk&&function(n){return new Promise(function(t,s){const a=jS(n);let l=a.data;const c=Cn.from(a.headers).normalize();let{responseType:d,onUploadProgress:p,onDownloadProgress:g}=a,v,T,S,M,N;function B(){M&&M(),N&&N(),a.cancelToken&&a.cancelToken.unsubscribe(v),a.signal&&a.signal.removeEventListener("abort",v)}let k=new XMLHttpRequest;k.open(a.method.toUpperCase(),a.url,!0),k.timeout=a.timeout;function G(){if(!k)return;const K=Cn.from("getAllResponseHeaders"in k&&k.getAllResponseHeaders()),le={data:!d||d==="text"||d==="json"?k.responseText:k.response,status:k.status,statusText:k.statusText,headers:K,config:n,request:k};US(function(V){t(V),B()},function(V){s(V),B()},le),k=null}"onloadend"in k?k.onloadend=G:k.onreadystatechange=function(){!k||k.readyState!==4||k.status===0&&!(k.responseURL&&k.responseURL.indexOf("file:")===0)||setTimeout(G)},k.onabort=function(){k&&(s(new Le("Request aborted",Le.ECONNABORTED,n,k)),k=null)},k.onerror=function(){s(new Le("Network Error",Le.ERR_NETWORK,n,k)),k=null},k.ontimeout=function(){let de=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const le=a.transitional||kS;a.timeoutErrorMessage&&(de=a.timeoutErrorMessage),s(new Le(de,le.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,n,k)),k=null},l===void 0&&c.setContentType(null),"setRequestHeader"in k&&ee.forEach(c.toJSON(),function(de,le){k.setRequestHeader(le,de)}),ee.isUndefined(a.withCredentials)||(k.withCredentials=!!a.withCredentials),d&&d!=="json"&&(k.responseType=a.responseType),g&&([S,N]=vf(g,!0),k.addEventListener("progress",S)),p&&k.upload&&([T,M]=vf(p),k.upload.addEventListener("progress",T),k.upload.addEventListener("loadend",M)),(a.cancelToken||a.signal)&&(v=K=>{k&&(s(!K||K.type?new el(null,n,k):K),k.abort(),k=null)},a.cancelToken&&a.cancelToken.subscribe(v),a.signal&&(a.signal.aborted?v():a.signal.addEventListener("abort",v)));const X=Mk(a.url);if(X&&mn.protocols.indexOf(X)===-1){s(new Le("Unsupported protocol "+X+":",Le.ERR_BAD_REQUEST,n));return}k.send(l||null)})},Fk=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let s=new AbortController,a;const l=function(g){if(!a){a=!0,d();const v=g instanceof Error?g:this.reason;s.abort(v instanceof Le?v:new el(v instanceof Error?v.message:v))}};let c=e&&setTimeout(()=>{c=null,l(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const d=()=>{n&&(c&&clearTimeout(c),c=null,n.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),n=null)};n.forEach(g=>g.addEventListener("abort",l));const{signal:p}=s;return p.unsubscribe=()=>ee.asap(d),p}},qk=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let s=0,a;for(;s<t;)a=s+e,yield n.slice(s,a),s=a},Hk=async function*(n,e){for await(const t of Gk(n))yield*qk(t,e)},Gk=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},db=(n,e,t,s)=>{const a=Hk(n,e);let l=0,c,d=p=>{c||(c=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:v}=await a.next();if(g){d(),p.close();return}let T=v.byteLength;if(t){let S=l+=T;t(S)}p.enqueue(new Uint8Array(v))}catch(g){throw d(g),g}},cancel(p){return d(p),a.return()}},{highWaterMark:2})},Yf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zS=Yf&&typeof ReadableStream=="function",$k=Yf&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),BS=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Kk=zS&&BS(()=>{let n=!1;const e=new Request(mn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),mb=64*1024,Yp=zS&&BS(()=>ee.isReadableStream(new Response("").body)),_f={stream:Yp&&(n=>n.body)};Yf&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!_f[e]&&(_f[e]=ee.isFunction(n[e])?t=>t[e]():(t,s)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,s)})})})(new Response);const Qk=async n=>{if(n==null)return 0;if(ee.isBlob(n))return n.size;if(ee.isSpecCompliantForm(n))return(await new Request(mn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(ee.isArrayBufferView(n)||ee.isArrayBuffer(n))return n.byteLength;if(ee.isURLSearchParams(n)&&(n=n+""),ee.isString(n))return(await $k(n)).byteLength},Yk=async(n,e)=>{const t=ee.toFiniteNumber(n.getContentLength());return t??Qk(e)},Xk=Yf&&(async n=>{let{url:e,method:t,data:s,signal:a,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:p,responseType:g,headers:v,withCredentials:T="same-origin",fetchOptions:S}=jS(n);g=g?(g+"").toLowerCase():"text";let M=Fk([a,l&&l.toAbortSignal()],c),N;const B=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let k;try{if(p&&Kk&&t!=="get"&&t!=="head"&&(k=await Yk(v,s))!==0){let le=new Request(e,{method:"POST",body:s,duplex:"half"}),be;if(ee.isFormData(s)&&(be=le.headers.get("content-type"))&&v.setContentType(be),le.body){const[V,C]=cb(k,vf(hb(p)));s=db(le.body,mb,V,C)}}ee.isString(T)||(T=T?"include":"omit");const G="credentials"in Request.prototype;N=new Request(e,{...S,signal:M,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:s,duplex:"half",credentials:G?T:void 0});let X=await fetch(N);const K=Yp&&(g==="stream"||g==="response");if(Yp&&(d||K&&B)){const le={};["status","statusText","headers"].forEach(I=>{le[I]=X[I]});const be=ee.toFiniteNumber(X.headers.get("content-length")),[V,C]=d&&cb(be,vf(hb(d),!0))||[];X=new Response(db(X.body,mb,V,()=>{C&&C(),B&&B()}),le)}g=g||"text";let de=await _f[ee.findKey(_f,g)||"text"](X,n);return!K&&B&&B(),await new Promise((le,be)=>{US(le,be,{data:de,headers:Cn.from(X.headers),status:X.status,statusText:X.statusText,config:n,request:N})})}catch(G){throw B&&B(),G&&G.name==="TypeError"&&/fetch/i.test(G.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,n,N),{cause:G.cause||G}):Le.from(G,G&&G.code,n,N)}}),Xp={http:hk,xhr:Bk,fetch:Xk};ee.forEach(Xp,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const pb=n=>`- ${n}`,Wk=n=>ee.isFunction(n)||n===null||n===!1,FS={getAdapter:n=>{n=ee.isArray(n)?n:[n];const{length:e}=n;let t,s;const a={};for(let l=0;l<e;l++){t=n[l];let c;if(s=t,!Wk(t)&&(s=Xp[(c=String(t)).toLowerCase()],s===void 0))throw new Le(`Unknown adapter '${c}'`);if(s)break;a[c||"#"+l]=s}if(!s){const l=Object.entries(a).map(([d,p])=>`adapter ${d} `+(p===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(pb).join(`
`):" "+pb(l[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return s},adapters:Xp};function yp(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new el(null,n)}function gb(n){return yp(n),n.headers=Cn.from(n.headers),n.data=gp.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),FS.getAdapter(n.adapter||tc.adapter)(n).then(function(s){return yp(n),s.data=gp.call(n,n.transformResponse,s),s.headers=Cn.from(s.headers),s},function(s){return PS(s)||(yp(n),s&&s.response&&(s.response.data=gp.call(n,n.transformResponse,s.response),s.response.headers=Cn.from(s.response.headers))),Promise.reject(s)})}const qS="1.8.4",Xf={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Xf[n]=function(s){return typeof s===n||"a"+(e<1?"n ":" ")+n}});const yb={};Xf.transitional=function(e,t,s){function a(l,c){return"[Axios v"+qS+"] Transitional option '"+l+"'"+c+(s?". "+s:"")}return(l,c,d)=>{if(e===!1)throw new Le(a(c," has been removed"+(t?" in "+t:"")),Le.ERR_DEPRECATED);return t&&!yb[c]&&(yb[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,d):!0}};Xf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function Zk(n,e,t){if(typeof n!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const s=Object.keys(n);let a=s.length;for(;a-- >0;){const l=s[a],c=e[l];if(c){const d=n[l],p=d===void 0||c(d,l,n);if(p!==!0)throw new Le("option "+l+" must be "+p,Le.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Le("Unknown option "+l,Le.ERR_BAD_OPTION)}}const Kh={assertOptions:Zk,validators:Xf},Ur=Kh.validators;let Ta=class{constructor(e){this.defaults=e,this.interceptors={request:new lb,response:new lb}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{s.stack?l&&!String(s.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+l):s.stack=l}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Na(this.defaults,t);const{transitional:s,paramsSerializer:a,headers:l}=t;s!==void 0&&Kh.assertOptions(s,{silentJSONParsing:Ur.transitional(Ur.boolean),forcedJSONParsing:Ur.transitional(Ur.boolean),clarifyTimeoutError:Ur.transitional(Ur.boolean)},!1),a!=null&&(ee.isFunction(a)?t.paramsSerializer={serialize:a}:Kh.assertOptions(a,{encode:Ur.function,serialize:Ur.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Kh.assertOptions(t,{baseUrl:Ur.spelling("baseURL"),withXsrfToken:Ur.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&ee.merge(l.common,l[t.method]);l&&ee.forEach(["delete","get","head","post","put","patch","common"],N=>{delete l[N]}),t.headers=Cn.concat(c,l);const d=[];let p=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(t)===!1||(p=p&&B.synchronous,d.unshift(B.fulfilled,B.rejected))});const g=[];this.interceptors.response.forEach(function(B){g.push(B.fulfilled,B.rejected)});let v,T=0,S;if(!p){const N=[gb.bind(this),void 0];for(N.unshift.apply(N,d),N.push.apply(N,g),S=N.length,v=Promise.resolve(t);T<S;)v=v.then(N[T++],N[T++]);return v}S=d.length;let M=t;for(T=0;T<S;){const N=d[T++],B=d[T++];try{M=N(M)}catch(k){B.call(this,k);break}}try{v=gb.call(this,M)}catch(N){return Promise.reject(N)}for(T=0,S=g.length;T<S;)v=v.then(g[T++],g[T++]);return v}getUri(e){e=Na(this.defaults,e);const t=LS(e.baseURL,e.url,e.allowAbsoluteUrls);return MS(t,e.params,e.paramsSerializer)}};ee.forEach(["delete","get","head","options"],function(e){Ta.prototype[e]=function(t,s){return this.request(Na(s||{},{method:e,url:t,data:(s||{}).data}))}});ee.forEach(["post","put","patch"],function(e){function t(s){return function(l,c,d){return this.request(Na(d||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ta.prototype[e]=t(),Ta.prototype[e+"Form"]=t(!0)});let Jk=class HS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const s=this;this.promise.then(a=>{if(!s._listeners)return;let l=s._listeners.length;for(;l-- >0;)s._listeners[l](a);s._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{s.subscribe(d),l=d}).then(a);return c.cancel=function(){s.unsubscribe(l)},c},e(function(l,c,d){s.reason||(s.reason=new el(l,c,d),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new HS(function(a){e=a}),cancel:e}}};function eV(n){return function(t){return n.apply(null,t)}}function tV(n){return ee.isObject(n)&&n.isAxiosError===!0}const Wp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wp).forEach(([n,e])=>{Wp[e]=n});function GS(n){const e=new Ta(n),t=TS(Ta.prototype.request,e);return ee.extend(t,Ta.prototype,e,{allOwnKeys:!0}),ee.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return GS(Na(n,a))},t}const Pe=GS(tc);Pe.Axios=Ta;Pe.CanceledError=el;Pe.CancelToken=Jk;Pe.isCancel=PS;Pe.VERSION=qS;Pe.toFormData=Qf;Pe.AxiosError=Le;Pe.Cancel=Pe.CanceledError;Pe.all=function(e){return Promise.all(e)};Pe.spread=eV;Pe.isAxiosError=tV;Pe.mergeConfig=Na;Pe.AxiosHeaders=Cn;Pe.formToJSON=n=>VS(ee.isHTMLForm(n)?new FormData(n):n);Pe.getAdapter=FS.getAdapter;Pe.HttpStatusCode=Wp;Pe.default=Pe;const{Axios:f4,AxiosError:d4,CanceledError:m4,isCancel:p4,CancelToken:g4,VERSION:y4,all:v4,Cancel:_4,isAxiosError:E4,spread:b4,toFormData:T4,AxiosHeaders:w4,HttpStatusCode:S4,formToJSON:A4,getAdapter:x4,mergeConfig:R4}=Pe,nV=()=>{const n=rg(),[e,t]=z.useState(""),[s,a]=z.useState(""),[l,c]=z.useState(!1),[d,p]=z.useState(""),g=z.useRef(),v="http://localhost:5000",T=async S=>{S.preventDefault(),c(!0),p("");try{const N=(await FC(Hf,e,s)).user.uid,B=await Pe.post(`${v}/api/users/getUserByFirebaseUid`,{firebaseUid:N});g.current=B;const{role:k}=B.data;k==="superadmin"?n("/SuperAdmin"):k==="rector"?n("/rector"):k==="student"?n("/student"):p("Invalid user role.")}catch(M){console.error("Login error:",M),p("Login failed. Please check your credentials.")}finally{c(!1)}};return b.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-r from-purple-500 to-indigo-600",children:b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg w-full max-w-md",children:[b.jsx("h2",{className:"text-2xl font-bold mb-6 text-center text-indigo-600",children:"Welcome Back"}),b.jsxs("form",{onSubmit:T,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),b.jsx("input",{id:"email",type:"email",required:!0,value:e,onChange:S=>t(S.target.value),className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your email"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),b.jsx("input",{id:"password",type:"password",required:!0,value:s,onChange:S=>a(S.target.value),className:"w-full px-4 py-2 mt-1 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter your password"})]}),d&&b.jsx("p",{className:"text-red-500 text-sm",children:d}),b.jsx("button",{type:"submit",disabled:l,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2 px-4 rounded-lg transition duration-300",children:l?"Logging in...":"Login"})]})]})})};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),iV=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),vb=n=>{const e=iV(n);return e.charAt(0).toUpperCase()+e.slice(1)},$S=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var sV={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=z.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d},p)=>z.createElement("svg",{ref:p,...sV,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:$S("lucide",a),...d},[...c.map(([g,v])=>z.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=(n,e)=>{const t=z.forwardRef(({className:s,...a},l)=>z.createElement(aV,{ref:l,iconNode:e,className:$S(`lucide-${rV(vb(n))}`,`lucide-${n}`,s),...a}));return t.displayName=vb(n),t};/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]],lV=Bn("calendar-plus",oV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],cV=Bn("chevron-down",uV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fV=Bn("chevron-left",hV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mV=Bn("chevron-right",dV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],_b=Bn("clipboard-list",pV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]],yV=Bn("file-plus",gV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],KS=Bn("layout-dashboard",vV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],EV=Bn("log-out",_V);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],TV=Bn("megaphone",bV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],SV=Bn("menu",wV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],xV=Bn("settings",AV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],CV=Bn("users",RV);/**
 * @license lucide-react v0.488.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],IV=Bn("x",NV);var nc=n=>n.type==="checkbox",_a=n=>n instanceof Date,Tn=n=>n==null;const QS=n=>typeof n=="object";var Nt=n=>!Tn(n)&&!Array.isArray(n)&&QS(n)&&!_a(n),DV=n=>Nt(n)&&n.target?nc(n.target)?n.target.checked:n.target.value:n,OV=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,MV=(n,e)=>n.has(OV(e)),kV=n=>{const e=n.constructor&&n.constructor.prototype;return Nt(e)&&e.hasOwnProperty("isPrototypeOf")},ey=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function hn(n){let e;const t=Array.isArray(n),s=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(ey&&(n instanceof Blob||s))&&(t||Nt(n)))if(e=t?[]:{},!t&&!kV(n))e=n;else for(const a in n)n.hasOwnProperty(a)&&(e[a]=hn(n[a]));else return n;return e}var Wf=n=>Array.isArray(n)?n.filter(Boolean):[],Pt=n=>n===void 0,Te=(n,e,t)=>{if(!e||!Nt(n))return t;const s=Wf(e.split(/[,[\].]+?/)).reduce((a,l)=>Tn(a)?a:a[l],n);return Pt(s)||s===n?Pt(n[e])?t:n[e]:s},jr=n=>typeof n=="boolean",ty=n=>/^\w*$/.test(n),YS=n=>Wf(n.replace(/["|']|\]/g,"").split(/\.|\[/)),mt=(n,e,t)=>{let s=-1;const a=ty(e)?[e]:YS(e),l=a.length,c=l-1;for(;++s<l;){const d=a[s];let p=t;if(s!==c){const g=n[d];p=Nt(g)||Array.isArray(g)?g:isNaN(+a[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;n[d]=p,n=n[d]}};const Eb={BLUR:"blur",FOCUS_OUT:"focusout"},fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Si={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};er.createContext(null);var VV=(n,e,t,s=!0)=>{const a={defaultValues:e._defaultValues};for(const l in n)Object.defineProperty(a,l,{get:()=>{const c=l;return e._proxyFormState[c]!==fr.all&&(e._proxyFormState[c]=!s||fr.all),n[c]}});return a},Zp=n=>Tn(n)||!QS(n);function _s(n,e){if(Zp(n)||Zp(e))return n===e;if(_a(n)&&_a(e))return n.getTime()===e.getTime();const t=Object.keys(n),s=Object.keys(e);if(t.length!==s.length)return!1;for(const a of t){const l=n[a];if(!s.includes(a))return!1;if(a!=="ref"){const c=e[a];if(_a(l)&&_a(c)||Nt(l)&&Nt(c)||Array.isArray(l)&&Array.isArray(c)?!_s(l,c):l!==c)return!1}}return!0}var zr=n=>typeof n=="string",PV=(n,e,t,s,a)=>zr(n)?(s&&e.watch.add(n),Te(t,n,a)):Array.isArray(n)?n.map(l=>(s&&e.watch.add(l),Te(t,l))):(s&&(e.watchAll=!0),t),UV=(n,e,t,s,a)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[s]:a||!0}}:{},xu=n=>Array.isArray(n)?n:[n],bb=()=>{let n=[];return{get observers(){return n},next:a=>{for(const l of n)l.next&&l.next(a)},subscribe:a=>(n.push(a),{unsubscribe:()=>{n=n.filter(l=>l!==a)}}),unsubscribe:()=>{n=[]}}},bn=n=>Nt(n)&&!Object.keys(n).length,ny=n=>n.type==="file",dr=n=>typeof n=="function",Ef=n=>{if(!ey)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},XS=n=>n.type==="select-multiple",ry=n=>n.type==="radio",LV=n=>ry(n)||nc(n),vp=n=>Ef(n)&&n.isConnected;function jV(n,e){const t=e.slice(0,-1).length;let s=0;for(;s<t;)n=Pt(n)?s++:n[e[s++]];return n}function zV(n){for(const e in n)if(n.hasOwnProperty(e)&&!Pt(n[e]))return!1;return!0}function Ft(n,e){const t=Array.isArray(e)?e:ty(e)?[e]:YS(e),s=t.length===1?n:jV(n,t),a=t.length-1,l=t[a];return s&&delete s[l],a!==0&&(Nt(s)&&bn(s)||Array.isArray(s)&&zV(s))&&Ft(n,t.slice(0,-1)),n}var WS=n=>{for(const e in n)if(dr(n[e]))return!0;return!1};function bf(n,e={}){const t=Array.isArray(n);if(Nt(n)||t)for(const s in n)Array.isArray(n[s])||Nt(n[s])&&!WS(n[s])?(e[s]=Array.isArray(n[s])?[]:{},bf(n[s],e[s])):Tn(n[s])||(e[s]=!0);return e}function ZS(n,e,t){const s=Array.isArray(n);if(Nt(n)||s)for(const a in n)Array.isArray(n[a])||Nt(n[a])&&!WS(n[a])?Pt(e)||Zp(t[a])?t[a]=Array.isArray(n[a])?bf(n[a],[]):{...bf(n[a])}:ZS(n[a],Tn(e)?{}:e[a],t[a]):t[a]=!_s(n[a],e[a]);return t}var hu=(n,e)=>ZS(n,e,bf(e));const Tb={value:!1,isValid:!1},wb={value:!0,isValid:!0};var JS=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Pt(n[0].attributes.value)?Pt(n[0].value)||n[0].value===""?wb:{value:n[0].value,isValid:!0}:wb:Tb}return Tb},eA=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:s})=>Pt(n)?n:e?n===""?NaN:n&&+n:t&&zr(n)?new Date(n):s?s(n):n;const Sb={isValid:!1,value:null};var tA=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,Sb):Sb;function Ab(n){const e=n.ref;return ny(e)?e.files:ry(e)?tA(n.refs).value:XS(e)?[...e.selectedOptions].map(({value:t})=>t):nc(e)?JS(n.refs).value:eA(Pt(e.value)?n.ref.value:e.value,n)}var BV=(n,e,t,s)=>{const a={};for(const l of n){const c=Te(e,l);c&&mt(a,l,c._f)}return{criteriaMode:t,names:[...n],fields:a,shouldUseNativeValidation:s}},Tf=n=>n instanceof RegExp,fu=n=>Pt(n)?n:Tf(n)?n.source:Nt(n)?Tf(n.value)?n.value.source:n.value:n,xb=n=>({isOnSubmit:!n||n===fr.onSubmit,isOnBlur:n===fr.onBlur,isOnChange:n===fr.onChange,isOnAll:n===fr.all,isOnTouch:n===fr.onTouched});const Rb="AsyncFunction";var FV=n=>!!n&&!!n.validate&&!!(dr(n.validate)&&n.validate.constructor.name===Rb||Nt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Rb)),qV=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),Cb=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(s=>n.startsWith(s)&&/^\.\w+/.test(n.slice(s.length))));const Ru=(n,e,t,s)=>{for(const a of t||Object.keys(n)){const l=Te(n,a);if(l){const{_f:c,...d}=l;if(c){if(c.refs&&c.refs[0]&&e(c.refs[0],a)&&!s)return!0;if(c.ref&&e(c.ref,c.name)&&!s)return!0;if(Ru(d,e))break}else if(Nt(d)&&Ru(d,e))break}}};function Nb(n,e,t){const s=Te(n,t);if(s||ty(t))return{error:s,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),c=Te(e,l),d=Te(n,l);if(c&&!Array.isArray(c)&&t!==l)return{name:t};if(d&&d.type)return{name:l,error:d};a.pop()}return{name:t}}var HV=(n,e,t,s)=>{t(n);const{name:a,...l}=n;return bn(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(c=>e[c]===(!s||fr.all))},GV=(n,e,t)=>!n||!e||n===e||xu(n).some(s=>s&&(t?s===e:s.startsWith(e)||e.startsWith(s))),$V=(n,e,t,s,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||n):(t?s.isOnBlur:a.isOnBlur)?!n:(t?s.isOnChange:a.isOnChange)?n:!0,KV=(n,e)=>!Wf(Te(n,e)).length&&Ft(n,e),QV=(n,e,t)=>{const s=xu(Te(n,t));return mt(s,"root",e[t]),mt(n,t,s),n},Qh=n=>zr(n);function Ib(n,e,t="validate"){if(Qh(n)||Array.isArray(n)&&n.every(Qh)||jr(n)&&!n)return{type:t,message:Qh(n)?n:"",ref:e}}var Ro=n=>Nt(n)&&!Tf(n)?n:{value:n,message:""},Db=async(n,e,t,s,a,l)=>{const{ref:c,refs:d,required:p,maxLength:g,minLength:v,min:T,max:S,pattern:M,validate:N,name:B,valueAsNumber:k,mount:G}=n._f,X=Te(t,B);if(!G||e.has(B))return{};const K=d?d[0]:c,de=P=>{a&&K.reportValidity&&(K.setCustomValidity(jr(P)?"":P||""),K.reportValidity())},le={},be=ry(c),V=nc(c),C=be||V,I=(k||ny(c))&&Pt(c.value)&&Pt(X)||Ef(c)&&c.value===""||X===""||Array.isArray(X)&&!X.length,x=UV.bind(null,B,s,le),O=(P,R,Ae,je=Si.maxLength,J=Si.minLength)=>{const fe=P?R:Ae;le[B]={type:P?je:J,message:fe,ref:c,...x(P?je:J,fe)}};if(l?!Array.isArray(X)||!X.length:p&&(!C&&(I||Tn(X))||jr(X)&&!X||V&&!JS(d).isValid||be&&!tA(d).isValid)){const{value:P,message:R}=Qh(p)?{value:!!p,message:p}:Ro(p);if(P&&(le[B]={type:Si.required,message:R,ref:K,...x(Si.required,R)},!s))return de(R),le}if(!I&&(!Tn(T)||!Tn(S))){let P,R;const Ae=Ro(S),je=Ro(T);if(!Tn(X)&&!isNaN(X)){const J=c.valueAsNumber||X&&+X;Tn(Ae.value)||(P=J>Ae.value),Tn(je.value)||(R=J<je.value)}else{const J=c.valueAsDate||new Date(X),fe=L=>new Date(new Date().toDateString()+" "+L),_e=c.type=="time",Ge=c.type=="week";zr(Ae.value)&&X&&(P=_e?fe(X)>fe(Ae.value):Ge?X>Ae.value:J>new Date(Ae.value)),zr(je.value)&&X&&(R=_e?fe(X)<fe(je.value):Ge?X<je.value:J<new Date(je.value))}if((P||R)&&(O(!!P,Ae.message,je.message,Si.max,Si.min),!s))return de(le[B].message),le}if((g||v)&&!I&&(zr(X)||l&&Array.isArray(X))){const P=Ro(g),R=Ro(v),Ae=!Tn(P.value)&&X.length>+P.value,je=!Tn(R.value)&&X.length<+R.value;if((Ae||je)&&(O(Ae,P.message,R.message),!s))return de(le[B].message),le}if(M&&!I&&zr(X)){const{value:P,message:R}=Ro(M);if(Tf(P)&&!X.match(P)&&(le[B]={type:Si.pattern,message:R,ref:c,...x(Si.pattern,R)},!s))return de(R),le}if(N){if(dr(N)){const P=await N(X,t),R=Ib(P,K);if(R&&(le[B]={...R,...x(Si.validate,R.message)},!s))return de(R.message),le}else if(Nt(N)){let P={};for(const R in N){if(!bn(P)&&!s)break;const Ae=Ib(await N[R](X,t),K,R);Ae&&(P={...Ae,...x(R,Ae.message)},de(Ae.message),s&&(le[B]=P))}if(!bn(P)&&(le[B]={ref:K,...P},!s))return le}}return de(!0),le};const YV={mode:fr.onSubmit,reValidateMode:fr.onChange,shouldFocusError:!0};function XV(n={}){let e={...YV,...n},t={submitCount:0,isDirty:!1,isReady:!1,isLoading:dr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const s={};let a=Nt(e.defaultValues)||Nt(e.values)?hn(e.values||e.defaultValues)||{}:{},l=e.shouldUnregister?{}:hn(a),c={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,g=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let T={...v};const S={array:bb(),state:bb()},M=xb(e.mode),N=xb(e.reValidateMode),B=e.criteriaMode===fr.all,k=U=>Q=>{clearTimeout(g),g=setTimeout(U,Q)},G=async U=>{if(!e.disabled&&(v.isValid||T.isValid||U)){const Q=e.resolver?bn((await I()).errors):await O(s,!0);Q!==t.isValid&&S.state.next({isValid:Q})}},X=(U,Q)=>{!e.disabled&&(v.isValidating||v.validatingFields||T.isValidating||T.validatingFields)&&((U||Array.from(d.mount)).forEach(te=>{te&&(Q?mt(t.validatingFields,te,Q):Ft(t.validatingFields,te))}),S.state.next({validatingFields:t.validatingFields,isValidating:!bn(t.validatingFields)}))},K=(U,Q=[],te,ye,ue=!0,ie=!0)=>{if(ye&&te&&!e.disabled){if(c.action=!0,ie&&Array.isArray(Te(s,U))){const ge=te(Te(s,U),ye.argA,ye.argB);ue&&mt(s,U,ge)}if(ie&&Array.isArray(Te(t.errors,U))){const ge=te(Te(t.errors,U),ye.argA,ye.argB);ue&&mt(t.errors,U,ge),KV(t.errors,U)}if((v.touchedFields||T.touchedFields)&&ie&&Array.isArray(Te(t.touchedFields,U))){const ge=te(Te(t.touchedFields,U),ye.argA,ye.argB);ue&&mt(t.touchedFields,U,ge)}(v.dirtyFields||T.dirtyFields)&&(t.dirtyFields=hu(a,l)),S.state.next({name:U,isDirty:R(U,Q),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else mt(l,U,Q)},de=(U,Q)=>{mt(t.errors,U,Q),S.state.next({errors:t.errors})},le=U=>{t.errors=U,S.state.next({errors:t.errors,isValid:!1})},be=(U,Q,te,ye)=>{const ue=Te(s,U);if(ue){const ie=Te(l,U,Pt(te)?Te(a,U):te);Pt(ie)||ye&&ye.defaultChecked||Q?mt(l,U,Q?ie:Ab(ue._f)):J(U,ie),c.mount&&G()}},V=(U,Q,te,ye,ue)=>{let ie=!1,ge=!1;const Ie={name:U};if(!e.disabled){if(!te||ye){(v.isDirty||T.isDirty)&&(ge=t.isDirty,t.isDirty=Ie.isDirty=R(),ie=ge!==Ie.isDirty);const dt=_s(Te(a,U),Q);ge=!!Te(t.dirtyFields,U),dt?Ft(t.dirtyFields,U):mt(t.dirtyFields,U,!0),Ie.dirtyFields=t.dirtyFields,ie=ie||(v.dirtyFields||T.dirtyFields)&&ge!==!dt}if(te){const dt=Te(t.touchedFields,U);dt||(mt(t.touchedFields,U,te),Ie.touchedFields=t.touchedFields,ie=ie||(v.touchedFields||T.touchedFields)&&dt!==te)}ie&&ue&&S.state.next(Ie)}return ie?Ie:{}},C=(U,Q,te,ye)=>{const ue=Te(t.errors,U),ie=(v.isValid||T.isValid)&&jr(Q)&&t.isValid!==Q;if(e.delayError&&te?(p=k(()=>de(U,te)),p(e.delayError)):(clearTimeout(g),p=null,te?mt(t.errors,U,te):Ft(t.errors,U)),(te?!_s(ue,te):ue)||!bn(ye)||ie){const ge={...ye,...ie&&jr(Q)?{isValid:Q}:{},errors:t.errors,name:U};t={...t,...ge},S.state.next(ge)}},I=async U=>{X(U,!0);const Q=await e.resolver(l,e.context,BV(U||d.mount,s,e.criteriaMode,e.shouldUseNativeValidation));return X(U),Q},x=async U=>{const{errors:Q}=await I(U);if(U)for(const te of U){const ye=Te(Q,te);ye?mt(t.errors,te,ye):Ft(t.errors,te)}else t.errors=Q;return Q},O=async(U,Q,te={valid:!0})=>{for(const ye in U){const ue=U[ye];if(ue){const{_f:ie,...ge}=ue;if(ie){const Ie=d.array.has(ie.name),dt=ue._f&&FV(ue._f);dt&&v.validatingFields&&X([ye],!0);const It=await Db(ue,d.disabled,l,B,e.shouldUseNativeValidation&&!Q,Ie);if(dt&&v.validatingFields&&X([ye]),It[ie.name]&&(te.valid=!1,Q))break;!Q&&(Te(It,ie.name)?Ie?QV(t.errors,It,ie.name):mt(t.errors,ie.name,It[ie.name]):Ft(t.errors,ie.name))}!bn(ge)&&await O(ge,Q,te)}}return te.valid},P=()=>{for(const U of d.unMount){const Q=Te(s,U);Q&&(Q._f.refs?Q._f.refs.every(te=>!vp(te)):!vp(Q._f.ref))&&wn(U)}d.unMount=new Set},R=(U,Q)=>!e.disabled&&(U&&Q&&mt(l,U,Q),!_s(pe(),a)),Ae=(U,Q,te)=>PV(U,d,{...c.mount?l:Pt(Q)?a:zr(U)?{[U]:Q}:Q},te,Q),je=U=>Wf(Te(c.mount?l:a,U,e.shouldUnregister?Te(a,U,[]):[])),J=(U,Q,te={})=>{const ye=Te(s,U);let ue=Q;if(ye){const ie=ye._f;ie&&(!ie.disabled&&mt(l,U,eA(Q,ie)),ue=Ef(ie.ref)&&Tn(Q)?"":Q,XS(ie.ref)?[...ie.ref.options].forEach(ge=>ge.selected=ue.includes(ge.value)):ie.refs?nc(ie.ref)?ie.refs.length>1?ie.refs.forEach(ge=>(!ge.defaultChecked||!ge.disabled)&&(ge.checked=Array.isArray(ue)?!!ue.find(Ie=>Ie===ge.value):ue===ge.value)):ie.refs[0]&&(ie.refs[0].checked=!!ue):ie.refs.forEach(ge=>ge.checked=ge.value===ue):ny(ie.ref)?ie.ref.value="":(ie.ref.value=ue,ie.ref.type||S.state.next({name:U,values:hn(l)})))}(te.shouldDirty||te.shouldTouch)&&V(U,ue,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&oe(U)},fe=(U,Q,te)=>{for(const ye in Q){const ue=Q[ye],ie=`${U}.${ye}`,ge=Te(s,ie);(d.array.has(U)||Nt(ue)||ge&&!ge._f)&&!_a(ue)?fe(ie,ue,te):J(ie,ue,te)}},_e=(U,Q,te={})=>{const ye=Te(s,U),ue=d.array.has(U),ie=hn(Q);mt(l,U,ie),ue?(S.array.next({name:U,values:hn(l)}),(v.isDirty||v.dirtyFields||T.isDirty||T.dirtyFields)&&te.shouldDirty&&S.state.next({name:U,dirtyFields:hu(a,l),isDirty:R(U,ie)})):ye&&!ye._f&&!Tn(ie)?fe(U,ie,te):J(U,ie,te),Cb(U,d)&&S.state.next({...t}),S.state.next({name:c.mount?U:void 0,values:hn(l)})},Ge=async U=>{c.mount=!0;const Q=U.target;let te=Q.name,ye=!0;const ue=Te(s,te),ie=ge=>{ye=Number.isNaN(ge)||_a(ge)&&isNaN(ge.getTime())||_s(ge,Te(l,te,ge))};if(ue){let ge,Ie;const dt=Q.type?Ab(ue._f):DV(U),It=U.type===Eb.BLUR||U.type===Eb.FOCUS_OUT,Xr=!qV(ue._f)&&!e.resolver&&!Te(t.errors,te)&&!ue._f.deps||$V(It,Te(t.touchedFields,te),t.isSubmitted,N,M),sr=Cb(te,d,It);mt(l,te,dt),It?(ue._f.onBlur&&ue._f.onBlur(U),p&&p(0)):ue._f.onChange&&ue._f.onChange(U);const ar=V(te,dt,It),Dn=!bn(ar)||sr;if(!It&&S.state.next({name:te,type:U.type,values:hn(l)}),Xr)return(v.isValid||T.isValid)&&(e.mode==="onBlur"?It&&G():It||G()),Dn&&S.state.next({name:te,...sr?{}:ar});if(!It&&sr&&S.state.next({...t}),e.resolver){const{errors:Wr}=await I([te]);if(ie(dt),ye){const Zr=Nb(t.errors,s,te),zi=Nb(Wr,s,Zr.name||te);ge=zi.error,te=zi.name,Ie=bn(Wr)}}else X([te],!0),ge=(await Db(ue,d.disabled,l,B,e.shouldUseNativeValidation))[te],X([te]),ie(dt),ye&&(ge?Ie=!1:(v.isValid||T.isValid)&&(Ie=await O(s,!0)));ye&&(ue._f.deps&&oe(ue._f.deps),C(te,Ie,ge,ar))}},L=(U,Q)=>{if(Te(t.errors,Q)&&U.focus)return U.focus(),1},oe=async(U,Q={})=>{let te,ye;const ue=xu(U);if(e.resolver){const ie=await x(Pt(U)?U:ue);te=bn(ie),ye=U?!ue.some(ge=>Te(ie,ge)):te}else U?(ye=(await Promise.all(ue.map(async ie=>{const ge=Te(s,ie);return await O(ge&&ge._f?{[ie]:ge}:ge)}))).every(Boolean),!(!ye&&!t.isValid)&&G()):ye=te=await O(s);return S.state.next({...!zr(U)||(v.isValid||T.isValid)&&te!==t.isValid?{}:{name:U},...e.resolver||!U?{isValid:te}:{},errors:t.errors}),Q.shouldFocus&&!ye&&Ru(s,L,U?ue:d.mount),ye},pe=U=>{const Q={...c.mount?l:a};return Pt(U)?Q:zr(U)?Te(Q,U):U.map(te=>Te(Q,te))},he=(U,Q)=>({invalid:!!Te((Q||t).errors,U),isDirty:!!Te((Q||t).dirtyFields,U),error:Te((Q||t).errors,U),isValidating:!!Te(t.validatingFields,U),isTouched:!!Te((Q||t).touchedFields,U)}),Se=U=>{U&&xu(U).forEach(Q=>Ft(t.errors,Q)),S.state.next({errors:U?t.errors:{}})},ze=(U,Q,te)=>{const ye=(Te(s,U,{_f:{}})._f||{}).ref,ue=Te(t.errors,U)||{},{ref:ie,message:ge,type:Ie,...dt}=ue;mt(t.errors,U,{...dt,...Q,ref:ye}),S.state.next({name:U,errors:t.errors,isValid:!1}),te&&te.shouldFocus&&ye&&ye.focus&&ye.focus()},Oe=(U,Q)=>dr(U)?S.state.subscribe({next:te=>U(Ae(void 0,Q),te)}):Ae(U,Q,!0),St=U=>S.state.subscribe({next:Q=>{GV(U.name,Q.name,U.exact)&&HV(Q,U.formState||v,Ls,U.reRenderRoot)&&U.callback({values:{...l},...t,...Q})}}).unsubscribe,at=U=>(c.mount=!0,T={...T,...U.formState},St({...U,formState:T})),wn=(U,Q={})=>{for(const te of U?xu(U):d.mount)d.mount.delete(te),d.array.delete(te),Q.keepValue||(Ft(s,te),Ft(l,te)),!Q.keepError&&Ft(t.errors,te),!Q.keepDirty&&Ft(t.dirtyFields,te),!Q.keepTouched&&Ft(t.touchedFields,te),!Q.keepIsValidating&&Ft(t.validatingFields,te),!e.shouldUnregister&&!Q.keepDefaultValue&&Ft(a,te);S.state.next({values:hn(l)}),S.state.next({...t,...Q.keepDirty?{isDirty:R()}:{}}),!Q.keepIsValid&&G()},ir=({disabled:U,name:Q})=>{(jr(U)&&c.mount||U||d.disabled.has(Q))&&(U?d.disabled.add(Q):d.disabled.delete(Q))},In=(U,Q={})=>{let te=Te(s,U);const ye=jr(Q.disabled)||jr(e.disabled);return mt(s,U,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:U}},name:U,mount:!0,...Q}}),d.mount.add(U),te?ir({disabled:jr(Q.disabled)?Q.disabled:e.disabled,name:U}):be(U,!0,Q.value),{...ye?{disabled:Q.disabled||e.disabled}:{},...e.progressive?{required:!!Q.required,min:fu(Q.min),max:fu(Q.max),minLength:fu(Q.minLength),maxLength:fu(Q.maxLength),pattern:fu(Q.pattern)}:{},name:U,onChange:Ge,onBlur:Ge,ref:ue=>{if(ue){In(U,Q),te=Te(s,U);const ie=Pt(ue.value)&&ue.querySelectorAll&&ue.querySelectorAll("input,select,textarea")[0]||ue,ge=LV(ie),Ie=te._f.refs||[];if(ge?Ie.find(dt=>dt===ie):ie===te._f.ref)return;mt(s,U,{_f:{...te._f,...ge?{refs:[...Ie.filter(vp),ie,...Array.isArray(Te(a,U))?[{}]:[]],ref:{type:ie.type,name:U}}:{ref:ie}}}),be(U,!1,void 0,ie)}else te=Te(s,U,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||Q.shouldUnregister)&&!(MV(d.array,U)&&c.action)&&d.unMount.add(U)}}},vr=()=>e.shouldFocusError&&Ru(s,L,d.mount),Yr=U=>{jr(U)&&(S.state.next({disabled:U}),Ru(s,(Q,te)=>{const ye=Te(s,te);ye&&(Q.disabled=ye._f.disabled||U,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(ue=>{ue.disabled=ye._f.disabled||U}))},0,!1))},_r=(U,Q)=>async te=>{let ye;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let ue=hn(l);if(S.state.next({isSubmitting:!0}),e.resolver){const{errors:ie,values:ge}=await I();t.errors=ie,ue=ge}else await O(s);if(d.disabled.size)for(const ie of d.disabled)mt(ue,ie,void 0);if(Ft(t.errors,"root"),bn(t.errors)){S.state.next({errors:{}});try{await U(ue,te)}catch(ie){ye=ie}}else Q&&await Q({...t.errors},te),vr(),setTimeout(vr);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:bn(t.errors)&&!ye,submitCount:t.submitCount+1,errors:t.errors}),ye)throw ye},Ps=(U,Q={})=>{Te(s,U)&&(Pt(Q.defaultValue)?_e(U,hn(Te(a,U))):(_e(U,Q.defaultValue),mt(a,U,hn(Q.defaultValue))),Q.keepTouched||Ft(t.touchedFields,U),Q.keepDirty||(Ft(t.dirtyFields,U),t.isDirty=Q.defaultValue?R(U,hn(Te(a,U))):R()),Q.keepError||(Ft(t.errors,U),v.isValid&&G()),S.state.next({...t}))},Us=(U,Q={})=>{const te=U?hn(U):a,ye=hn(te),ue=bn(U),ie=ue?a:ye;if(Q.keepDefaultValues||(a=te),!Q.keepValues){if(Q.keepDirtyValues){const ge=new Set([...d.mount,...Object.keys(hu(a,l))]);for(const Ie of Array.from(ge))Te(t.dirtyFields,Ie)?mt(ie,Ie,Te(l,Ie)):_e(Ie,Te(ie,Ie))}else{if(ey&&Pt(U))for(const ge of d.mount){const Ie=Te(s,ge);if(Ie&&Ie._f){const dt=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Ef(dt)){const It=dt.closest("form");if(It){It.reset();break}}}}for(const ge of d.mount)_e(ge,Te(ie,ge))}l=hn(ie),S.array.next({values:{...ie}}),S.state.next({values:{...ie}})}d={mount:Q.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!v.isValid||!!Q.keepIsValid||!!Q.keepDirtyValues,c.watch=!!e.shouldUnregister,S.state.next({submitCount:Q.keepSubmitCount?t.submitCount:0,isDirty:ue?!1:Q.keepDirty?t.isDirty:!!(Q.keepDefaultValues&&!_s(U,a)),isSubmitted:Q.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:ue?{}:Q.keepDirtyValues?Q.keepDefaultValues&&l?hu(a,l):t.dirtyFields:Q.keepDefaultValues&&U?hu(a,U):Q.keepDirty?t.dirtyFields:{},touchedFields:Q.keepTouched?t.touchedFields:{},errors:Q.keepErrors?t.errors:{},isSubmitSuccessful:Q.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},gn=(U,Q)=>Us(dr(U)?U(l):U,Q),tl=(U,Q={})=>{const te=Te(s,U),ye=te&&te._f;if(ye){const ue=ye.refs?ye.refs[0]:ye.ref;ue.focus&&(ue.focus(),Q.shouldSelect&&dr(ue.select)&&ue.select())}},Ls=U=>{t={...t,...U}},Er={control:{register:In,unregister:wn,getFieldState:he,handleSubmit:_r,setError:ze,_subscribe:St,_runSchema:I,_getWatch:Ae,_getDirty:R,_setValid:G,_setFieldArray:K,_setDisabledField:ir,_setErrors:le,_getFieldArray:je,_reset:Us,_resetDefaultValues:()=>dr(e.defaultValues)&&e.defaultValues().then(U=>{gn(U,e.resetOptions),S.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:Yr,_subjects:S,_proxyFormState:v,get _fields(){return s},get _formValues(){return l},get _state(){return c},set _state(U){c=U},get _defaultValues(){return a},get _names(){return d},set _names(U){d=U},get _formState(){return t},get _options(){return e},set _options(U){e={...e,...U}}},subscribe:at,trigger:oe,register:In,handleSubmit:_r,watch:Oe,setValue:_e,getValues:pe,reset:gn,resetField:Ps,clearErrors:Se,unregister:wn,setError:ze,setFocus:tl,getFieldState:he};return{...Er,formControl:Er}}const WV=typeof window<"u"?er.useLayoutEffect:er.useEffect;function ZV(n={}){const e=er.useRef(void 0),t=er.useRef(void 0),[s,a]=er.useState({isDirty:!1,isValidating:!1,isLoading:dr(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,isReady:!1,defaultValues:dr(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...n.formControl?n.formControl:XV(n),formState:s},n.formControl&&n.defaultValues&&!dr(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions));const l=e.current.control;return l._options=n,WV(()=>{const c=l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0});return a(d=>({...d,isReady:!0})),c},[l]),er.useEffect(()=>l._disableForm(n.disabled),[l,n.disabled]),er.useEffect(()=>{n.mode&&(l._options.mode=n.mode),n.reValidateMode&&(l._options.reValidateMode=n.reValidateMode),n.errors&&!bn(n.errors)&&l._setErrors(n.errors)},[l,n.errors,n.mode,n.reValidateMode]),er.useEffect(()=>{n.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[l,n.shouldUnregister]),er.useEffect(()=>{if(l._proxyFormState.isDirty){const c=l._getDirty();c!==s.isDirty&&l._subjects.state.next({isDirty:c})}},[l,s.isDirty]),er.useEffect(()=>{n.values&&!_s(n.values,t.current)?(l._reset(n.values,l._options.resetOptions),t.current=n.values,a(c=>({...c}))):l._resetDefaultValues()},[l,n.values]),er.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),e.current.formState=VV(s,l),e.current}let JV={data:""},eP=n=>typeof window=="object"?((n?n.querySelector("#_goober"):window._goober)||Object.assign((n||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:n||JV,tP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,nP=/\/\*[^]*?\*\/|  +/g,Ob=/\n+/g,Es=(n,e)=>{let t="",s="",a="";for(let l in n){let c=n[l];l[0]=="@"?l[1]=="i"?t=l+" "+c+";":s+=l[1]=="f"?Es(c,l):l+"{"+Es(c,l[1]=="k"?"":e)+"}":typeof c=="object"?s+=Es(c,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,d):d?d+" "+p:p)):l):c!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Es.p?Es.p(l,c):l+":"+c+";")}return t+(e&&a?e+"{"+a+"}":a)+s},Ai={},nA=n=>{if(typeof n=="object"){let e="";for(let t in n)e+=t+nA(n[t]);return e}return n},rP=(n,e,t,s,a)=>{let l=nA(n),c=Ai[l]||(Ai[l]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(l));if(!Ai[c]){let p=l!==n?n:(g=>{let v,T,S=[{}];for(;v=tP.exec(g.replace(nP,""));)v[4]?S.shift():v[3]?(T=v[3].replace(Ob," ").trim(),S.unshift(S[0][T]=S[0][T]||{})):S[0][v[1]]=v[2].replace(Ob," ").trim();return S[0]})(n);Ai[c]=Es(a?{["@keyframes "+c]:p}:p,t?"":"."+c)}let d=t&&Ai.g?Ai.g:null;return t&&(Ai.g=Ai[c]),((p,g,v,T)=>{T?g.data=g.data.replace(T,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(Ai[c],e,s,d),c},iP=(n,e,t)=>n.reduce((s,a,l)=>{let c=e[l];if(c&&c.call){let d=c(t),p=d&&d.props&&d.props.className||/^go/.test(d)&&d;c=p?"."+p:d&&typeof d=="object"?d.props?"":Es(d,""):d===!1?"":d}return s+a+(c??"")},"");function Zf(n){let e=this||{},t=n.call?n(e.p):n;return rP(t.unshift?t.raw?iP(t,[].slice.call(arguments,1),e.p):t.reduce((s,a)=>Object.assign(s,a&&a.call?a(e.p):a),{}):t,eP(e.target),e.g,e.o,e.k)}let rA,Jp,eg;Zf.bind({g:1});let Ui=Zf.bind({k:1});function sP(n,e,t,s){Es.p=e,rA=n,Jp=t,eg=s}function Vs(n,e){let t=this||{};return function(){let s=arguments;function a(l,c){let d=Object.assign({},l),p=d.className||a.className;t.p=Object.assign({theme:Jp&&Jp()},d),t.o=/ *go\d+/.test(p),d.className=Zf.apply(t,s)+(p?" "+p:"");let g=n;return n[0]&&(g=d.as||n,delete d.as),eg&&g[0]&&eg(d),rA(g,d)}return a}}var aP=n=>typeof n=="function",wf=(n,e)=>aP(n)?n(e):n,oP=(()=>{let n=0;return()=>(++n).toString()})(),iA=(()=>{let n;return()=>{if(n===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");n=!e||e.matches}return n}})(),lP=20,sA=(n,e)=>{switch(e.type){case 0:return{...n,toasts:[e.toast,...n.toasts].slice(0,lP)};case 1:return{...n,toasts:n.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return sA(n,{type:n.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...n,toasts:n.toasts.map(l=>l.id===s||s===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...n,pausedAt:e.time};case 6:let a=e.time-(n.pausedAt||0);return{...n,pausedAt:void 0,toasts:n.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+a}))}}},Yh=[],Ea={toasts:[],pausedAt:void 0},Pa=n=>{Ea=sA(Ea,n),Yh.forEach(e=>{e(Ea)})},uP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},cP=(n={})=>{let[e,t]=z.useState(Ea),s=z.useRef(Ea);z.useEffect(()=>(s.current!==Ea&&t(Ea),Yh.push(t),()=>{let l=Yh.indexOf(t);l>-1&&Yh.splice(l,1)}),[]);let a=e.toasts.map(l=>{var c,d,p;return{...n,...n[l.type],...l,removeDelay:l.removeDelay||((c=n[l.type])==null?void 0:c.removeDelay)||(n==null?void 0:n.removeDelay),duration:l.duration||((d=n[l.type])==null?void 0:d.duration)||(n==null?void 0:n.duration)||uP[l.type],style:{...n.style,...(p=n[l.type])==null?void 0:p.style,...l.style}}});return{...e,toasts:a}},hP=(n,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:n,pauseDuration:0,...t,id:(t==null?void 0:t.id)||oP()}),rc=n=>(e,t)=>{let s=hP(e,n,t);return Pa({type:2,toast:s}),s.id},sn=(n,e)=>rc("blank")(n,e);sn.error=rc("error");sn.success=rc("success");sn.loading=rc("loading");sn.custom=rc("custom");sn.dismiss=n=>{Pa({type:3,toastId:n})};sn.remove=n=>Pa({type:4,toastId:n});sn.promise=(n,e,t)=>{let s=sn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof n=="function"&&(n=n()),n.then(a=>{let l=e.success?wf(e.success,a):void 0;return l?sn.success(l,{id:s,...t,...t==null?void 0:t.success}):sn.dismiss(s),a}).catch(a=>{let l=e.error?wf(e.error,a):void 0;l?sn.error(l,{id:s,...t,...t==null?void 0:t.error}):sn.dismiss(s)}),n};var fP=(n,e)=>{Pa({type:1,toast:{id:n,height:e}})},dP=()=>{Pa({type:5,time:Date.now()})},Cu=new Map,mP=1e3,pP=(n,e=mP)=>{if(Cu.has(n))return;let t=setTimeout(()=>{Cu.delete(n),Pa({type:4,toastId:n})},e);Cu.set(n,t)},gP=n=>{let{toasts:e,pausedAt:t}=cP(n);z.useEffect(()=>{if(t)return;let l=Date.now(),c=e.map(d=>{if(d.duration===1/0)return;let p=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(p<0){d.visible&&sn.dismiss(d.id);return}return setTimeout(()=>sn.dismiss(d.id),p)});return()=>{c.forEach(d=>d&&clearTimeout(d))}},[e,t]);let s=z.useCallback(()=>{t&&Pa({type:6,time:Date.now()})},[t]),a=z.useCallback((l,c)=>{let{reverseOrder:d=!1,gutter:p=8,defaultPosition:g}=c||{},v=e.filter(M=>(M.position||g)===(l.position||g)&&M.height),T=v.findIndex(M=>M.id===l.id),S=v.filter((M,N)=>N<T&&M.visible).length;return v.filter(M=>M.visible).slice(...d?[S+1]:[0,S]).reduce((M,N)=>M+(N.height||0)+p,0)},[e]);return z.useEffect(()=>{e.forEach(l=>{if(l.dismissed)pP(l.id,l.removeDelay);else{let c=Cu.get(l.id);c&&(clearTimeout(c),Cu.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:fP,startPause:dP,endPause:s,calculateOffset:a}}},yP=Ui`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,vP=Ui`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,_P=Ui`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,EP=Vs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${yP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${vP} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${n=>n.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${_P} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bP=Ui`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,TP=Vs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${n=>n.secondary||"#e0e0e0"};
  border-right-color: ${n=>n.primary||"#616161"};
  animation: ${bP} 1s linear infinite;
`,wP=Ui`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,SP=Ui`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,AP=Vs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${n=>n.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${SP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${n=>n.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,xP=Vs("div")`
  position: absolute;
`,RP=Vs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,CP=Ui`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NP=Vs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${CP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,IP=({toast:n})=>{let{icon:e,type:t,iconTheme:s}=n;return e!==void 0?typeof e=="string"?z.createElement(NP,null,e):e:t==="blank"?null:z.createElement(RP,null,z.createElement(TP,{...s}),t!=="loading"&&z.createElement(xP,null,t==="error"?z.createElement(EP,{...s}):z.createElement(AP,{...s})))},DP=n=>`
0% {transform: translate3d(0,${n*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,OP=n=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${n*-150}%,-1px) scale(.6); opacity:0;}
`,MP="0%{opacity:0;} 100%{opacity:1;}",kP="0%{opacity:1;} 100%{opacity:0;}",VP=Vs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,PP=Vs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,UP=(n,e)=>{let t=n.includes("top")?1:-1,[s,a]=iA()?[MP,kP]:[DP(t),OP(t)];return{animation:e?`${Ui(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ui(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},LP=z.memo(({toast:n,position:e,style:t,children:s})=>{let a=n.height?UP(n.position||e||"top-center",n.visible):{opacity:0},l=z.createElement(IP,{toast:n}),c=z.createElement(PP,{...n.ariaProps},wf(n.message,n));return z.createElement(VP,{className:n.className,style:{...a,...t,...n.style}},typeof s=="function"?s({icon:l,message:c}):z.createElement(z.Fragment,null,l,c))});sP(z.createElement);var jP=({id:n,className:e,style:t,onHeightUpdate:s,children:a})=>{let l=z.useCallback(c=>{if(c){let d=()=>{let p=c.getBoundingClientRect().height;s(n,p)};d(),new MutationObserver(d).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[n,s]);return z.createElement("div",{ref:l,className:e,style:t},a)},zP=(n,e)=>{let t=n.includes("top"),s=t?{top:0}:{bottom:0},a=n.includes("center")?{justifyContent:"center"}:n.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:iA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...a}},BP=Zf`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Oh=16,FP=({reverseOrder:n,position:e="top-center",toastOptions:t,gutter:s,children:a,containerStyle:l,containerClassName:c})=>{let{toasts:d,handlers:p}=gP(t);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Oh,left:Oh,right:Oh,bottom:Oh,pointerEvents:"none",...l},className:c,onMouseEnter:p.startPause,onMouseLeave:p.endPause},d.map(g=>{let v=g.position||e,T=p.calculateOffset(g,{reverseOrder:n,gutter:s,defaultPosition:e}),S=zP(v,T);return z.createElement(jP,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?BP:"",style:S},g.type==="custom"?wf(g.message,g):a?a(g):z.createElement(LP,{toast:g,position:v}))}))},_t=sn;const Mb="http://localhost:5000",qP=()=>{const[n,e]=z.useState("rector"),[t,s]=z.useState([]),[a,l]=z.useState({totalUsers:0,rectors:0,students:0}),{register:c,handleSubmit:d,watch:p,reset:g,formState:{errors:v,isSubmitting:T}}=ZV(),S=p("role","rector");z.useEffect(()=>{const N=TM(eb(ib,"activities"),B=>{const k=B.docs.map(G=>G.data());s(k.sort((G,X)=>{var K,de;return((K=X.timestamp)==null?void 0:K.seconds)-((de=G.timestamp)==null?void 0:de.seconds)}))});return()=>N()},[]),z.useEffect(()=>{(async()=>{try{const B=await Pe.get(`${Mb}/api/stats/overview`);l(B.data)}catch(B){console.error("Failed to fetch stats:",B)}})()},[]);const M=async N=>{try{let B=function(){return`G-${Math.floor(1e9+Math.random()*9e9)}`},k=function(){return`G-${Math.floor(1e20+Math.random()*9e20)}`};const G=await VT(Hf,N.email,N.password);await Pe.post(`${Mb}/api/users/register`,{firebaseUid:G.user.uid,email:N.email,username:N.username,googleId:k(),googleStyleId:B(),role:N.role,roomNo:N.role==="student"?N.roomNo:null}),await bM(eb(ib,"activities"),{user:N.username,role:N.role,activity:`Registered as ${N.role}`,timestamp:AM()}),sn.success(`${N.role} registered successfully!`),g()}catch(B){sn.error("Registration failed: "+B.message)}};return b.jsxs("div",{className:"min-h-screen bg-gray-100 flex",children:[b.jsxs("div",{className:"w-64 bg-indigo-900 text-white flex flex-col",children:[b.jsx("div",{className:"p-4 h-16 flex items-center border-b border-indigo-700",children:b.jsx("h1",{className:"text-xl font-bold",children:"Super Admin"})}),b.jsxs("nav",{className:"flex-1 mt-6 space-y-1",children:[b.jsxs("div",{className:"px-4 py-3 bg-indigo-800 flex items-center space-x-3 cursor-pointer",children:[b.jsx(KS,{size:20}),b.jsx("span",{children:"Dashboard"})]}),b.jsxs("a",{className:"px-4 py-3 flex items-center space-x-3 text-indigo-100 hover:bg-indigo-700 cursor-pointer",children:[b.jsx(CV,{size:20}),b.jsx("span",{children:"Manage Users"})]}),b.jsxs("a",{className:"px-4 py-3 flex items-center space-x-3 text-indigo-100 hover:bg-indigo-700 cursor-pointer",children:[b.jsx(xV,{size:20}),b.jsx("span",{children:"Settings"})]})]}),b.jsx("div",{className:"border-t border-indigo-700 p-4",children:b.jsxs("a",{className:"flex items-center space-x-3 text-indigo-100 hover:bg-indigo-700 px-4 py-2 rounded cursor-pointer",children:[b.jsx(EV,{size:20}),b.jsx("span",{children:"Logout"})]})})]}),b.jsxs("div",{className:"flex-1 overflow-auto",children:[b.jsxs("header",{className:"bg-white shadow h-16 flex items-center justify-between px-6",children:[b.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Dashboard Overview"}),b.jsxs("div",{className:"flex items-center space-x-3",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-600 text-white flex items-center justify-center",children:"SA"}),b.jsx("span",{className:"text-sm text-gray-700",children:"Super Admin"}),b.jsx(cV,{size:16})]})]}),b.jsxs("main",{className:"p-6 space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[b.jsx("h4",{className:"text-gray-600 text-sm mb-2",children:"Total Users"}),b.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:a.totalUsers})]}),b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[b.jsx("h4",{className:"text-gray-600 text-sm mb-2",children:"Active Rectors"}),b.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:a.rectors})]}),b.jsxs("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[b.jsx("h4",{className:"text-gray-600 text-sm mb-2",children:"Registered Students"}),b.jsx("p",{className:"text-2xl font-bold text-indigo-700",children:a.students})]})]}),b.jsxs("form",{onSubmit:d(M),className:"bg-white p-6 rounded-lg shadow-md space-y-4",children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Register New User"}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),b.jsx("input",{...c("username",{required:"Username is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),v.username&&b.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.username.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),b.jsx("input",{type:"email",...c("email",{required:"Email is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),v.email&&b.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.email.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),b.jsx("input",{type:"password",...c("password",{required:"Password is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),v.password&&b.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.password.message})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),b.jsxs("select",{...c("role"),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm",children:[b.jsx("option",{value:"rector",children:"Rector"}),b.jsx("option",{value:"student",children:"Student"})]})]}),S==="student"&&b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Room Number"}),b.jsx("input",{...c("roomNo",{required:"Room Number is required"}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm"}),v.roomNo&&b.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.roomNo.message})]}),b.jsx("button",{type:"submit",disabled:T,className:"bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700 disabled:opacity-50",children:T?"Registering...":"Register"})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Recent Activity"}),b.jsxs("table",{className:"w-full text-sm text-gray-600",children:[b.jsx("thead",{children:b.jsxs("tr",{className:"text-left border-b",children:[b.jsx("th",{className:"pb-2",children:"User"}),b.jsx("th",{className:"pb-2",children:"Role"}),b.jsx("th",{className:"pb-2",children:"Activity"}),b.jsx("th",{className:"pb-2",children:"Time"})]})}),b.jsx("tbody",{children:t.map((N,B)=>{var k;return b.jsxs("tr",{className:"border-b",children:[b.jsx("td",{className:"py-2",children:N.user}),b.jsx("td",{children:N.role}),b.jsx("td",{children:N.activity}),b.jsx("td",{children:(k=N.timestamp)!=null&&k.seconds?new Date(N.timestamp.seconds*1e3).toLocaleString():""})]},B)})})]})]})]})]})]})},HP=({currentTab:n,setCurrentTab:e})=>{const[t,s]=z.useState(!1),a=[{id:"register",label:"Register Student",icon:b.jsx(yV,{size:18})},{id:"notice",label:"Post Notice",icon:b.jsx(TV,{size:18})},{id:"leaves",label:"Leave Applications",icon:b.jsx(_b,{size:18})},{id:"complaints",label:"Complaints",icon:b.jsx(KS,{size:18})},{id:"events",label:"Add Event",icon:b.jsx(lV,{size:18})},{id:"All Students",label:"Students",icon:b.jsx(_b,{size:18})}];return b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"md:hidden flex justify-between items-center bg-indigo-900 text-white px-4 py-3",children:[b.jsx("h1",{className:"text-xl font-bold",children:"Rector Panel"}),b.jsx("button",{onClick:()=>s(!t),children:t?b.jsx(IV,{size:24}):b.jsx(SV,{size:24})})]}),b.jsxs("div",{className:`${t?"block":"hidden"} md:block bg-indigo-900 text-white w-full md:w-64 h-[calc(100vh-64px)] md:h-screen fixed md:static top-[64px] md:top-0 left-0 z-50 md:z-auto px-4 py-4 md:pt-8 space-y-4 transition-all duration-300 overflow-y-auto`,children:[b.jsx("div",{className:"hidden md:block text-2xl font-bold mb-6",children:"Rector Panel"}),a.map(l=>b.jsxs("button",{className:`flex items-center px-4 py-2 rounded hover:bg-indigo-700 w-full text-left ${n===l.id?"bg-indigo-800":""}`,onClick:()=>{e(l.id),s(!1)},children:[b.jsx("span",{className:"mr-2",children:l.icon}),l.label]},l.id))]})]})},GP="http://localhost:5000",$P=()=>{const[n,e]=z.useState({name:"",email:"",password:"",roomNo:"",rollNo:""}),t=c=>{e(d=>({...d,[c.target.name]:c.target.value}))},s=()=>`G-${Math.floor(1e9+Math.random()*9e9)}`,a=()=>`G-${Math.floor(1e20+Math.random()*9e20)}`,l=async c=>{c.preventDefault();const{name:d,email:p,password:g,roomNo:v,rollNo:T}=n;if(!d||!p||!g||!v||!T)return _t.error("Please fill in all fields");try{const M=(await VT(Hf,p,g)).user.uid;await Pe.post(`${GP}/api/users/register`,{firebaseUid:M,email:p,username:d,googleId:a(),googleStyleId:s(),role:"student",roomNo:v,rollNo:T}),_t.success("🎉 Student registered successfully!"),e({name:"",email:"",password:"",roomNo:"",rollNo:""})}catch(S){console.error(S),_t.error("Registration Failed!")}};return b.jsx("div",{className:"w-full px-4 sm:px-6 md:px-8 py-10",children:b.jsxs("div",{className:"max-w-md mx-auto bg-white shadow-xl rounded-xl p-6 sm:p-8",children:[b.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-center text-indigo-600 mb-6",children:"🎓 Register Student"}),b.jsxs("form",{onSubmit:l,className:"space-y-4",children:[b.jsx("input",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400 text-sm sm:text-base",type:"text",name:"name",value:n.name,onChange:t,placeholder:"Full Name"}),b.jsx("input",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400 text-sm sm:text-base",type:"email",name:"email",value:n.email,onChange:t,placeholder:"Email Address"}),b.jsx("input",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400 text-sm sm:text-base",type:"password",name:"password",value:n.password,onChange:t,placeholder:"Password"}),b.jsx("input",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400 text-sm sm:text-base",type:"text",name:"roomNo",value:n.roomNo,onChange:t,placeholder:"Room Number"}),b.jsx("input",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400 text-sm sm:text-base",type:"text",name:"rollNo",value:n.rollNo,onChange:t,placeholder:"Roll Number"}),b.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg transition duration-200 text-sm sm:text-base",children:"Register Student"})]})]})})},KP=()=>{const[n,e]=z.useState(""),[t,s]=z.useState(""),[a,l]=z.useState([]),c=async()=>{try{const p=await Pe.get("/api/notice");l(p.data.reverse())}catch(p){console.error(p),_t.error("Failed to fetch notices.")}},d=async()=>{if(!n||!t)return _t.error("Please fill in both fields");try{await Pe.post("/api/notice",{title:n,message:t,createdAt:new Date}),_t.success("📢 Notice posted!"),e(""),s(""),c()}catch(p){console.error(p),_t.error("Failed to post notice.")}};return z.useEffect(()=>{c()},[]),b.jsxs("div",{className:"w-full px-4 sm:px-6 md:px-8 py-10",children:[b.jsxs("div",{className:"max-w-xl mx-auto bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[b.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-indigo-600 mb-6 text-center",children:"📢 Post a New Notice"}),b.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[b.jsx("input",{type:"text",placeholder:"Notice Title",className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-indigo-400",value:n,onChange:p=>e(p.target.value)}),b.jsx("textarea",{rows:"5",placeholder:"Notice Message",className:"w-full px-4 py-3 border border-gray-300 rounded-lg resize-none text-sm sm:text-base focus:outline-none focus:ring-2 focus:ring-indigo-400",value:t,onChange:p=>s(p.target.value)}),b.jsx("button",{onClick:d,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 rounded-lg transition duration-200 text-sm sm:text-base",children:"Post Notice"})]})]}),b.jsxs("div",{className:"max-w-xl mx-auto mt-10",children:[b.jsx("h3",{className:"text-xl font-semibold text-indigo-700 mb-4",children:"📃 Previous Notices"}),a.length>0?b.jsx("ul",{className:"space-y-4",children:a.map(p=>b.jsxs("li",{className:"bg-gray-50 p-4 rounded-lg shadow",children:[b.jsx("h4",{className:"font-bold text-indigo-600",children:p.title}),b.jsx("p",{className:"text-sm text-gray-700 mt-1",children:p.message}),b.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["📅 ",new Date(p.createdAt).toLocaleString()]})]},p._id))}):b.jsx("p",{className:"text-sm text-gray-500",children:"No notices posted yet."})]})]})},kb="http://localhost:5000",QP=()=>{const[n,e]=z.useState([]),[t,s]=z.useState("All"),a=async()=>{try{const p=await Pe.get(`${kb}/api/leave`);e(p.data)}catch{_t.error("Failed to fetch leave data")}};z.useEffect(()=>{a()},[]);const l=async(p,g)=>{try{await Pe.put(`${kb}/api/leave/${p}`,{status:g}),_t.success(`Leave ${g}`),a()}catch{_t.error("Failed to update leave status")}},c=p=>{switch(p){case"Approved":return"bg-green-100 text-green-700";case"Rejected":return"bg-red-100 text-red-700";default:return"bg-yellow-100 text-yellow-800"}},d=t==="All"?n:n.filter(p=>p.status===t);return b.jsxs("div",{className:"w-full px-4 sm:px-6 md:px-8 py-10",children:[b.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-indigo-700 mb-6 text-center",children:"📋 Leave Applications"}),b.jsx("div",{className:"mb-6 flex justify-center",children:b.jsxs("select",{value:t,onChange:p=>s(p.target.value),className:"px-4 py-2 rounded-md border border-gray-300 shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[b.jsx("option",{value:"All",children:"All"}),b.jsx("option",{value:"Pending",children:"Pending"}),b.jsx("option",{value:"Approved",children:"Approved"}),b.jsx("option",{value:"Rejected",children:"Rejected"})]})}),b.jsx("div",{className:"grid gap-6",children:d.length===0?b.jsx("p",{className:"text-center text-gray-500",children:"No leave applications found."}):d.map(p=>b.jsxs("div",{className:"bg-white rounded-xl shadow-md hover:shadow-lg transition p-4 sm:p-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[b.jsxs("h3",{className:"text-base sm:text-xl font-semibold text-gray-800",children:[p.name," ",b.jsxs("span",{className:"text-sm text-gray-500",children:["(",p.rollNo,")"]})]}),b.jsx("span",{className:`text-sm px-3 py-1 rounded-full font-medium ${c(p.status)}`,children:p.status})]}),b.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["🗓️ ",b.jsx("strong",{children:"From:"})," ",new Date(p.fromDate).toLocaleDateString(),"  | ",b.jsx("strong",{children:"To:"})," ",new Date(p.toDate).toLocaleDateString()]}),b.jsxs("p",{className:"text-sm text-gray-700 mb-1",children:["🛏️ ",b.jsx("strong",{children:"Room No:"})," ",p.roomNo]}),b.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["✏️ ",b.jsx("strong",{children:"Reason:"})," ",p.reasonType]}),b.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2",children:[b.jsxs("span",{className:"text-xs text-gray-400",children:["📅 Applied on: ",new Date(p.date).toLocaleString()]}),b.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-3",children:[b.jsx("button",{onClick:()=>l(p._id,"Approved"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded transition text-sm",children:"Approve"}),b.jsx("button",{onClick:()=>l(p._id,"Rejected"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded transition text-sm",children:"Reject"})]})]})]},p._id))})]})},Vb="http://localhost:5000",YP=()=>{const[n,e]=z.useState([]);z.useEffect(()=>{(async()=>{try{const a=await Pe.get(`${Vb}/api/complaints`);e(a.data)}catch(a){_t.error("Failed to fetch complaints"),console.error(a)}})()},[]);const t=s=>{switch(s){case"Resolved":return"bg-green-100 text-green-700";case"In Progress":return"bg-yellow-100 text-yellow-800";case"Pending":default:return"bg-red-100 text-red-700"}};return b.jsxs("div",{className:"w-full px-4 sm:px-6 md:px-8 py-8",children:[b.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-indigo-700 mb-8 text-center",children:"🛠️ Student Complaints"}),b.jsx("div",{className:"grid gap-6",children:n.map(s=>b.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-xl shadow-md hover:shadow-lg transition-all",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-2 mb-3",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-800",children:s.title}),b.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["🧑 ",s.name,"  |  🏠 Room: ",s.roomNo]})]}),b.jsx("span",{className:`w-fit text-sm px-3 py-1 rounded-full font-medium ${t(s.status)}`,children:s.status})]}),b.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["🛠️ ",b.jsx("strong",{children:"Type:"})," ",s.type]}),b.jsxs("p",{className:"text-gray-700 mb-2 text-sm",children:["📋 ",b.jsx("strong",{children:"Description:"})," ",s.description]}),b.jsxs("p",{className:"text-xs text-gray-400 mt-2",children:["📅 Reported on: ",new Date(s.reportedDate).toLocaleString()]}),b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{htmlFor:`status-${s._id}`,className:"block text-sm font-medium text-gray-700",children:"Update Status"}),b.jsxs("select",{id:`status-${s._id}`,value:s.status,onChange:async a=>{const l=a.target.value;try{const c=await Pe.patch(`${Vb}/api/complaints/${s._id}/status`,{status:l});e(d=>d.map(p=>p._id===s._id?c.data:p)),_t.success("Status updated")}catch(c){_t.error("Failed to update status"),console.error(c)}},className:"mt-2 block w-full px-4 py-2 text-sm border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-400",children:[b.jsx("option",{value:"Pending",children:"Pending"}),b.jsx("option",{value:"In Progress",children:"In Progress"}),b.jsx("option",{value:"Resolved",children:"Resolved"})]})]})]},s._id))})]})},XP=()=>{const[n,e]=z.useState({title:"",description:"",date:""}),[t,s]=z.useState([]),[a,l]=z.useState(null),[c,d]=z.useState(""),[p,g]=z.useState(1),v=5,T=K=>{const{name:de,value:le}=K.target;if(de==="date"&&le.length===10){const be="T00:00";e(V=>({...V,[de]:le+be}))}else e(be=>({...be,[de]:le}))},S=async()=>{try{const K=await Pe.get("/api/events");s(K.data)}catch{_t.error("Failed to fetch events.")}},M=()=>{e({title:"",description:"",date:""}),l(null)},N=async()=>{if(!n.title.trim()||!n.date.trim()){_t.error("Please enter both title and date.");return}try{a?(await Pe.put(`/api/events/${a}`,n),_t.success("Event updated!")):(await Pe.post("/api/events",n),_t.success("Event added!")),M(),S()}catch{_t.error("Failed to save event.")}},B=K=>{e({title:K.title,description:K.description,date:K.date}),l(K._id)},k=async K=>{try{await Pe.delete(`/api/events/${K}`),_t.success("Event deleted!"),S()}catch{_t.error("Failed to delete event.")}};z.useEffect(()=>{S()},[]);const G=c?t.filter(K=>{const de=new Date(K.date).toDateString(),le=new Date(c).toDateString();return de===le}):t,X=G.slice(0,p*v);return b.jsxs("div",{className:"w-full px-4 py-10",children:[b.jsxs("div",{className:"max-w-2xl mx-auto bg-white p-6 rounded-xl shadow-xl",children:[b.jsx("h2",{className:"text-2xl font-bold text-indigo-700 text-center mb-6",children:a?"✏️ Edit Event":"📅 Add Hostel Event"}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{name:"title",value:n.title,onChange:T,placeholder:"Event Title",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-indigo-300"}),b.jsx("textarea",{name:"description",value:n.description,onChange:T,placeholder:"Event Description",rows:4,className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-indigo-300"}),b.jsx("input",{type:"datetime-local",name:"date",value:n.date||"",onChange:T,placeholder:"Select date and time (defaults to 12:00 AM)",className:"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring focus:ring-indigo-300"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsx("button",{onClick:N,className:"flex-1 bg-indigo-600 hover:bg-indigo-700 text-white py-2 rounded-lg",children:a?"Update Event":"Add Event"}),a&&b.jsx("button",{onClick:M,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-700 py-2 rounded-lg",children:"Cancel"})]})]})]}),b.jsxs("div",{className:"max-w-2xl mx-auto mt-6",children:[b.jsx("label",{className:"block text-sm mb-2 text-gray-700",children:"Filter by Date:"}),b.jsx("input",{type:"date",value:c,onChange:K=>d(K.target.value),className:"w-full p-2 border border-gray-300 rounded"})]}),b.jsxs("div",{className:"max-w-2xl mx-auto mt-6",children:[b.jsx("h3",{className:"text-lg font-semibold text-indigo-700 mb-4",children:"Events"}),X.length>0?b.jsx("ul",{className:"space-y-4",children:X.map(K=>b.jsx("li",{className:"bg-gray-50 p-4 rounded-lg shadow",children:b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"font-bold text-indigo-600",children:K.title}),b.jsx("p",{className:"text-sm text-gray-600",children:K.description}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["📅"," ",new Date(K.date).toLocaleString("en-GB",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})]})]}),b.jsxs("div",{className:"space-x-2",children:[b.jsx("button",{onClick:()=>B(K),className:"text-indigo-500 hover:underline text-sm",children:"Edit"}),b.jsx("button",{onClick:()=>k(K._id),className:"text-red-500 hover:underline text-sm",children:"Delete"})]})]})},K._id))}):b.jsx("p",{className:"text-sm text-gray-500",children:"No events found."}),G.length>X.length&&b.jsx("div",{className:"text-center mt-4",children:b.jsx("button",{onClick:()=>g(K=>K+1),className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"Load More"})})]})]})};function WP({title:n,titleId:e,...t},s){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?z.createElement("title",{id:e},n):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const ZP=z.forwardRef(WP);function JP({title:n,titleId:e,...t},s){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?z.createElement("title",{id:e},n):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205 3 1m1.5.5-1.5-.5M6.75 7.364V3h-3v18m3-13.636 10.5-3.819"}))}const e4=z.forwardRef(JP);function t4({title:n,titleId:e,...t},s){return z.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:s,"aria-labelledby":e},t),n?z.createElement("title",{id:e},n):null,z.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const n4=z.forwardRef(t4),r4="http://localhost:5000",i4=()=>{const[n,e]=z.useState([]);return z.useEffect(()=>{(async()=>{try{const s=await Pe.get(`${r4}/api/users/students`);e(s.data)}catch{_t.error("Failed to fetch student list.")}})()},[]),b.jsxs("div",{className:"max-w-6xl mx-auto mt-8 px-4 sm:px-6 lg:px-8",children:[b.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-indigo-700 mb-8 sm:mb-10 text-center",children:"🧑‍🎓 Student Directory"}),b.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:n.map(t=>b.jsxs("div",{className:"bg-gradient-to-br from-white to-slate-50 p-5 sm:p-6 rounded-xl sm:rounded-2xl shadow-md hover:shadow-lg border border-gray-200 transition-all duration-300",children:[b.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-3 sm:mb-4",children:[b.jsx(n4,{className:"h-9 w-9 sm:h-10 sm:w-10 text-indigo-500"}),b.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-800",children:t.username})]}),b.jsxs("div",{className:"space-y-2 text-gray-600 text-sm sm:text-base",children:[b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(ZP,{className:"h-5 w-5 text-gray-500"}),b.jsx("span",{className:"break-words",children:t.email})]}),b.jsxs("div",{className:"flex items-center gap-2",children:[b.jsx(e4,{className:"h-5 w-5 text-gray-500"}),b.jsxs("span",{className:"inline-block bg-indigo-100 text-indigo-700 px-2 py-0.5 rounded-full text-xs font-medium",children:["Room No: ",t.roomNo]})]})]})]},t._id))})]})},s4=()=>{const[n,e]=z.useState("register"),[t,s]=z.useState({});z.useEffect(()=>{(async()=>{try{const c=await ga(),p=await Pe.post("http://localhost:5000/api/users/getUserByFirebaseUid",{firebaseUid:c});s(p.data)}catch(c){console.error("Error fetching user data:",c)}})()},[]);const a=()=>{switch(n){case"register":return b.jsx($P,{});case"notice":return b.jsx(KP,{});case"leaves":return b.jsx(QP,{});case"complaints":return b.jsx(YP,{});case"events":return b.jsx(XP,{});case"students":return b.jsx(i4,{});default:return b.jsx("div",{children:"Select a tab"})}};return b.jsxs("div",{className:"flex flex-col md:flex-row h-screen",children:[b.jsx("header",{className:"fixed top-0 left-0 right-0 z-50 bg-indigo-800 text-white p-5 shadow-lg h-16",children:b.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center h-full",children:[b.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Hostel Management System"}),b.jsxs("div",{className:"flex items-center gap-6",children:[t.roll&&b.jsx("span",{className:"hidden sm:inline-block bg-indigo-700/30 px-4 py-1 rounded-full font-medium",children:t.roll}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("span",{className:"hidden md:inline-block font-medium",children:["Welcome, ",t.name]}),b.jsx("button",{className:"bg-red-500/90 hover:bg-red-600 text-white px-4 py-2 rounded-lg shadow-md transform transition-all hover:scale-105 active:scale-95",onClick:()=>console.log("Logout clicked"),children:"Logout →"})]})]})]})}),b.jsx("div",{className:"md:w-64 w-full pt-16 md:pt-0 md:h-screen",children:b.jsx(HP,{currentTab:n,setCurrentTab:e})}),b.jsx("main",{className:"flex-1 bg-gray-100 p-4 sm:p-6 overflow-y-auto h-[calc(100vh-64px)] pt-20 md:pt-6",children:a()})]})},a4="http://localhost:5000";console.log(a4);const o4=()=>{const[n,e]=z.useState({name:"",id:"",room:"",hostel:"",contact:"",phone:"",rollNo:"",isProfileComplete:!1}),[t,s]=z.useState(!1),[a,l]=z.useState("profile"),[c,d]=z.useState(!1),[p,g]=z.useState(!0);z.useEffect(()=>{(async()=>{try{const O=await ga(),Ae=(await Pe.post("http://localhost:5000/api/users/getUserByFirebaseUid",{firebaseUid:O})).data,je={name:Ae.username||"",id:Ae.rollNo||"",room:Ae.roomNo||"",hostel:Ae.hostel||"",contact:Ae.email||"",phone:Ae.phone||"",rollNo:Ae.rollNo,isProfileComplete:Ae.isProfileComplete};e(je),Ae.isProfileComplete?(s(!0),l("dashboard")):(s(!1),l("profile"))}catch(O){console.error("Error fetching user data:",O)}})()},[]);const v=async x=>{x.preventDefault();try{const O=await ga();await Pe.post("http://localhost:5000/api/users/updateProfile",{firebaseUid:O,hostel:n.hostel,phoneNo:n.phone,isUpdated:n.isUpdated}),alert("Profile updated successfully!"),d(!1)}catch(O){console.error("Error updating profile:",O),alert("Failed to update profile.")}},[T,S]=z.useState(!1),[M,N]=z.useState([{id:1,title:"Hostel Maintenance",date:"2023-05-15",content:"Scheduled maintenance on May 20th from 2-5 PM"},{id:2,title:"Fee Payment Deadline",date:"2023-05-10",content:"Last date for hostel fee payment is May 25th"}]),[B,k]=z.useState([{id:1,title:"Hostel Cultural Night",date:"2023-06-05",time:"7:00 PM"},{id:2,title:"Sports Tournament",date:"2023-06-12",time:"4:00 PM"}]),[G,X]=z.useState([{id:1,title:"AC not working",status:"Resolved",date:"2023-05-01"},{id:2,title:"Water leakage",status:"In Progress",date:"2023-05-10"}]),[K,de]=z.useState([{id:1,fromDate:"2023-04-15",toDate:"2023-04-18",reason:"Family function",status:"Approved",date:"2023-04-10"},{id:2,fromDate:"2023-05-05",toDate:"2023-05-07",reason:"Medical emergency",status:"Pending",date:"2023-05-02"}]);rg();const le=async x=>{x.preventDefault();try{const O=await ga(),P="http://localhost:5000",R=new FormData(x.target),Ae={firebaseUid:O,name:n.name,rollNo:n.rollNo,roomNo:n.room,title:R.get("title"),type:R.get("type")||"",description:R.get("description"),reportedDate:new Date().toISOString(),status:"Pending"},je=await Pe.post(`${P}/api/complaints/submit`,Ae);alert("Complaint submitted successfully!"),x.target.reset(),X(J=>[...J,je.data])}catch(O){console.error("Error submitting complaint:",O),alert("Failed to submit complaint. Please try again.")}};z.useEffect(()=>{t&&(async()=>{try{const O=await ga(),R=await Pe.get(`http://localhost:5000/api/complaints/user/${O}`);X(R.data)}catch(O){console.error("Error fetching complaints:",O)}})()},[t]),z.useEffect(()=>{t&&(async()=>{try{const O=await Pe.get("/api/notice");N(O.data.reverse())}catch(O){console.error(O),_t.error("Failed to fetch notices.")}})()},[t]),z.useEffect(()=>{(async()=>{try{const O=await Pe.get("/api/events");k(O.data)}catch{_t.error("Failed to fetch events.")}})()},[]);const be=async x=>{x.preventDefault();try{const O=await ga(),P="http://localhost:5000",R=new FormData(x.target),Ae={firebaseUid:O,name:n.name,rollNo:n.rollNo,hostelName:n.hostel,roomNo:n.room,phoneNo:n.phone,fromDate:R.get("fromDate"),toDate:R.get("toDate"),address:R.get("address"),reasonType:R.get("reasonType"),otherReason:R.get("otherReason")||"",parentPhone:R.get("parentPhone"),status:"Pending",date:new Date().toISOString()};await Pe.post(`${P}/api/leave/apply`,Ae),alert("Leave application submitted successfully!"),x.target.reset(),S(!1)}catch(O){console.error("Error submitting leave application:",O),alert("Failed to submit leave application.")}};z.useEffect(()=>{(async()=>{try{const O=await ga(),R=await Pe.get(`http://localhost:5000/api/leave/history/${O}`);console.log(R),de(R.data)}catch(O){console.error("Error fetching leave history:",O)}})()},[]);const V=x=>{switch(x.toLowerCase()){case"pending":return"bg-yellow-100 text-yellow-800";case"in progress":return"bg-blue-100 text-blue-800";case"approved":return"bg-green-100 text-green-800";case"rejected":return"bg-red-100 text-red-800";case"resolved":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},C=[{id:"dashboard",label:"Dashboard",icon:"🏠"},{id:"profile",label:"My Profile",icon:"👤"},{id:"leave",label:"Leave Application",icon:"📝"},{id:"complaints",label:"Complaints",icon:"⚠️"},{id:"notices",label:"Notices",icon:"📢"},{id:"events",label:"Events",icon:"🎉"}],I=()=>{g(!p)};return b.jsxs("div",{className:" min-h-screen bg-gray-50",children:[b.jsx("header",{className:"bg-indigo-800 text-white p-5 shadow-lg sticky top-0 z-50",children:b.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[b.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Hostel Management System"}),b.jsxs("div",{className:"flex items-center gap-6",children:[b.jsx("span",{className:"hidden sm:inline-block font-medium bg-indigo-700/30 px-4 py-1 rounded-full",children:n.room}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsxs("span",{className:"hidden md:inline-block font-medium",children:["Welcome, ",n.name]}),b.jsx("button",{className:`bg-red-500/90 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-all\r
                          transform hover:scale-105 active:scale-95 shadow-md`,children:"Logout →"})]})]})]})}),b.jsxs("div",{className:"flex",children:[b.jsx("div",{className:"fixed",children:b.jsxs("aside",{className:`${p?"w-16":"w-64"} bg-indigo-800/95 text-white p-4 h-screen  border-r border-indigo-900/50 transition-all duration-300 ease-in-out relative`,children:[b.jsx("div",{className:"text-center mb-8",children:!p&&b.jsxs("div",{className:"py-4",children:[a.icon,a]})}),b.jsx("nav",{className:"space-y-2",children:C.map(x=>b.jsxs("button",{className:` w-full flex items-center ${p?"justify-center":"px-4"} py-3 rounded-xl transition-all
                ${a===x.id?"bg-indigo-600/90 shadow-inner font-semibold":"hover:bg-indigo-700/50 hover:translate-x-1"}
                ${!t&&x.id!=="profile"?"opacity-50 pointer-events-none":""}`,onClick:()=>{!t&&x.id!=="profile"||l(x.id)},children:[b.jsx("span",{className:"text-lg mr-3",children:x.icon}),!p&&x.label]},x.id))}),b.jsx("button",{onClick:I,className:"absolute -right-3 top-1/2 transform -translate-y-1/2 bg-indigo-200 text-indigo-800 p-1.5 rounded-full shadow-lg hover:shadow-xl border border-indigo-300 group transition-all duration-200 ease-in-out","aria-label":p?"Expand sidebar":"Collapse sidebar",children:b.jsx("div",{className:"flex items-center justify-center bg-indigo-100 rounded-full w-6 h-6 group-hover:bg-indigo-50 group-hover:scale-110 transition-all duration-200",children:p?b.jsx(mV,{size:16,className:"text-indigo-700 group-hover:text-indigo-600"}):b.jsx(fV,{size:16,className:"text-indigo-700 group-hover:text-indigo-600"})})})]})}),b.jsxs("main",{className:"flex-1 p-8 max-w-7xl mx-auto",children:[!t&&b.jsx("div",{className:"mb-6 p-4 bg-yellow-100 text-yellow-800 rounded-lg",children:"⚠️ Please complete your profile to access all features"}),a==="profile"&&b.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100",children:a==="profile"&&b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-8",children:"Profile Details"}),b.jsxs("form",{onSubmit:v,children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),b.jsx("input",{type:"text",value:n.name,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",readOnly:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student ID"}),b.jsx("input",{type:"text",value:n.id,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",readOnly:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Hostel"}),b.jsxs("select",{value:n.hostel,onChange:x=>e({...n,hostel:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",required:!0,children:[b.jsx("option",{value:"",children:"Select Hostel"}),b.jsx("option",{value:"Boys Hostel A",children:"Boys Hostel A"}),b.jsx("option",{value:"Boys Hostel B",children:"Boys Hostel B"}),b.jsx("option",{value:"Girls Hostel A",children:"Girls Hostel A"}),b.jsx("option",{value:"Girls Hostel B",children:"Girls Hostel B"})]})]})]}),b.jsxs("div",{className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),b.jsx("input",{type:"tel",value:n.phone,onChange:x=>e({...n,phone:x.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500",pattern:"[0-9]{10}",required:!0}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"10-digit phone number"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),b.jsx("input",{type:"email",value:n.contact,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Room Number"}),b.jsx("input",{type:"text",value:n.room,className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-100",readOnly:!0})]})]})]}),b.jsxs("div",{className:"mt-8 flex justify-end gap-4",children:[b.jsx("button",{type:"button",onClick:()=>d(!c),className:"px-6 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200",children:c?"Cancel":"Edit Profile"}),c&&b.jsx("button",{type:"submit",className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700",children:"Save Changes"})]})]})]})}),t&&b.jsxs(b.Fragment,{children:[a==="dashboard"&&b.jsxs("div",{className:"space-y-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Dashboard Overview"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Room Number",value:n.room,bg:"bg-blue-100"},{title:"Pending Complaints",value:G.filter(x=>x.status==="Pending").length,bg:"bg-amber-100"},{title:"Leave Requests",value:`${K.filter(x=>x.status==="Pending").length} Pending`,bg:"bg-emerald-100"}].map((x,O)=>b.jsxs("div",{className:`${x.bg} p-6 rounded-2xl shadow-lg border border-white/50`,children:[b.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:x.title}),b.jsx("p",{className:"text-3xl font-bold text-gray-800",children:x.value})]},O))}),b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-gray-100",children:[b.jsx("h3",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center",children:"📌 Recent Notices"}),b.jsx("div",{className:"space-y-6",children:M.map(x=>b.jsxs("div",{className:"pb-4 border-b border-gray-100 last:border-0 last:pb-0",children:[b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"text-lg font-medium text-indigo-600",children:x.title}),b.jsx("p",{className:"text-gray-500 text-sm mt-1",children:x.date})]}),b.jsx("span",{className:"bg-indigo-100 text-indigo-800 text-sm px-3 py-1 rounded-full",children:"Notice"})]}),b.jsx("p",{className:"text-gray-700 mt-2 leading-relaxed",children:x.content})]},x.id))})]})]}),a==="leave"&&b.jsxs("div",{className:"space-y-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Leave Management"}),b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100",children:[b.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-green-600 text-white p-2 rounded-lg",children:"📅"}),"New Leave Application"]}),b.jsxs("form",{onSubmit:be,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[b.jsx("span",{className:"text-red-500",children:"*"}),"Leaving Date"]}),b.jsx("input",{type:"date",name:"fromDate",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[b.jsx("span",{className:"text-red-500",children:"*"}),"Joining Date"]}),b.jsx("input",{type:"date",name:"toDate",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[b.jsx("span",{className:"text-red-500",children:"*"}),"Address During Leave"]}),b.jsx("input",{type:"text",name:"address",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter complete address where you'll stay"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[b.jsx("span",{className:"text-red-500",children:"*"}),"Reason for Leave"]}),b.jsxs("select",{name:"reasonType",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",onChange:x=>S(x.target.value==="Other"),children:[b.jsx("option",{value:"",children:"Select Reason"}),b.jsx("option",{value:"Medical",children:"Medical"}),b.jsx("option",{value:"Family Emergency",children:"Family Emergency"}),b.jsx("option",{value:"Personal",children:"Personal"}),b.jsx("option",{value:"Academic",children:"Academic"}),b.jsx("option",{value:"Other",children:"Other"})]}),T&&b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Please Specify Reason"}),b.jsx("textarea",{name:"otherReason",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",rows:"3",placeholder:"Describe your reason in detail"})]})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[b.jsx("span",{className:"text-red-500",children:"*"}),"Parent's/Guardian's Phone"]}),b.jsx("input",{type:"tel",name:"parentPhone",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter contact number",pattern:"[0-9]{10}"}),b.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"10-digit phone number"})]})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{type:"submit",className:`bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl transition-all\r
                        font-medium text-lg shadow-lg hover:shadow-indigo-200 flex items-center gap-2`,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Submit Application"]})})]})]}),b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100",children:[b.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-purple-600 text-white p-2 rounded-lg",children:"📋"}),"Leave History"]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:K.map(x=>b.jsxs("div",{className:"bg-gray-50/50 p-6 rounded-xl border border-gray-200/30 hover:border-indigo-200/60 transition-all group",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{children:[b.jsxs("h4",{className:"text-lg font-semibold text-gray-900",children:[new Date(x.fromDate).toDateString()," - ",new Date(x.toDate).toDateString()]}),b.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Applied on: ",new Date(x.date).toDateString()]})]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${V(x.status)}`,children:x.status})]}),b.jsxs("div",{className:"space-y-2",children:[b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx("span",{className:"font-medium text-gray-700",children:"Reason:"}),b.jsx("span",{className:"text-gray-600",children:x.reasonType})]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx("span",{className:"font-medium text-gray-700",children:"Address:"}),b.jsx("span",{className:"text-gray-600",children:x.address})]}),b.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[b.jsx("span",{className:"font-medium text-gray-700",children:"Parent's Phone:"}),b.jsx("span",{className:"text-gray-600",children:x.parentPhone})]})]})]},x.id))})]})]}),a==="complaints"&&b.jsxs("div",{className:"space-y-8",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Complaint Management"}),b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100",children:[b.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-indigo-600 text-white p-2 rounded-lg",children:"📝"}),"Submit New Complaint"]}),b.jsxs("form",{onSubmit:le,className:"space-y-6",children:[b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[b.jsx("span",{className:"text-red-500",children:"*"}),"Complaint Title"]}),b.jsx("input",{type:"text",name:"title",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter complaint title..."})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[b.jsx("span",{className:"text-red-500",children:"*"}),"Complaint Type"]}),b.jsx("input",{type:"text",name:"type",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Enter complaint title..."})]}),b.jsxs("div",{children:[b.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-1",children:[b.jsx("span",{className:"text-red-500",children:"*"}),"Detailed Description"]}),b.jsx("textarea",{name:"description",required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all",placeholder:"Describe your complaint in detail..."})]}),b.jsx("div",{className:"flex justify-end",children:b.jsxs("button",{type:"submit",className:`bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-3 rounded-xl transition-all\r
                       font-medium text-lg shadow-lg hover:shadow-indigo-200 flex items-center gap-2`,children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"})}),"Submit Complaint"]})})]})]}),b.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-lg border border-gray-100",children:[b.jsxs("h3",{className:"text-2xl font-semibold text-gray-800 mb-6 flex items-center gap-2",children:[b.jsx("span",{className:"bg-amber-500 text-white p-2 rounded-lg",children:"📋"}),"Complaint History"]}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:G.map(x=>b.jsxs("div",{className:"bg-gray-50/50 p-6 rounded-xl border border-gray-200/30 hover:border-indigo-200/60 transition-all group",children:[b.jsxs("div",{className:"flex justify-between items-start mb-4",children:[b.jsxs("div",{children:[b.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x.title}),b.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Submitted on: ",x.date]})]}),b.jsx("span",{className:`px-3 py-1 rounded-full text-sm ${V(x.status)}`,children:x.status})]}),x.description&&b.jsx("p",{className:"text-gray-700 text-sm leading-relaxed mb-4",children:x.description}),b.jsx("div",{className:"border-t border-gray-200 pt-4 mt-4",children:b.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[b.jsxs("span",{className:"flex items-center gap-1",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:b.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Last updated: ",x.date]}),b.jsxs("span",{className:"bg-gray-200 text-gray-700 px-2 py-1 rounded text-xs",children:["ID: #",x.id]})]})})]},x.id))})]})]}),a==="notices"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Hostel Notices"}),b.jsx("div",{className:"grid grid-cols-1 gap-6",children:M.map(x=>b.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-lg border border-gray-100",children:[b.jsxs("div",{className:"flex items-start justify-between mb-3",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:x.title}),b.jsx("p",{className:"text-sm text-indigo-600 mt-1",children:x.date})]}),b.jsx("span",{className:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm",children:"Official Notice"})]}),b.jsx("p",{className:"text-gray-700 leading-relaxed",children:x.content})]},x.id))})]}),a==="events"&&b.jsxs("div",{className:"space-y-6",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-800",children:"Upcoming Events"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:B.map(x=>b.jsxs("div",{className:`bg-white p-6 rounded-2xl shadow-lg border border-gray-100\r
                                       hover:shadow-xl transition-shadow`,children:[b.jsxs("div",{className:"flex items-center justify-between mb-3",children:[b.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:x.title}),b.jsx("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm",children:"🎉 Event"})]}),b.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[b.jsxs("div",{className:"flex items-center gap-1",children:["📅 ",new Date(x.date).toLocaleString()]}),b.jsxs("div",{className:"flex items-center gap-1",children:["🕒 ",x.time]})]})]},x.id))})]})]})]})]})]})};function l4(){return b.jsxs(eR,{children:[b.jsx(FP,{position:"top-right",reverseOrder:!1}),b.jsxs(I1,{children:[b.jsx(du,{path:"/",element:b.jsx(nV,{})}),b.jsx(du,{path:"/SuperAdmin",element:b.jsx(qP,{})}),b.jsx(du,{path:"/rector",element:b.jsx(s4,{})}),b.jsx(du,{path:"/student",element:b.jsx(o4,{})})]})]})}zx.createRoot(document.getElementById("root")).render(b.jsx(z.StrictMode,{children:b.jsx(l4,{})}));
